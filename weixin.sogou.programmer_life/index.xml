<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:media="http://search.yahoo.com/mrss/">
<channel>
<title>程序人生</title>
<link>https://henix.github.io/feeds/weixin.sogou.programmer_life/</link>
<description>十年漫漫程序人生,打过各种杂,也做过让我骄傲的软件;管理过数十人的团队,还带领一班兄弟姐妹创过业,目前在硅谷一家创业公司担任 VP.关注程序人生,了解程序猿,学做程序猿,做好程序猿,让我们的程序人生精...</description>
<language>zh-cn</language>
<lastBuildDate>Fri, 16 Nov 2018 02:16:45 +0800</lastBuildDate>
<item>
<title>数据：逍遥游</title>
<link>https://henix.github.io/feeds/weixin.sogou.programmer_life/2018-11-15-1000000121.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?timestamp=1542305802&amp;amp;src=3&amp;amp;ver=1&amp;amp;signature=hVIZ*K1Ga-Thh0b4vK5v2WjJBRWoy6MO1P30p-tt6j0vLbHhiOjElo7q*DdNWxW0biKXFxQF*Zh56dzTrNFH3h8ugm3IuD95temPCGNlBvMXOe0aPfSXcRRgo3ZaMbSeYMZ23Es-SzVrH0CXtZpO*0s2yyWKfcwKKseIoLuoBCk=&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;div id=&quot;js_top_ad_area&quot; class=&quot;top_banner&quot;&gt;&lt;/div&gt;&lt;div class=&quot;rich_media_inner&quot;&gt;

        
        
        &lt;div id=&quot;page-content&quot; class=&quot;rich_media_area_primary&quot;&gt;
          &lt;div class=&quot;rich_media_area_primary_inner&quot;&gt;
                                    
                        

            &lt;div id=&quot;img-content&quot;&gt;

                
                &lt;h2 class=&quot;rich_media_title&quot; id=&quot;activity-name&quot;&gt;
                    
                    
                    数据：逍遥游

                                                                                &lt;/h2&gt;
                &lt;div id=&quot;meta_content&quot; class=&quot;rich_media_meta_list&quot;&gt;
                                                            &lt;span id=&quot;copyright_logo&quot; class=&quot;rich_media_meta rich_media_meta_text meta_tag_text&quot;&gt;原创：&lt;/span&gt;
                                                            &lt;span class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;
                                                &lt;span id=&quot;js_author_name&quot; class=&quot;rich_media_meta_link&quot; data-rewardsn=&quot;&quot; data-timestamp=&quot;&quot; data-canreward=&quot;0&quot;&gt;陈小天&lt;/span&gt;
                                            &lt;/span&gt;
                                        
                                       
                                                                    
                                        &lt;span class=&quot;rich_media_meta rich_media_meta_nickname&quot; id=&quot;profileBt&quot;&gt;
                      &lt;a href=&quot;javascript:void(0);&quot; id=&quot;js_name&quot;&gt;
                        程序人生                      &lt;/a&gt;
                      &lt;div id=&quot;js_profile_qrcode&quot; class=&quot;profile_container&quot; style=&quot;display:none;&quot;&gt;
                          &lt;div class=&quot;profile_inner&quot;&gt;
                              &lt;strong class=&quot;profile_nickname&quot;&gt;程序人生&lt;/strong&gt;
                              &lt;img class=&quot;profile_avatar&quot; id=&quot;js_profile_qrcode_img&quot; src=&quot;&quot; alt=&quot;&quot;&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;微信号&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;programmer_life&lt;/span&gt;
                              &lt;/p&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;功能介绍&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;十年漫漫程序人生，打过各种杂，也做过让我骄傲的软件；管理过数十人的团队，还带领一班兄弟姐妹创过业，目前在硅谷一家创业公司担任 VP。关注程序人生，了解程序猿，学做程序猿，做好程序猿，让我们的程序人生精彩满满。&lt;/span&gt;
                              &lt;/p&gt;
                              
                          &lt;/div&gt;
                          &lt;span class=&quot;profile_arrow_wrp&quot; id=&quot;js_profile_arrow_wrp&quot;&gt;
                              &lt;i class=&quot;profile_arrow arrow_out&quot;&gt;&lt;/i&gt;
                              &lt;i class=&quot;profile_arrow arrow_in&quot;&gt;&lt;/i&gt;
                          &lt;/span&gt;
                      &lt;/div&gt;
                    &lt;/span&gt;


                    &lt;em id=&quot;publish_time&quot; class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;&lt;/em&gt;





                &lt;/div&gt;
                
                
                
                
                                                
                                                                
                                
                
                &lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    

                    
                    
                    &lt;blockquote style=&#39;margin-top: 15px;margin-bottom: 15px;border-left-width: 4px;border-left-color: rgb(221, 221, 221);padding-right: 15px;padding-left: 15px;color: rgb(119, 119, 119);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;white-space: normal;background-color: rgb(255, 255, 255);&#39;&gt;&lt;p style=&quot;margin-right: 10px;margin-left: 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;天之苍苍，其正色邪？其远而无所至极邪？其视下也，亦若是则已矣。 - 《逍遥游》&lt;/p&gt;&lt;/blockquote&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;对程序员来说，数据是我们时刻都在打交道的东西。我们的代码如同一台机器，把进入的数据转换或者映射成出来的数据。数学上，不过是：&lt;code style=&#39;font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace;font-size: 12px;margin-right: 2px;margin-left: 2px;padding-right: 5px;padding-left: 5px;white-space: nowrap;border-width: 1px;border-style: solid;border-color: rgb(234, 234, 234);background-color: rgb(248, 248, 248);border-radius: 3px;color: rgb(51, 51, 51);&#39;&gt;y = f(x)&lt;/code&gt; 而已。数据就像庄子口中的鱼，在代码的作用下，一会化身为文件，在文件系统里「沉潜」，一会化身为变量，在内存中「浮动」，一会又扶摇直上，化身为字节流，在网络中「翱翔」。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;周易里说：简易，变易，不易。数据再变化多端，复杂深奥，我们只要厘清了它的概念，摸清了它的脾性，就能掌控它，驾驭它；再从它的千变万化之中，找到一些固定的规律，就能成为它的主人。倒时差睡不着觉，突然想到了这个话题，便欲与诸君聊聊。&lt;/p&gt;&lt;section class=&quot;level2&quot; style=&#39;font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;white-space: normal;background-color: rgb(255, 255, 255);&#39;&gt;&lt;h2 style=&quot;margin-top: 38px;margin-bottom: 10px;font-weight: bold;-webkit-font-smoothing: subpixel-antialiased;cursor: text;font-size: 24px;border-bottom: 2px solid rgb(0, 179, 139);color: rgb(0, 179, 138);height: 57px;line-height: 62px;display: inline-block;&quot;&gt;概念&lt;/h2&gt;&lt;p style=&quot;margin-right: 10px;margin-bottom: 20px;margin-left: 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;概念是事物的本元。含混不清的概念会导致含混不清的关系，进而把思维拖入含混不清的泥潭。工欲善其事，必先正其名。我们看看，围绕着数据，都有哪些概念。&lt;/p&gt;&lt;section class=&quot;level3&quot;&gt;&lt;h3 style=&quot;margin-top: 38px;margin-bottom: 10px;padding-left: 30px;font-weight: bold;-webkit-font-smoothing: subpixel-antialiased;cursor: text;font-size: 18px;color: rgb(8, 156, 187);display: inline-block;height: 45px;line-height: 45px;&quot;&gt;标识&lt;/h3&gt;&lt;p style=&quot;margin-right: 10px;margin-bottom: 20px;margin-left: 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;标识是唯一能够代表数据本身的「名字」。这里有两重含义：1）唯一 2）代表。很多时候我们把标识和名字混淆。我的公众号的名字叫「程序人生」，但这个名字并不代表这个公号，任何公号都可以取名「程序人生」。所以标识必须唯一。在实际的工作中，我们往往只是关注到了标识的唯一性，却忽视了它的代表性。想想看，ID 是否是一个标识？99.999% 的情况下我们都会说 ID 等同于标识。我们通过王小二的身份证号可以精准找到王小二这个人，但是身份证号和王小二之间的联系是脆弱的单向连接关系。我找到了王小二，但单独从王小二身上我们并不能推演出他的身份证。80后大概还记得，大概十几年前，我们的身份证号码经历了 15 位到 18 位的更迭，旧的号码依旧唯一，但它失去了和它联系在一起的数据。标识既然能够代表数据，那么，数据理应也能够使用某种算法确定地推导出其标识；同样的，数据的标识不可能改变，也不应该改变。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;符合这个条件的标识，对于人来说，是虹膜，指纹，DNA，哪怕王小二改名叫王小三，身份证从中国的换成泰国的，她还是那个他。对数据而言，符合这个条件的标识，是数据的 md5，sha1，sha2，sha3 等。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;注意，标识唯一代表数据，但数据的标识可以并不唯一，这个不矛盾。&lt;/p&gt;&lt;/section&gt;&lt;section class=&quot;level3&quot;&gt;&lt;h3 style=&quot;margin-top: 38px;margin-bottom: 10px;padding-left: 30px;font-weight: bold;-webkit-font-smoothing: subpixel-antialiased;cursor: text;font-size: 18px;color: rgb(8, 156, 187);display: inline-block;height: 45px;line-height: 45px;&quot;&gt;地址&lt;/h3&gt;&lt;p style=&quot;margin-right: 10px;margin-bottom: 20px;margin-left: 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;我们剥茧抽丝，把标识从与其纠缠的诸多概念中分离，有利于我们对后续内容的阐述。搞清楚标识后，地址就容易理解多了。地址是用来定位和寻找数据的，它是单向连接的，也是唯一的。从这个角度来说，地址是标识的超集，标识是地址的子集。上文提到的身份证号，就是一个地址。其它常见的地址还有数据库中一条记录的 ID，当然，更准确地说，数据库主机名 + 数据库名 + 表名 + ID，是这条记录的地址。包含完整路径的文件名是文件内容的地址。一个包含 IP 地址和端口的五元组（src ip, src port, dest ip, dest port, protocol）是一个 socket 连接的地址。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;地址和地址对应的内容其实构成了一个逻辑上的 kv store。所以一个文件系统，本质上是一个 kv store，给我一个文件名（key），我就可以找到并且给你它的内容（value）。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;我们说标识是地址的子集，那么如果我们就用数据的标识来寻址数据呢？这打开了一个奇妙的世界 —— 我们标识指向了数据，而数据本身又能推倒出来标识，从而证明 &lt;strong&gt;我要寻址的内容，的确是我要寻址的内容&lt;/strong&gt;。仔细咂摸这句话的威力。举个例子，夜深人静，你猥琐地带上耳机，颤巍巍的右手点开了 苍井空.avi，打开却是「般若波罗蜜多心经」。。。&lt;/p&gt;&lt;/section&gt;&lt;section class=&quot;level3&quot;&gt;&lt;h3 style=&quot;margin-top: 38px;margin-bottom: 10px;padding-left: 30px;font-weight: bold;-webkit-font-smoothing: subpixel-antialiased;cursor: text;font-size: 18px;color: rgb(8, 156, 187);display: inline-block;height: 45px;line-height: 45px;&quot;&gt;引用&lt;/h3&gt;&lt;p style=&quot;margin-right: 10px;margin-bottom: 20px;margin-left: 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;搞懂了地址，那么引用是什么？我们为什么需要引用？引用是一个中间人（middleware），它把数据的地址和处理数据的上下文联系起来。人的名字就是一个最重要的引用。有了名字，人们便不必费力地记忆 9527，而是使用「华安」来指代 9527。在华府的上下文里，9527 是华安，出了华府，就是伯虎。所以我们说引用把数据的地址和上下文联系起来。从这个意义上讲，引用是一种隔离（indirection），它让被它隔离的上下两层可以互相不知道对方的存在。计算机世界里有句名言：Any problem in computer science can be solved with another layer of indirection。由此可见引用的巨大威力。Clojure 之父 Rich Hickey 在他的演讲 Simple made easy 中说：引用让我们避免糟糕的 PLOP - PLace Oriented Programming。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;有了引用，你可以使用变量名来指代变量的内存地址，从而对数据进行读写，避免了代码被锁死在某种 CPU 的寻址能力上；你可以使用 &lt;code style=&#39;font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace;font-size: 12px;margin-right: 2px;margin-left: 2px;padding-right: 5px;padding-left: 5px;white-space: nowrap;border-width: 1px;border-style: solid;border-color: rgb(234, 234, 234);background-color: rgb(248, 248, 248);border-radius: 3px;color: rgb(51, 51, 51);&#39;&gt;git reset HEAD~1&lt;/code&gt; 而不用关心当前的 &lt;code style=&#39;font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace;font-size: 12px;margin-right: 2px;margin-left: 2px;padding-right: 5px;padding-left: 5px;white-space: nowrap;border-width: 1px;border-style: solid;border-color: rgb(234, 234, 234);background-color: rgb(248, 248, 248);border-radius: 3px;color: rgb(51, 51, 51);&#39;&gt;HEAD&lt;/code&gt; 究竟指向阿猫还是阿狗；你也可以 symbol link 让 current.log 指向系统中当前的日志文件，从而程序不用关心当前日志文件的具体位置。&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section class=&quot;level2&quot; style=&#39;font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;white-space: normal;background-color: rgb(255, 255, 255);&#39;&gt;&lt;h2 style=&quot;margin-top: 38px;margin-bottom: 10px;font-weight: bold;-webkit-font-smoothing: subpixel-antialiased;cursor: text;font-size: 24px;border-bottom: 2px solid rgb(0, 179, 139);color: rgb(0, 179, 138);height: 57px;line-height: 62px;display: inline-block;&quot;&gt;特性&lt;/h2&gt;&lt;p style=&quot;margin-right: 10px;margin-bottom: 20px;margin-left: 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;区分清楚数据的标识，地址和引用后，我们接着讲数据应该具备的特性。&lt;/p&gt;&lt;section class=&quot;level3&quot;&gt;&lt;h3 style=&quot;margin-top: 38px;margin-bottom: 10px;padding-left: 30px;font-weight: bold;-webkit-font-smoothing: subpixel-antialiased;cursor: text;font-size: 18px;color: rgb(8, 156, 187);display: inline-block;height: 45px;line-height: 45px;&quot;&gt;不变&lt;/h3&gt;&lt;p style=&quot;margin-right: 10px;margin-bottom: 20px;margin-left: 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;数据最重要的一个特性是：数据本质上是不可变的。这个论点很反大家的直觉，但如果我们加上时空的维度，就好理解一些。假设我们有数据 D0，在 t1 时刻，发生了事件 E1，导致这个数据迁移到 D1。这是数据发生变化的基本模式。我们目前的处理方式是：in-place update —— 直接把 D0 指向的内存地址或者文件位置写入 D1 的内容。数据 D0 变成了 D1，所以，我们认为它是可变的。然而，在 t0 时刻，数据依旧是 D0，这个事实是无法改变的。如果我们认清了这一点，不要做 in-place update，就能大大简化我们处理问题的方法。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;比如在多线程的上下文，线程 alice，bob 和 tyr 都拿到了 t0 时刻的数据 D0 的引用。alice 使用她的引用，把 D0 迁移到 D1，并不会影响到 bob 和 tyr 对 D0 的使用，在他们各自的世界里，他们依旧看到的是 D0。这样，bob 和 tyr 不必担心 alice 的写入行为导致他们的代码崩溃，因而无所谓关键区的保护和上锁了，也就意味着 alice，bob 和 tyr 尽管作用于同一个数据之上，它们并不需要知道彼此的存在。从这个意义上讲，数据的不可变可以大大降低代码的上下文依赖。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;多线程的这个例子放在 git 上，alice，bob 和 tyr 就是从同一个 master 分离出来的几个分支。它们可以独立完成它们的工作，互不干扰。只有当 alice 要把自身的工作合并到 master 时，她才需要看看 master 在最新的时刻和自己从 master 分离出来的时刻发生了哪些变化，自己能否适应这些变化：是 rebase，merge 还是 resolve conflict。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;「&lt;span style=&#39;color: rgb(84, 84, 84);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;text-align: justify;white-space: pre-wrap;background-color: rgb(255, 255, 255);&#39;&gt;数据不可变&lt;/span&gt;」这种看待数据的方式有着弥足珍贵的价值。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;数据在内存中不可变，可以高效解决并发问题。大部分函数式编程语言使用了这一特性，让简洁可并发的代码易如反掌。不可变并不意味着数据不可修改，而是修改之后的状态并不影响修改之前的状态。要达到这样的效果，最直白的方法是只要有修改，就进行内存复制，但这种方式低效。persistent data structure 的发明和使用，让数据的不可变在性能上和效率上具备可操作性。&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.5931758530183727&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/SER9L29WQ080gcAJuAQmryibP0vXicTtWLAlWxzLyRgGRzxGn9j7ajicjpqia1K5ib4sZoZibiaErZQiaYhYxDzJ2r5WYA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;762&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;数据在持久化存储（比如硬盘）上不可变，可以用于追踪版本的变化。git 通过这种方式打造了一个极为特别的文件系统，在 VCS（Version Control System）领域舍我其谁。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;不变意味着数据可以用其标识进行寻址，这样数据便和位置无关，可以放在任何地方：可以在远端的自己并不拥有主权的服务器上，也可能在本地的某个角落。它可以被缓存，可以被验真，可以被高效地保存（无损压缩），可以衍生出新的数据并且追踪和验证这些衍生数据。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;解释一下数据的衍生。比如说一张 3200x1800 的照片 —— 我们将其衍生出 800x450 的缩略图。照片的寻址使用 sha2，在衍生出来的缩略图中我们携带原图的 sha2 以及衍生过程所使用的算法。假设原图的 sha2 地址是 abcd，缩略图是 efgh，那么，我们可以从衍生出来的缩略图中找到原图的地址 abcd，并且进而拿到原图的内容。之后我们可以用相同的算法算出缩略图，然后计算其地址，如果是 efgh，那么可以证明这个缩略图衍生自原图。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;稍稍多说两句 git。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;git 对自己的定位是 content-addressable file system。VCS 只是 git 能力的一种体现而已（而代码管理仅仅是 VCS 的一种应用而已，看看，我们就这么暴殄天物）。所谓 content-addressable，就是上文中我们说可以用数据本身的标识来寻址数据。用数据的标识来寻址数据，其先决条件一定是是数据不可变，二者相辅相成。因为唯有数据不可变，数据的标识才不变，才能够用作寻址的手段。git 使用这种方式把一个个文件组织成一棵树，再生成一个指向这棵树的 commit。之后，数据内容的变化导致新的树的产生，最终形成一个庞杂的 DAG（有向无环图）：&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.716&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/SER9L29WQ0icEn6eBEsibQCthPDl5LotNm8tFByI2utoI0Mvic0WX8eYE4dHZXR3ic9FZRvcfzBxo8pxNROBa0OL5A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;500&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;然而，我们知道，光有地址还无法无法方便使用数据，我们需要引用，于是有了 head / tag / branch，让我们可以给一个个枯燥难懂的 sha1 地址起名，比如默认的 master branch，某个 release 的 tag，它们都是对一个个 commit 地址的引用：&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;1.066&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/SER9L29WQ080gcAJuAQmryibP0vXicTtWLTlIe8CYV6Ffzb0uJuKA32hrJNluSHSL7HB6WU4bw3j8eR09cxpqcDQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;500&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;IPFS（Inter-Planetary File System）进一步把 git 用来描述文件和目录树的 DAG 和 p2p 网络结合起来，打造了一个去中心化的文件系统。我们先抛开 p2p 这部分不谈，看看把整个文件系统用 content-addressable 的方式来描述有什么好处？首先，寻址到的文件能够自证其白，你想要找的 QmarHSr9（苍井空.avi 的 content-address），就是你想要的 avi，一帧不多，一帧不少。其次，你可以在文件的不同版本中漫游。由于每次改动都会导致产生新的标识，从而生成了一个新的树，所以任意时刻的改动都可以很方便地被找到。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;和现有的文件系统相比，你也许会担心这种文件系统对资源的额外消耗。的确多了不少，但这是值得的。就跟函数式编程语言的 persistent data structure，浪费了一些内存，但收获到的好处远比这种浪费要多得多。文件现在有了版本，可以恢复到任意状态； 可以自证 —— 地址的的确确代表了内容；由于这种寻址方式和具体的位置无关，我们还可以把文件的不同部分分散到不同的机器上 —— 因为文件的每个部分都可以自证，所以我们不担心恶意的机器上篡改文件内容。让文件的访问和文件在互联网或者局域网上的位置无关，同样的内容全网只会逻辑（物理上还是会有冗余）上存在一份（因为地址相同），可以大大减少存储（想想 江南 style 全网有多少份拷贝），同时提高访问效率 —— 想象一下，5G 时代，网络的速度高于磁盘访问的速度，文件的不同部分存在不同的地方能够更快地获取文件。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;5G 时代会大大改变我们获取数据的方式：1) 网络的速度高于磁盘访问的速度，因而数据从本地读取和从网络读取几乎没有差异 2) 本地的存储容量在很短时间内被网络数据塞满（假设 5G 速度达到 10Gbps，你的 1T 硬盘也就能装 20 分钟的流量承载的数据），在这样的环境下，数据的分布式存储是是唯一选择。所以，IPFS 背后的技术，在 5G 到来后会有非常广阔的前景。&lt;/p&gt;&lt;/section&gt;&lt;section class=&quot;level3&quot;&gt;&lt;h3 style=&quot;margin-top: 38px;margin-bottom: 10px;padding-left: 30px;font-weight: bold;-webkit-font-smoothing: subpixel-antialiased;cursor: text;font-size: 18px;color: rgb(8, 156, 187);display: inline-block;height: 45px;line-height: 45px;&quot;&gt;连接&lt;/h3&gt;&lt;p style=&quot;margin-right: 10px;margin-bottom: 20px;margin-left: 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;所谓聚沙成堆，集腋成裘，数据与数据产生连接会有量变到质变的效果。1个字节的数据仅能容纳 256 个状态，而 1GB 数据可以承载王者荣耀。一个文件描述了伏尔加河畔的一个生活场景，而一组文件可以构成恢弘的「战争与和平」。World Wide Web 对人类世界的巨大贡献是数据通过 URI 有了唯一的地址，这些地址进而通过超文本链接的形式被连接起来。于是，原本零零散散于 FTP 之上的文件以一种网状的结构被重新组织 —— 信息不再是孤零零宅着，而是以某种顺序构成一个个鲜活的有机体。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;数据的连接大大拓展了数据的边界和数据本身的意义，然而，web 最大的问题也源自于它的组织方式：URI。URI 是 Rich 口中典型的 PLOP，它混淆了地址和标识。URI 背后的网站可能会消失，URI 映射到的内容可能会损坏，因此，你消费一个 URI 是一件不确定的事情：它可能 404，可能 500，可能两小时前和两小时后拿到的内容完全不同。这种不确定性使得我们在处理连接时需要耗费很多额外的精力去处理各种异常。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;我们上面讲到，git 通过一棵不可变的树来管理内容。如果内容变化，会产生新的树。如果把一个网站看成是一个 git repo 组成的小树林，那么 web 就是千千万万个小树林交织成的亚马逊。网站 A 连接网站 B 的数据，并不会因为网站 B 修改该数据而失效，因为在 git 的世界里，一个对 commit hash 的引用永远有效（假设 git push -f 被禁用）。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;在不远的将来，我们的 web 会以 git 的方式去连接。当这种连接形成后，web 不再仅仅是一种「空间」上的连接，还是一种「时间」上的连接。到那时，就没有 internet archive 什么事了，因为，一切过去，现在，以及未来都会以一种不可变的方式被记录和连接起来。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;以上。&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;继续预告一下我们这次区块链漫游指南北京站的活动，机不可失，欢迎大家翘班来听：&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;2&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/SER9L29WQ085TaYzWY8WRLlssoJbtrPBcibv7cxtWibiblmTlDdGq2kndvTfsuotH2Z39elbzRBgO9Yk4aQCmtadQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1000&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;pre style=&quot;margin-top: 15px;margin-bottom: 15px;padding: 6px 10px;max-width: 100%;color: rgb(51, 51, 51);letter-spacing: 0.544px;text-align: justify;background-color: rgb(255, 255, 255);font-family: monospace, serif;font-size: 13px;white-space: pre-wrap;border-width: 1px;border-style: solid;border-color: rgb(204, 204, 204);line-height: 19px;overflow: auto;border-radius: 3px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;code class=&quot;&quot; style=&#39;padding: 0.5em;max-width: 100%;font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace;font-size: 12px;white-space: pre;border-width: 0px;border-style: initial;border-color: initial;background: rgb(240, 240, 240);border-radius: 3px;display: block;overflow-x: auto;text-size-adjust: none;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;&lt;span style=&quot;max-width: 100%;color: rgb(0, 0, 0);box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;12:30-13:00: 签到
13:00-13:50: 公开可验证：去中心化的必经之路
13:55-14:15: 场景一：去中心化账本 &lt;span class=&quot;&quot; style=&quot;max-width: 100%;font-weight: bold;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;-&lt;/span&gt; 比特币
14:15-14:35: 场景二：去中心化计算 &lt;span class=&quot;&quot; style=&quot;max-width: 100%;font-weight: bold;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;-&lt;/span&gt; 以太坊
14:35-14:55: 场景三：去中心化文件系统 &lt;span class=&quot;&quot; style=&quot;max-width: 100%;font-weight: bold;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;&quot; style=&quot;max-width: 100%;font-weight: bold;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;IPFS&lt;br style=&quot;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;/span&gt;15:00-15:45: 入门指南：如何在以太坊上构建 &lt;span class=&quot;&quot; style=&quot;max-width: 100%;font-weight: bold;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;dApps&lt;br style=&quot;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;/span&gt;15:50-16:30: 入门指南：如何使用 &lt;span class=&quot;&quot; style=&quot;max-width: 100%;font-weight: bold;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;ArcBlock&lt;/span&gt; &lt;span class=&quot;&quot; style=&quot;max-width: 100%;font-weight: bold;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;Forge&lt;/span&gt; 锻造你自己的区块链&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;text-align: justify;white-space: pre-wrap;color: rgb(84, 84, 84);line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;这次活动我们和承办方微软创新车库一起，献上一场长达四个小时的饕餮盛宴。时间上对上班族可能不那么友好，但内容绝对精彩，不容错过！&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;好看的皮囊千篇一律，有趣的灵魂万里挑一。欢迎大家多多关注「程序人生」，在这里你能接触到不一样的思考，不一样的人生。&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;
                &lt;/div&gt;
                &lt;script nonce=&quot;1305816095&quot; type=&quot;text/javascript&quot;&gt;
                    var first_sceen__time = (+new Date());

                    if (&quot;&quot; == 1 &amp;&amp; document.getElementById(&#39;js_content&#39;)) {
                        document.getElementById(&#39;js_content&#39;).addEventListener(&quot;selectstart&quot;,function(e){ e.preventDefault(); });
                    }

                    
                    (function(){
                        if (navigator.userAgent.indexOf(&quot;WindowsWechat&quot;) != -1){
                            var link = document.createElement(&#39;link&#39;);
                            var head = document.getElementsByTagName(&#39;head&#39;)[0];
                            link.rel = &#39;stylesheet&#39;;
                            link.type = &#39;text/css&#39;;
                            link.href = &quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/winwx3ec991.css&quot;;
                            head.appendChild(link);
                        }
                    })();
                &lt;/script&gt;

                
                &lt;div class=&quot;ct_mpda_wrp&quot; id=&quot;js_sponsor_ad_area&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;

                
                                &lt;div class=&quot;reward_area tc reward_area_primary&quot; id=&quot;js_reward_area&quot; style=&quot;display:none;&quot;&gt;
                    &lt;div class=&quot;reward-avatar&quot; style=&quot;display: none;&quot; id=&quot;js_reward_avatar&quot;&gt;
                        &lt;img src=&quot;&quot; alt=&quot;&quot; id=&quot;js_reward_author_head&quot;&gt;
                    &lt;/div&gt;
                    
                                       
                                                &lt;div class=&quot;reward-author&quot; style=&quot;display: none;&quot; id=&quot;js_reward_author&quot;&gt;陈小天&lt;/div&gt;
                                            
                                       

                                        &lt;p&gt;
                        &lt;a class=&quot;reward_button&quot; id=&quot;js_reward_link&quot; href=&quot;##&quot;&gt;&lt;span id=&quot;js_reward_link_text&quot;&gt;赞赏&lt;/span&gt;&lt;/a&gt;
                    &lt;/p&gt;
                    &lt;div id=&quot;js_reward_inner&quot; class=&quot;reward_area_inner&quot; style=&quot;display:none;&quot;&gt;
                        &lt;p class=&quot;weui-loadmore weui-loadmore_line reward_user_tips&quot; id=&quot;js_reward_total_parent&quot;&gt;
                          &lt;span class=&quot;weui-loadmore__tips&quot;&gt;&lt;a href=&quot;##&quot; id=&quot;js_reward_total&quot;&gt;&lt;/a&gt; 人&lt;span id=&quot;js_reward_total_text&quot;&gt;赞赏&lt;/span&gt;&lt;/span&gt;
                        &lt;/p&gt;
                        
                        &lt;div id=&quot;js_reward_list&quot; class=&quot;reward_user_list&quot;&gt;&lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                                &lt;div class=&quot;reward_qrcode_area reward_area tc&quot; id=&quot;js_reward_qrcode&quot; style=&quot;display:none;&quot;&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;长按二维码向我转账&lt;/p&gt;
                                        &lt;p class=&quot;reward_tips&quot;&gt;&lt;/p&gt;
                    &lt;span class=&quot;reward_qrcode_img_wrp&quot;&gt;&lt;img class=&quot;reward_qrcode_img&quot; id=&quot;js_reward_qrcode_img&quot;&gt;&lt;/span&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;受苹果公司新规定影响，微信 iOS 版的赞赏功能被关闭，可通过二维码转账支持公众号。&lt;/p&gt;
                &lt;/div&gt;
                                                
                
                            &lt;/div&gt;
                                    
                        


                        
            &lt;ul id=&quot;js_hotspot_area&quot; class=&quot;article_extend_area&quot;&gt;&lt;/ul&gt;


            
                        &lt;div class=&quot;rich_media_tool&quot; id=&quot;js_toobar3&quot;&gt;

                                            &lt;div id=&quot;js_read_area3&quot; class=&quot;media_tool_meta tips_global_primary meta_primary&quot; style=&quot;display:none;&quot;&gt;阅读 &lt;span id=&quot;readNum3&quot;&gt;&lt;/span&gt;&lt;/div&gt;

                &lt;span style=&quot;display:none;&quot; class=&quot;media_tool_meta meta_extra meta_praise&quot; id=&quot;like3&quot;&gt;
                    &lt;i class=&quot;icon_praise_gray&quot;&gt;&lt;/i&gt;&lt;span class=&quot;praise_num&quot; id=&quot;likeNum3&quot;&gt;&lt;/span&gt;
                &lt;/span&gt;

                

            &lt;/div&gt;


                        &lt;div class=&quot;rich_media_tool&quot; id=&quot;js_sg_bar&quot;&gt;

                                
            &lt;/div&gt;
                      &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class=&quot;rich_media_area_primary sougou&quot; id=&quot;sg_tj&quot; style=&quot;display:none&quot;&gt;&lt;/div&gt;


        
        &lt;div class=&quot;rich_media_area_extra&quot;&gt;
          &lt;div class=&quot;rich_media_area_extra_inner&quot;&gt;
              
              &lt;div id=&quot;js_share_appmsg&quot;&gt;
              &lt;/div&gt;

              
                            &lt;div class=&quot;mpda_bottom_container&quot; id=&quot;js_bottom_ad_area&quot;&gt;&lt;/div&gt;
                            
              &lt;div id=&quot;js_iframetest&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;
                            
                            
              &lt;div class=&quot;rich_media_extra rich_media_extra_discuss&quot; id=&quot;js_cmt_container&quot; style=&quot;display:none&quot;&gt;
                

                
                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_friend_cmt_area&quot; style=&quot;display:none&quot;&gt;
                  
                  
                  
                &lt;/div&gt;

                                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_cmt_area&quot; style=&quot;display:none&quot;&gt;
                &lt;/div&gt;
                              &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        
        &lt;div id=&quot;js_pc_qr_code&quot; class=&quot;qr_code_pc_outer&quot; style=&quot;display:none;&quot;&gt;
            &lt;div class=&quot;qr_code_pc_inner&quot;&gt;
                &lt;div class=&quot;qr_code_pc&quot;&gt;
                    &lt;img id=&quot;js_pc_qr_code_img&quot; class=&quot;qr_code_pc_img&quot;&gt;
                    &lt;p&gt;微信扫一扫&lt;br&gt;关注该公众号&lt;/p&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;</description>
<author>陈小天</author>
<guid isPermaLink="false">2018-11-15-1000000121</guid>
<pubDate>Thu, 15 Nov 2018 00:00:00 +0800</pubDate>
</item>
<item>
<title>区块链技术漫游指南</title>
<link>https://henix.github.io/feeds/weixin.sogou.programmer_life/2018-11-12-1000000120.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?timestamp=1542305802&amp;amp;src=3&amp;amp;ver=1&amp;amp;signature=hVIZ*K1Ga-Thh0b4vK5v2WjJBRWoy6MO1P30p-tt6j0vLbHhiOjElo7q*DdNWxW0biKXFxQF*Zh56dzTrNFH3rL88bBChnGxnf4Agc6ZSK7IZgNXxBitI1tkzvHiK6CpNko9St6hT50ANo6EbKUZzQJqjgTPPtu5KomLqL5IBbY=&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;div id=&quot;js_top_ad_area&quot; class=&quot;top_banner&quot;&gt;&lt;/div&gt;&lt;div class=&quot;rich_media_inner&quot;&gt;

        
        
        &lt;div id=&quot;page-content&quot; class=&quot;rich_media_area_primary&quot;&gt;
          &lt;div class=&quot;rich_media_area_primary_inner&quot;&gt;
                                    
                        

            &lt;div id=&quot;img-content&quot;&gt;

                
                &lt;h2 class=&quot;rich_media_title&quot; id=&quot;activity-name&quot;&gt;
                    
                    
                    区块链技术漫游指南

                                                                                &lt;/h2&gt;
                &lt;div id=&quot;meta_content&quot; class=&quot;rich_media_meta_list&quot;&gt;
                                                            &lt;span id=&quot;copyright_logo&quot; class=&quot;rich_media_meta rich_media_meta_text meta_tag_text&quot;&gt;原创：&lt;/span&gt;
                                                            &lt;span class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;
                                                &lt;span id=&quot;js_author_name&quot; class=&quot;rich_media_meta_link&quot; data-rewardsn=&quot;&quot; data-timestamp=&quot;&quot; data-canreward=&quot;0&quot;&gt;陈小天&lt;/span&gt;
                                            &lt;/span&gt;
                                        
                                       
                                                                    
                                        &lt;span class=&quot;rich_media_meta rich_media_meta_nickname&quot; id=&quot;profileBt&quot;&gt;
                      &lt;a href=&quot;javascript:void(0);&quot; id=&quot;js_name&quot;&gt;
                        程序人生                      &lt;/a&gt;
                      &lt;div id=&quot;js_profile_qrcode&quot; class=&quot;profile_container&quot; style=&quot;display:none;&quot;&gt;
                          &lt;div class=&quot;profile_inner&quot;&gt;
                              &lt;strong class=&quot;profile_nickname&quot;&gt;程序人生&lt;/strong&gt;
                              &lt;img class=&quot;profile_avatar&quot; id=&quot;js_profile_qrcode_img&quot; src=&quot;&quot; alt=&quot;&quot;&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;微信号&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;programmer_life&lt;/span&gt;
                              &lt;/p&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;功能介绍&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;十年漫漫程序人生，打过各种杂，也做过让我骄傲的软件；管理过数十人的团队，还带领一班兄弟姐妹创过业，目前在硅谷一家创业公司担任 VP。关注程序人生，了解程序猿，学做程序猿，做好程序猿，让我们的程序人生精彩满满。&lt;/span&gt;
                              &lt;/p&gt;
                              
                          &lt;/div&gt;
                          &lt;span class=&quot;profile_arrow_wrp&quot; id=&quot;js_profile_arrow_wrp&quot;&gt;
                              &lt;i class=&quot;profile_arrow arrow_out&quot;&gt;&lt;/i&gt;
                              &lt;i class=&quot;profile_arrow arrow_in&quot;&gt;&lt;/i&gt;
                          &lt;/span&gt;
                      &lt;/div&gt;
                    &lt;/span&gt;


                    &lt;em id=&quot;publish_time&quot; class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;&lt;/em&gt;





                &lt;/div&gt;
                
                
                
                
                                                
                                                                
                                
                
                &lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    

                    
                    
                    &lt;p style=&#39;margin-right: 10px;margin-bottom: 20px;margin-left: 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;自从9月份北京黑客马拉松成功举办后，不少朋友希望我们能把团队内部平时举办的 BBL 分享出来，我们觉得这个建议不错，随即开启了 ArcBlock Technical Learning Series，目前已经分享了八个主题，涵盖数据处理和分析，区块链技术，软件开发设计等内容。我们希望通过分享技术主题，即让感兴趣的朋友们收益，大家互相切磋，又能锻炼我们的工程师对知识的归纳和总结的能力 —— 因为，学会一件事情是一回事，能够把所学内容总结并传授出去，是另一回事。在这个过程中，我们学到了很多，也收到了很多反馈。最有意思的是，虽然区块链已经大热了一年多，很多技术群体对它的认知还停留在去中心化，加密货币，以及对智能合约的浅显理解上。所以，我们 ArcBlock 技术团队觉得有必要协力打造一个完整的区块链技术指南，从概念，原理，以及应用几个层次完整阐释我们对区块链技术的理解。目前的大纲如下：&lt;/p&gt;&lt;ol type=&quot;1&quot; style=&quot;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;公开可验证 —— 去中心化的必经之路：通过一步步勾勒在数字资产上如何达成公开可验证，我们帮助你更好地理解为什么区块链是如今这个样子&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ul style=&quot;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;为什么需要公钥加密算法？&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;为什么需要共识算法？&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;为什么需要区块这样的容器？&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;去中心化应用场景：介绍一些典型的区块链项目&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;ul style=&quot;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;去中心化账本 - 比特币：通过构建一个人人可以读写的账本，比特币精巧地模拟了我们日常使用现金系统&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;去中心化计算 - 以太坊：以太坊企图成为一个 dApp 的应用平台，它巧妙地使用 Merkle tree 存储状态，构建了一个令人称奇的 world state。然而，以太坊以及受其影响的所有区块链项目，都有着单机单线程这个难以逾越的天花板。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;去中心化文件系统 - IPFS：IPFS 借鉴了 git 的内容可寻址文件系统（content-addressable filesystem），并将其拓展到 p2p 领域。IPFS 目标是颠覆 web，我们深入探讨一下它的实力是否配得上它的野心。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;共识算法&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;ul style=&quot;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;Paxos / Raft 浅析&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;PoW&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;Tendermint&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;Casper&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;入门指南：如何构建区块链应用&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;ul style=&quot;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;如何在以太坊上创建 dApps&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;如何在 Hyperleger Fabric 上创建 chaincode&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;入门指南：如何打造一个区块链&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;ul style=&quot;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;Tendermint：从零开始构建区块链项目&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;ArcBlock Forge：快速构建区块链应用&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;思考：区块链技术的未来&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;ul style=&quot;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;真的有必要全网共识么？&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;区块链能否 rebase？&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;如何让私钥像用户名密码一样方便？&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;这是一个宏大的，包罗万象的主题，我们会不断更新，不断优化这些主题。当然，如果要把这些内容仔细地讲述一遍，一个周末都未必够，因而，我们将其打造成一个系列，一个行业内最全面，最权威，最关注于技术本身的系列讲座，我们将其称之为：2019: A Blockchain Odyssey - 区块链技术漫游指南。和银河系漫游指南一样，我们的口号是：Don’t Panic。它有两重含义：既不要因为币价的低迷而对技术失去信心，更不要因为旁人的浮躁和形而上对技术失去了钻研和进取精神。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;这次国内之旅，我会分别在上海，深圳和北京就上面的大纲选一些主题进行讲解：&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;上海站：&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;2&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/SER9L29WQ085TaYzWY8WRLlssoJbtrPBSZwibXcU2d2hdPwjEmcUaJSYJTrIsMbaLTxcnMCWyAw0fUy7MAyztiaw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1000&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;pre style=&quot;font-family: monospace, serif;font-size: 13px;white-space: pre-wrap;margin-top: 15px;margin-bottom: 15px;border-width: 1px;border-style: solid;border-color: rgb(204, 204, 204);line-height: 19px;overflow: auto;padding: 6px 10px;border-radius: 3px;&quot;&gt;&lt;code class=&quot;hljs css&quot; style=&#39;font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace;font-size: 12px;padding: 0.5em;white-space: pre;border-width: 0px;border-style: initial;border-color: initial;background: rgb(240, 240, 240);border-radius: 3px;display: block;overflow-x: auto;text-size-adjust: none;&#39;&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;18:30-18:50 开场：创+
18:50-19:30 公开可验证：去中心化的必经之路
19:35-20:10 去中心化：账本、计算以及数据
20:15-20:50 入门指南：如何使用 &lt;span class=&quot;hljs-tag&quot; style=&quot;font-weight: bold;&quot;&gt;ArcBlock&lt;/span&gt; &lt;span class=&quot;hljs-tag&quot; style=&quot;font-weight: bold;&quot;&gt;Forge&lt;/span&gt; 锻造你自己的区块链&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;深圳站：&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;2&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/SER9L29WQ085TaYzWY8WRLlssoJbtrPBICe9CcroGXMkuQ0XD0G2OsvC6yvZ2NiaAOZMYziamumneCqYESmomMWw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1000&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;pre style=&quot;font-family: monospace, serif;font-size: 13px;white-space: pre-wrap;margin-top: 15px;margin-bottom: 15px;border-width: 1px;border-style: solid;border-color: rgb(204, 204, 204);line-height: 19px;overflow: auto;padding: 6px 10px;border-radius: 3px;&quot;&gt;&lt;code class=&quot;hljs css&quot; style=&#39;font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace;font-size: 12px;padding: 0.5em;white-space: pre;border-width: 0px;border-style: initial;border-color: initial;background: rgb(240, 240, 240);border-radius: 3px;display: block;overflow-x: auto;text-size-adjust: none;&#39;&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;14:30-15:10 公开可验证：去中心化的必经之路
15:10-15:40 解密以太坊
15:50-16:30 使用 &lt;span class=&quot;hljs-tag&quot; style=&quot;font-weight: bold;&quot;&gt;ArcBlock&lt;/span&gt; &lt;span class=&quot;hljs-tag&quot; style=&quot;font-weight: bold;&quot;&gt;OCAP&lt;/span&gt; 构建你的 &lt;span class=&quot;hljs-tag&quot; style=&quot;font-weight: bold;&quot;&gt;dApps&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;北京站：&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;2&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/SER9L29WQ085TaYzWY8WRLlssoJbtrPBcibv7cxtWibiblmTlDdGq2kndvTfsuotH2Z39elbzRBgO9Yk4aQCmtadQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1000&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;pre style=&quot;font-family: monospace, serif;font-size: 13px;white-space: pre-wrap;margin-top: 15px;margin-bottom: 15px;border-width: 1px;border-style: solid;border-color: rgb(204, 204, 204);line-height: 19px;overflow: auto;padding: 6px 10px;border-radius: 3px;&quot;&gt;&lt;code class=&quot;hljs css&quot; style=&#39;font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace;font-size: 12px;padding: 0.5em;white-space: pre;border-width: 0px;border-style: initial;border-color: initial;background: rgb(240, 240, 240);border-radius: 3px;display: block;overflow-x: auto;text-size-adjust: none;&#39;&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;12:30-13:00: 签到
13:00-13:50: 公开可验证：去中心化的必经之路
13:55-14:15: 场景一：去中心化账本 &lt;span class=&quot;hljs-tag&quot; style=&quot;font-weight: bold;&quot;&gt;-&lt;/span&gt; 比特币
14:15-14:35: 场景二：去中心化计算 &lt;span class=&quot;hljs-tag&quot; style=&quot;font-weight: bold;&quot;&gt;-&lt;/span&gt; 以太坊
14:35-14:55: 场景三：去中心化文件系统 &lt;span class=&quot;hljs-tag&quot; style=&quot;font-weight: bold;&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;hljs-tag&quot; style=&quot;font-weight: bold;&quot;&gt;IPFS&lt;br&gt;&lt;/span&gt;15:00-15:45: 入门指南：如何在以太坊上构建 &lt;span class=&quot;hljs-tag&quot; style=&quot;font-weight: bold;&quot;&gt;dApps&lt;br&gt;&lt;/span&gt;15:50-16:30: 入门指南：如何使用 &lt;span class=&quot;hljs-tag&quot; style=&quot;font-weight: bold;&quot;&gt;ArcBlock&lt;/span&gt; &lt;span class=&quot;hljs-tag&quot; style=&quot;font-weight: bold;&quot;&gt;Forge&lt;/span&gt; 锻造你自己的区块链&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;最后压轴的北京站的活动，我们和承办方微软创新车库一起，献上一场长达四个小时的饕餮盛宴。时间上对上班族可能不那么友好，但是内容绝对精彩，不容错过！而且，这是你近距离了解微软的绝佳机会！也许，这个讲座就是那只在你的人生旅途中挥动翅膀的蝴蝶，或者乔帮主口中的那些人生中你并不在意却影响深远的片段（dots）？&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;感谢参加！到时见！&lt;/p&gt;
                &lt;/div&gt;
                &lt;script nonce=&quot;2001176663&quot; type=&quot;text/javascript&quot;&gt;
                    var first_sceen__time = (+new Date());

                    if (&quot;&quot; == 1 &amp;&amp; document.getElementById(&#39;js_content&#39;)) {
                        document.getElementById(&#39;js_content&#39;).addEventListener(&quot;selectstart&quot;,function(e){ e.preventDefault(); });
                    }

                    
                    (function(){
                        if (navigator.userAgent.indexOf(&quot;WindowsWechat&quot;) != -1){
                            var link = document.createElement(&#39;link&#39;);
                            var head = document.getElementsByTagName(&#39;head&#39;)[0];
                            link.rel = &#39;stylesheet&#39;;
                            link.type = &#39;text/css&#39;;
                            link.href = &quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/winwx3ec991.css&quot;;
                            head.appendChild(link);
                        }
                    })();
                &lt;/script&gt;

                
                &lt;div class=&quot;ct_mpda_wrp&quot; id=&quot;js_sponsor_ad_area&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;

                
                                &lt;div class=&quot;reward_area tc reward_area_primary&quot; id=&quot;js_reward_area&quot; style=&quot;display:none;&quot;&gt;
                    &lt;div class=&quot;reward-avatar&quot; style=&quot;display: none;&quot; id=&quot;js_reward_avatar&quot;&gt;
                        &lt;img src=&quot;&quot; alt=&quot;&quot; id=&quot;js_reward_author_head&quot;&gt;
                    &lt;/div&gt;
                    
                                       
                                                &lt;div class=&quot;reward-author&quot; style=&quot;display: none;&quot; id=&quot;js_reward_author&quot;&gt;陈小天&lt;/div&gt;
                                            
                                       

                                        &lt;p&gt;
                        &lt;a class=&quot;reward_button&quot; id=&quot;js_reward_link&quot; href=&quot;##&quot;&gt;&lt;span id=&quot;js_reward_link_text&quot;&gt;赞赏&lt;/span&gt;&lt;/a&gt;
                    &lt;/p&gt;
                    &lt;div id=&quot;js_reward_inner&quot; class=&quot;reward_area_inner&quot; style=&quot;display:none;&quot;&gt;
                        &lt;p class=&quot;weui-loadmore weui-loadmore_line reward_user_tips&quot; id=&quot;js_reward_total_parent&quot;&gt;
                          &lt;span class=&quot;weui-loadmore__tips&quot;&gt;&lt;a href=&quot;##&quot; id=&quot;js_reward_total&quot;&gt;&lt;/a&gt; 人&lt;span id=&quot;js_reward_total_text&quot;&gt;赞赏&lt;/span&gt;&lt;/span&gt;
                        &lt;/p&gt;
                        
                        &lt;div id=&quot;js_reward_list&quot; class=&quot;reward_user_list&quot;&gt;&lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                                &lt;div class=&quot;reward_qrcode_area reward_area tc&quot; id=&quot;js_reward_qrcode&quot; style=&quot;display:none;&quot;&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;长按二维码向我转账&lt;/p&gt;
                                        &lt;p class=&quot;reward_tips&quot;&gt;&lt;/p&gt;
                    &lt;span class=&quot;reward_qrcode_img_wrp&quot;&gt;&lt;img class=&quot;reward_qrcode_img&quot; id=&quot;js_reward_qrcode_img&quot;&gt;&lt;/span&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;受苹果公司新规定影响，微信 iOS 版的赞赏功能被关闭，可通过二维码转账支持公众号。&lt;/p&gt;
                &lt;/div&gt;
                                                
                
                            &lt;/div&gt;
                                    
                        


                        
            &lt;ul id=&quot;js_hotspot_area&quot; class=&quot;article_extend_area&quot;&gt;&lt;/ul&gt;


            
                        &lt;div class=&quot;rich_media_tool&quot; id=&quot;js_toobar3&quot;&gt;

                                            &lt;div id=&quot;js_read_area3&quot; class=&quot;media_tool_meta tips_global_primary meta_primary&quot; style=&quot;display:none;&quot;&gt;阅读 &lt;span id=&quot;readNum3&quot;&gt;&lt;/span&gt;&lt;/div&gt;

                &lt;span style=&quot;display:none;&quot; class=&quot;media_tool_meta meta_extra meta_praise&quot; id=&quot;like3&quot;&gt;
                    &lt;i class=&quot;icon_praise_gray&quot;&gt;&lt;/i&gt;&lt;span class=&quot;praise_num&quot; id=&quot;likeNum3&quot;&gt;&lt;/span&gt;
                &lt;/span&gt;

                

            &lt;/div&gt;


                        &lt;div class=&quot;rich_media_tool&quot; id=&quot;js_sg_bar&quot;&gt;

                                
            &lt;/div&gt;
                      &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class=&quot;rich_media_area_primary sougou&quot; id=&quot;sg_tj&quot; style=&quot;display:none&quot;&gt;&lt;/div&gt;


        
        &lt;div class=&quot;rich_media_area_extra&quot;&gt;
          &lt;div class=&quot;rich_media_area_extra_inner&quot;&gt;
              
              &lt;div id=&quot;js_share_appmsg&quot;&gt;
              &lt;/div&gt;

              
                            &lt;div class=&quot;mpda_bottom_container&quot; id=&quot;js_bottom_ad_area&quot;&gt;&lt;/div&gt;
                            
              &lt;div id=&quot;js_iframetest&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;
                            
                            
              &lt;div class=&quot;rich_media_extra rich_media_extra_discuss&quot; id=&quot;js_cmt_container&quot; style=&quot;display:none&quot;&gt;
                

                
                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_friend_cmt_area&quot; style=&quot;display:none&quot;&gt;
                  
                  
                  
                &lt;/div&gt;

                                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_cmt_area&quot; style=&quot;display:none&quot;&gt;
                &lt;/div&gt;
                              &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        
        &lt;div id=&quot;js_pc_qr_code&quot; class=&quot;qr_code_pc_outer&quot; style=&quot;display:none;&quot;&gt;
            &lt;div class=&quot;qr_code_pc_inner&quot;&gt;
                &lt;div class=&quot;qr_code_pc&quot;&gt;
                    &lt;img id=&quot;js_pc_qr_code_img&quot; class=&quot;qr_code_pc_img&quot;&gt;
                    &lt;p&gt;微信扫一扫&lt;br&gt;关注该公众号&lt;/p&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;</description>
<author>陈小天</author>
<guid isPermaLink="false">2018-11-12-1000000120</guid>
<pubDate>Mon, 12 Nov 2018 00:00:00 +0800</pubDate>
</item>
<item>
<title>在程序中时间旅行</title>
<link>https://henix.github.io/feeds/weixin.sogou.programmer_life/2018-11-05-1000000119.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?timestamp=1542305802&amp;amp;src=3&amp;amp;ver=1&amp;amp;signature=hVIZ*K1Ga-Thh0b4vK5v2WjJBRWoy6MO1P30p-tt6j0vLbHhiOjElo7q*DdNWxW0biKXFxQF*Zh56dzTrNFH3n7Z6D-hTk*vMe9s7-CbNMl5cWN-cV6q1TvsVpCWNXgwBZaWVhT2z7PyI8zad8-KS80pk4JW17BI1B0S42Iy1bk=&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;div id=&quot;js_top_ad_area&quot; class=&quot;top_banner&quot;&gt;&lt;/div&gt;&lt;div class=&quot;rich_media_inner&quot;&gt;

        
        
        &lt;div id=&quot;page-content&quot; class=&quot;rich_media_area_primary&quot;&gt;
          &lt;div class=&quot;rich_media_area_primary_inner&quot;&gt;
                                    
                        

            &lt;div id=&quot;img-content&quot;&gt;

                
                &lt;h2 class=&quot;rich_media_title&quot; id=&quot;activity-name&quot;&gt;
                    
                    
                    在程序中时间旅行

                                                                                &lt;/h2&gt;
                &lt;div id=&quot;meta_content&quot; class=&quot;rich_media_meta_list&quot;&gt;
                                                            &lt;span id=&quot;copyright_logo&quot; class=&quot;rich_media_meta rich_media_meta_text meta_tag_text&quot;&gt;原创：&lt;/span&gt;
                                                            &lt;span class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;
                                                &lt;span id=&quot;js_author_name&quot; class=&quot;rich_media_meta_link&quot; data-rewardsn=&quot;&quot; data-timestamp=&quot;&quot; data-canreward=&quot;0&quot;&gt;陈小天&lt;/span&gt;
                                            &lt;/span&gt;
                                        
                                       
                                                                    
                                        &lt;span class=&quot;rich_media_meta rich_media_meta_nickname&quot; id=&quot;profileBt&quot;&gt;
                      &lt;a href=&quot;javascript:void(0);&quot; id=&quot;js_name&quot;&gt;
                        程序人生                      &lt;/a&gt;
                      &lt;div id=&quot;js_profile_qrcode&quot; class=&quot;profile_container&quot; style=&quot;display:none;&quot;&gt;
                          &lt;div class=&quot;profile_inner&quot;&gt;
                              &lt;strong class=&quot;profile_nickname&quot;&gt;程序人生&lt;/strong&gt;
                              &lt;img class=&quot;profile_avatar&quot; id=&quot;js_profile_qrcode_img&quot; src=&quot;&quot; alt=&quot;&quot;&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;微信号&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;programmer_life&lt;/span&gt;
                              &lt;/p&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;功能介绍&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;十年漫漫程序人生，打过各种杂，也做过让我骄傲的软件；管理过数十人的团队，还带领一班兄弟姐妹创过业，目前在硅谷一家创业公司担任 VP。关注程序人生，了解程序猿，学做程序猿，做好程序猿，让我们的程序人生精彩满满。&lt;/span&gt;
                              &lt;/p&gt;
                              
                          &lt;/div&gt;
                          &lt;span class=&quot;profile_arrow_wrp&quot; id=&quot;js_profile_arrow_wrp&quot;&gt;
                              &lt;i class=&quot;profile_arrow arrow_out&quot;&gt;&lt;/i&gt;
                              &lt;i class=&quot;profile_arrow arrow_in&quot;&gt;&lt;/i&gt;
                          &lt;/span&gt;
                      &lt;/div&gt;
                    &lt;/span&gt;


                    &lt;em id=&quot;publish_time&quot; class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;&lt;/em&gt;





                &lt;/div&gt;
                
                
                
                
                                                
                                                                
                                
                
                &lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    

                    
                    
                    &lt;blockquote style=&#39;margin-top: 15px;margin-bottom: 15px;border-left-width: 4px;border-left-color: rgb(221, 221, 221);padding-right: 15px;padding-left: 15px;color: rgb(119, 119, 119);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;white-space: normal;background-color: rgb(255, 255, 255);&#39;&gt;&lt;p style=&quot;margin-right: 10px;margin-left: 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;Nor Time, nor Place, nor Chance, nor Death can bow. My least desires unto the least remove. - “The Time Traveler’s Wife”&lt;/p&gt;&lt;/blockquote&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;三年前，当我写下那篇青涩的『&lt;a href=&quot;http://mp.weixin.qq.com/s?__biz=MzA3NDM0ODQwMw==&amp;amp;mid=206436214&amp;amp;idx=1&amp;amp;sn=2140cf7b2894c4fdeb49ad4458d0fb3e&amp;amp;scene=21#wechat_redirect&quot; target=&quot;_blank&quot;&gt;永恒不变的魅力&lt;/a&gt;』的文章时，我刚刚是 elixir 和 clojure 的入门者。我如饥似渴地从 Bret Victor，Rich Hickey 等人身上吸取思想和力量，来浇筑我对函数式编程的信仰。函数式编程语言中有诸多让人赞不绝口的设计思想，但 immutability（不可变）显然是皇冠上的明珠。它让我们可以肆无忌惮地使用并发，不必考虑 lock，因为没有 critical section 可言；它让我们不必再终日在野指针造成的 segment fault，坏引用导致的 exception 中彷徨哀怨甚至自戕。当我们用一个产品的时候，确定性让我们感到安全和愉悦 —— 你使用微信，发给朋友的信息如果代表发送的小菊花停了没有惊叹号，那就一定成功了，这就是确定性；immutable 给程序员带来的确定性是：我给你一个引用，只要你拿着，就算到了天荒地老，海枯石烂它也能够访问，且还守候着原来的值。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;有没有想过，这么好的东西，为什么前辈们不使用呢？&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;非不为也，实不能也。immutable 是好，但是「浪费」内存啊。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;当机器的内存以 KB 为单位时，描述复杂状态的程序都力不从心，自然只能尽可能地重复利用每一个 bit，以期它能发挥最大的作用。什么 “copy on write”，一边去。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;八九十年代，内存虽然到了 MB 级别，但 DOS 受限于实模式的寻址能力，还是把内存分成了五环内（低 1M）和五环外（超过 1M 的 expanded memory），所以那时的程序员依旧以扣内存闻名。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;千禧年后，内存在亚 GB 级别往 GB 级别过渡，操作系统早已完全采用 32 位保护模式，正往 64 位过渡。大部分应用程序开发者渐渐无需考虑内存的天花板，就算一不小心把物理内存用超了，还有 swap 兜底，管够。但是，牛顿告诉我们，程序员是懒惰的，没有外力作用的时候，会产生惯性，也就是路径依赖。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;路径依赖导致 immutable 的思想人人叫好，但依旧只是用在少量的场合，比如 git，docker，react，当然，还有区块链。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;还有一个原因。看待世界的方式。我们所运行的世界究竟是一个可变系统（mutable system）还是一个不可变系统（immutable system）？我们先来研究自己的大脑。大多数人第一反应可能会觉得大脑是个可变系统，然而仔细想想，它是不可变的。我们的记忆就像洋葱圈一样，不断叠加，而不会修改。拿我家的电话号码来说，我脑袋里能立刻蹦出来好几个号码，有四位数的，那是小时候家里安装的第一部电话，有广东的，北京的，圣何塞的，西雅图的，等等。所以大脑是个不可变系统，数据一旦产生，大脑只会将其连接起来，并不会修改。我们再看日常发生的各种事件 —— 今天的气温，世界各地的新闻，楼下弹钢琴的孩子，所有这一切都是不可变的。气温看上去在变化，但这取决于建模的方式，如果气温不是一个值而是一个以时间为刻度的 vector 呢？&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;所以当我们把世界看成一个个只有最终状态的点的时候，它是不断变化的；然而加上时间的维度，它是不可变的 —— 在一个初值 (genesis state) 下，发生了一系列不可变的事件（event），最终导致了当下这个状态（state）。这是我们这个世界运作的方式，可惜，在大部分时间，不是我们撰写程序的方式 —— 即使我们的程序要么和现实世界打交道，要么在模拟现实世界。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;Bret Victor 在他著名的讲座 Inventing on principle，展示了改变认识如何让我们拥有一个又一个 voila moment，比如这个截图，游戏中的时间旅行：&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.615625&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/SER9L29WQ080gcAJuAQmryibP0vXicTtWLjE6BtLg68l1wibyiaCZ4LkQkZAPWQ4Pvqy8Y7SpsReKllAXtuMOzPiccQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1280&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;在程序中做时间旅行并不是件新鲜事，我们每天使用的 git 就可以让我们自如地在历史上发生的任何一个 commit / tag / branch 上切换：&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;1.066&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/SER9L29WQ080gcAJuAQmryibP0vXicTtWLTlIe8CYV6Ffzb0uJuKA32hrJNluSHSL7HB6WU4bw3j8eR09cxpqcDQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;500&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;而 clojure 的一个 pixel editor，Goya，也用时间旅行的方式来做 undo / redo，非常简单：&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.415625&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/SER9L29WQ080gcAJuAQmryibP0vXicTtWLJ7YPYjogzx9XxgkHaWfokRroQ97ViaC0hCJB0onuYuY4hQPkq6Ecl5Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;640&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;而要做到这一切，首先我们要使用 genesis state + events 的方式来描述应用程序里的世界。在 git 里，一个个 commit 就是一个个 event；在 goya 中，画笔的每一次动作，就是一个 event。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;然后，我们需要用一个合适的数据结构来保存 state - Chris Okasaki 的 Purely Functional Data Structures 向我们揭示了 persistent data structure 的神奇魔力 —— erlang 的发明者，Robert Verding 据说就是照着 PFDS 这本书的例子写出了 erlang 的数据结构的支持：&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.5931758530183727&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/SER9L29WQ080gcAJuAQmryibP0vXicTtWLAlWxzLyRgGRzxGn9j7ajicjpqia1K5ib4sZoZibiaErZQiaYhYxDzJ2r5WYA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;762&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;在这里，数据保存在叶子节点上，然后以数据的索引为基础构建出来一棵树。当整个结构的某些数据变更时，我们只需要产生新的数据，然后产生索引该数据和未改变数据的一棵新的树，从而在空间上避免 immutable 产生的拷贝。在函数式编程语言中，旧的树如果没有人用了，GC 就回将其回收，但如果我们把每个 event 产生出来的新的树和旧的树链接起来，或者记录下来，就具备了时间旅行的能力。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;git 使用了 Merkle tree（更准确地说 Merkle DAG）来存储所有 commit 的所有 object。和 persistent data structure 思路类似，数据（commit 里的 objects）在叶子节点上，只不过连接叶子节点的索引是其 hash，而非普通的 key。Merkle DAG 的使用非常广泛，从 Plan 9 OS 到 BitTorrent，从 git 到 bitcoin / ethereum，等：&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.5703125&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/SER9L29WQ080gcAJuAQmryibP0vXicTtWLXTMqEKdDfwH5PSFZAuypwT29cIUuQcs8ln2Ay5Q7EZ2s7UicrAnpsSQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1280&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;我们知道，通过初始的 genesis state，不断顺序叠加 event，可以构成任意时刻的 state，这样的设计思路是 event sourcing。而使用 event sourcing，把当前的 state 用 Merkle DAG 管理并保存下来，再使用公钥加密算法使所有的 event 和 state 都 public verifiable，就构成了我们所熟知的以太坊。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;在以太坊里，其 event 是 transaction，state 使用 Merkle Patricia Tree 保存。如果把以太坊看成是一个自给自足的世界，那么其 fork 就是这个世界在平行宇宙中的另一个世界，而我们人类就像『星际穿越』中的五维人，可以在以太坊世界中进行时间旅行 —— 比如，我要回到 2017 年 1 月 13 日，去探索那个时间点这个世界里所有账户的状态，只需要找到 4904084 这个块里的 state root，找到这个 hash 下面对应的数，然后从这棵树一路往下挖掘信息。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;那么，如果我们需要以太坊任意一个时刻的状态呢？回答这个问题之前，我们先来回答，在以太坊的世界内，时间究竟是什么？时间是区块的高度。所以，在以太坊内进行时间旅行，就是在获取不同块高下的&lt;strong&gt;状态&lt;/strong&gt;。然而，以太坊自己的时间对人类来说是晦涩的（1 eth second ~= 12s），所以我们需要先将人类社会的时间映射到以太坊上的块高，然后找到给定的人类时间下最接近的块高，就得到了以太坊下的任意时间内的时间旅行。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;以上。&lt;/p&gt;&lt;hr&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;继续打 arcblock techincal learning series 的广告。美西周二下午 5 点，中国周三上午 9 点，我将会讲有关 tendermint 的一个主题 —— Tendermint: Consensus Made Easy。对区块链感兴趣的读者可以听听。报名戳：&lt;strong&gt;hack.arcblock.io/learning &lt;/strong&gt;或者点击「阅读原文」。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;另外，我下周回国，会在上海参加 kubeconf，在深圳出席 techrunch 的黑客马拉松，代表 arcblock 负责区块链方向，以及在微软做一次区块链的深度技术讲座，欢迎参加活动的读者们勾搭。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;
                &lt;/div&gt;
                &lt;script nonce=&quot;1284916760&quot; type=&quot;text/javascript&quot;&gt;
                    var first_sceen__time = (+new Date());

                    if (&quot;&quot; == 1 &amp;&amp; document.getElementById(&#39;js_content&#39;)) {
                        document.getElementById(&#39;js_content&#39;).addEventListener(&quot;selectstart&quot;,function(e){ e.preventDefault(); });
                    }

                    
                    (function(){
                        if (navigator.userAgent.indexOf(&quot;WindowsWechat&quot;) != -1){
                            var link = document.createElement(&#39;link&#39;);
                            var head = document.getElementsByTagName(&#39;head&#39;)[0];
                            link.rel = &#39;stylesheet&#39;;
                            link.type = &#39;text/css&#39;;
                            link.href = &quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/winwx3ec991.css&quot;;
                            head.appendChild(link);
                        }
                    })();
                &lt;/script&gt;

                
                &lt;div class=&quot;ct_mpda_wrp&quot; id=&quot;js_sponsor_ad_area&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;

                
                                &lt;div class=&quot;reward_area tc reward_area_primary&quot; id=&quot;js_reward_area&quot; style=&quot;display:none;&quot;&gt;
                    &lt;div class=&quot;reward-avatar&quot; style=&quot;display: none;&quot; id=&quot;js_reward_avatar&quot;&gt;
                        &lt;img src=&quot;&quot; alt=&quot;&quot; id=&quot;js_reward_author_head&quot;&gt;
                    &lt;/div&gt;
                    
                                       
                                                &lt;div class=&quot;reward-author&quot; style=&quot;display: none;&quot; id=&quot;js_reward_author&quot;&gt;陈小天&lt;/div&gt;
                                            
                                       

                                        &lt;p&gt;
                        &lt;a class=&quot;reward_button&quot; id=&quot;js_reward_link&quot; href=&quot;##&quot;&gt;&lt;span id=&quot;js_reward_link_text&quot;&gt;赞赏&lt;/span&gt;&lt;/a&gt;
                    &lt;/p&gt;
                    &lt;div id=&quot;js_reward_inner&quot; class=&quot;reward_area_inner&quot; style=&quot;display:none;&quot;&gt;
                        &lt;p class=&quot;weui-loadmore weui-loadmore_line reward_user_tips&quot; id=&quot;js_reward_total_parent&quot;&gt;
                          &lt;span class=&quot;weui-loadmore__tips&quot;&gt;&lt;a href=&quot;##&quot; id=&quot;js_reward_total&quot;&gt;&lt;/a&gt; 人&lt;span id=&quot;js_reward_total_text&quot;&gt;赞赏&lt;/span&gt;&lt;/span&gt;
                        &lt;/p&gt;
                        
                        &lt;div id=&quot;js_reward_list&quot; class=&quot;reward_user_list&quot;&gt;&lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                                &lt;div class=&quot;reward_qrcode_area reward_area tc&quot; id=&quot;js_reward_qrcode&quot; style=&quot;display:none;&quot;&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;长按二维码向我转账&lt;/p&gt;
                                        &lt;p class=&quot;reward_tips&quot;&gt;&lt;/p&gt;
                    &lt;span class=&quot;reward_qrcode_img_wrp&quot;&gt;&lt;img class=&quot;reward_qrcode_img&quot; id=&quot;js_reward_qrcode_img&quot;&gt;&lt;/span&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;受苹果公司新规定影响，微信 iOS 版的赞赏功能被关闭，可通过二维码转账支持公众号。&lt;/p&gt;
                &lt;/div&gt;
                                                
                
                            &lt;/div&gt;
                                    
                        


                        
            &lt;ul id=&quot;js_hotspot_area&quot; class=&quot;article_extend_area&quot;&gt;&lt;/ul&gt;


            
                        &lt;div class=&quot;rich_media_tool&quot; id=&quot;js_toobar3&quot;&gt;

                                            &lt;div id=&quot;js_read_area3&quot; class=&quot;media_tool_meta tips_global_primary meta_primary&quot; style=&quot;display:none;&quot;&gt;阅读 &lt;span id=&quot;readNum3&quot;&gt;&lt;/span&gt;&lt;/div&gt;

                &lt;span style=&quot;display:none;&quot; class=&quot;media_tool_meta meta_extra meta_praise&quot; id=&quot;like3&quot;&gt;
                    &lt;i class=&quot;icon_praise_gray&quot;&gt;&lt;/i&gt;&lt;span class=&quot;praise_num&quot; id=&quot;likeNum3&quot;&gt;&lt;/span&gt;
                &lt;/span&gt;

                

            &lt;/div&gt;


                        &lt;div class=&quot;rich_media_tool&quot; id=&quot;js_sg_bar&quot;&gt;

                                
            &lt;/div&gt;
                      &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class=&quot;rich_media_area_primary sougou&quot; id=&quot;sg_tj&quot; style=&quot;display:none&quot;&gt;&lt;/div&gt;


        
        &lt;div class=&quot;rich_media_area_extra&quot;&gt;
          &lt;div class=&quot;rich_media_area_extra_inner&quot;&gt;
              
              &lt;div id=&quot;js_share_appmsg&quot;&gt;
              &lt;/div&gt;

              
                            &lt;div class=&quot;mpda_bottom_container&quot; id=&quot;js_bottom_ad_area&quot;&gt;&lt;/div&gt;
                            
              &lt;div id=&quot;js_iframetest&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;
                            
                            
              &lt;div class=&quot;rich_media_extra rich_media_extra_discuss&quot; id=&quot;js_cmt_container&quot; style=&quot;display:none&quot;&gt;
                

                
                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_friend_cmt_area&quot; style=&quot;display:none&quot;&gt;
                  
                  
                  
                &lt;/div&gt;

                                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_cmt_area&quot; style=&quot;display:none&quot;&gt;
                &lt;/div&gt;
                              &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        
        &lt;div id=&quot;js_pc_qr_code&quot; class=&quot;qr_code_pc_outer&quot; style=&quot;display:none;&quot;&gt;
            &lt;div class=&quot;qr_code_pc_inner&quot;&gt;
                &lt;div class=&quot;qr_code_pc&quot;&gt;
                    &lt;img id=&quot;js_pc_qr_code_img&quot; class=&quot;qr_code_pc_img&quot;&gt;
                    &lt;p&gt;微信扫一扫&lt;br&gt;关注该公众号&lt;/p&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;</description>
<author>陈小天</author>
<guid isPermaLink="false">2018-11-05-1000000119</guid>
<pubDate>Mon, 05 Nov 2018 00:00:00 +0800</pubDate>
</item>
<item>
<title>区块链和数据库：致虚极，守静笃</title>
<link>https://henix.github.io/feeds/weixin.sogou.programmer_life/2018-10-31-1000000118.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?timestamp=1542305802&amp;amp;src=3&amp;amp;ver=1&amp;amp;signature=hVIZ*K1Ga-Thh0b4vK5v2WjJBRWoy6MO1P30p-tt6j0vLbHhiOjElo7q*DdNWxW0biKXFxQF*Zh56dzTrNFH3h8gBMx2ayjzGhRVQJozl8V96-O3Hz2UuA4MlxIXfIaJIFt2sQfkSCKJ1s8ZpHmgHRX0vI7tzXQYD*nS0vYfJ2E=&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;div id=&quot;js_top_ad_area&quot; class=&quot;top_banner&quot;&gt;&lt;/div&gt;&lt;div class=&quot;rich_media_inner&quot;&gt;

        
        
        &lt;div id=&quot;page-content&quot; class=&quot;rich_media_area_primary&quot;&gt;
          &lt;div class=&quot;rich_media_area_primary_inner&quot;&gt;
                                    
                        

            &lt;div id=&quot;img-content&quot;&gt;

                
                &lt;h2 class=&quot;rich_media_title&quot; id=&quot;activity-name&quot;&gt;
                    
                    
                    区块链和数据库：致虚极，守静笃

                                                                                &lt;/h2&gt;
                &lt;div id=&quot;meta_content&quot; class=&quot;rich_media_meta_list&quot;&gt;
                                                            &lt;span id=&quot;copyright_logo&quot; class=&quot;rich_media_meta rich_media_meta_text meta_tag_text&quot;&gt;原创：&lt;/span&gt;
                                                            &lt;span class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;
                                                &lt;span id=&quot;js_author_name&quot; class=&quot;rich_media_meta_link&quot; data-rewardsn=&quot;&quot; data-timestamp=&quot;&quot; data-canreward=&quot;0&quot;&gt;陈小天&lt;/span&gt;
                                            &lt;/span&gt;
                                        
                                       
                                                                    
                                        &lt;span class=&quot;rich_media_meta rich_media_meta_nickname&quot; id=&quot;profileBt&quot;&gt;
                      &lt;a href=&quot;javascript:void(0);&quot; id=&quot;js_name&quot;&gt;
                        程序人生                      &lt;/a&gt;
                      &lt;div id=&quot;js_profile_qrcode&quot; class=&quot;profile_container&quot; style=&quot;display:none;&quot;&gt;
                          &lt;div class=&quot;profile_inner&quot;&gt;
                              &lt;strong class=&quot;profile_nickname&quot;&gt;程序人生&lt;/strong&gt;
                              &lt;img class=&quot;profile_avatar&quot; id=&quot;js_profile_qrcode_img&quot; src=&quot;&quot; alt=&quot;&quot;&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;微信号&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;programmer_life&lt;/span&gt;
                              &lt;/p&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;功能介绍&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;十年漫漫程序人生，打过各种杂，也做过让我骄傲的软件；管理过数十人的团队，还带领一班兄弟姐妹创过业，目前在硅谷一家创业公司担任 VP。关注程序人生，了解程序猿，学做程序猿，做好程序猿，让我们的程序人生精彩满满。&lt;/span&gt;
                              &lt;/p&gt;
                              
                          &lt;/div&gt;
                          &lt;span class=&quot;profile_arrow_wrp&quot; id=&quot;js_profile_arrow_wrp&quot;&gt;
                              &lt;i class=&quot;profile_arrow arrow_out&quot;&gt;&lt;/i&gt;
                              &lt;i class=&quot;profile_arrow arrow_in&quot;&gt;&lt;/i&gt;
                          &lt;/span&gt;
                      &lt;/div&gt;
                    &lt;/span&gt;


                    &lt;em id=&quot;publish_time&quot; class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;&lt;/em&gt;





                &lt;/div&gt;
                
                
                
                
                                                
                                                                
                                
                
                &lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    

                    
                    
                    &lt;p style=&#39;margin-right: 10px;margin-bottom: 20px;margin-left: 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;如果说牛顿的经典物理是爱因斯坦相对论在低速环境下的一种体现的话，我们所熟知的数据库技术，可以认为是区块链技术在弱分布式环境下的一个特例。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;「弱分布式」环境是我胡扯的一个词，你可以将其理解为节点数量极其有限，运行环境高度可控的一种分布式环境。一个数据库集群运行在同一数据中心，或者不同数据中心，只要是同一个管理者，那么这就是可控的运行环境。在可控的运行环境下，默认不存在「作恶」的节点，也就无所谓 BFT（Byzantine Fault Tolerance），因此我们不需要复杂的共识算法（consensus algorithm），一般两阶段提交（two phase commit）或者 paxos / raft 就能收敛共识，满足需要。所以，数据库的共识算法是区块链共识算法的特例。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;在区块链的世界里，交易（transaction）和交易产生的状态（state）是严格分离的。若干交易由被共识算法选择出来的矿工验证并打包成为区块（block）并广播出去，然后网络里其他参与者验证区块中每个交易的合法性，并写入自己的 state db。在 bitcoin 里，state db 是 UTXO，在 ethereum 里，则是其 world state。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;数据库的世界里仿佛没有类似于区块链的交易记录（数据库中的 transaction 是另一个概念），但仔细想想，它的交易历史其实就是 WAL（Write-Ahead Logging）。从外界接收到的请求，数据库会先将其写入 WAL，确保其进入持久化存储，才会往它自己的 “states” 里面写入。从这个角度，我们可以认为 WAL 里的每一个记录，就对应区块链里的一个交易，它是区块链交易的特例（当然你也可以 argue 两个 checkpoint 之间可以算作一个区块）。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;如果你再认真思考一下，WAL，blockchain，以及 Martin Fowler 很早就提倡的 CQRS（Command Query Responsibility Segregation）在这个层面上其实都是「一中各表」：大家都强调「事件」和「状态」的分离，通过前一个状态 + 当前事件，可以推演出当前状态。这样，我们只要有一个初始的「状态」，然后记录系统发生过的所有的「事件」，就可以复原任意一个时刻的「状态」（如果你对 CQRS 感兴趣，不要错过我们明早的 arcblock tech learning series: CQRS &amp;amp; Commanded - hack.arcblock.io/learning）。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;我们回到交易和容纳交易的「区块」。你会发现，「区块」是一个怪怪的存在，为什么数据库不需要「区块」这样的概念作为容器装载「交易」，而区块链却需要呢？我们知道，在区块链的世界里，不确定性和确定性仿佛一对孪生兄弟，确定的是规则，不确定的是规则的执行者。所谓矿工轮流做，下回到我家，那怎么定义一个「回合」呢？为了回答这个问题，我们需要某种机制明确一个回合矿工地位的起止 —— 这个起止就是一个「区块」。不仅如此，在一个物理时钟并不一致的分布式环境下，「区块」还承载着全局时钟的功能，滴答滴答将整个网络往前推进。「区块」的概念是如此重要，以至于它当仁不让地成为共识算法的基础 —— 大家先得对下一个要出的区块序号达成共识，否则这个游戏无法进行。反观数据库系统，在一个数据库集群中，master（等价于矿工）是固定的，master 令旗一挥，slave 就迅速跟进，指哪打哪，不存在轮流坐庄，也就无所谓回合，所以其实每个「交易」就是一个「区块」。所以在数据库的世界里，逻辑上每个交易，或者说 WAL 的每个记录，自成一个隐性的「区块」。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;我们从另一个角度来探讨这个结论。「区块」的另一个重要的作用是 crash recovery。在一个区块链网路中，某个节点无论是断网还是崩溃，其状态和网络中达成共识的状态必不一致，那么，如何从这种不一致的状态恢复同步的状态呢？答案是「区块」，因为它是唯一明确的共识的产物。节点总是能够找到最近的 commit 的和网络中一致的区块高度，然后从这个高度往后一个区块一个区块同步，依次运行区块中包含的所有交易并更新本地的状态，最终可以保证和网络中的状态达成一致。在这里，「区块」就是检测和达成状态一致的最小单元。而在数据库系统中，在崩溃发生后，系统会从其他节点同步最新的 WAL，并从上次 commit 的 WAL 的位置往后一个记录一个记录执行命令，直到所有记录运行完毕，这时数据库状态恢复到集群的当前状态。在这里，WAL 的记录是检测和达成一致的最小单元，所以我们称其为隐性的「区块」，没毛病。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;在区块链的世界里，一笔交易需要被验证。这里的验证有两重含义：1) 身份验证 —— 交易是由其发起人正确签名的；2) 完整性验证 —— 交易对状态的变更是合法的。身份验证好理解，你用自己钱包的私钥签名给我转 1 个 ABT 的交易，系统会验证你的确是你；完整性验证则是指在 states db 里，你的账号下的确有超过 1 个 ABT 的 token，才能发起这个交易。在数据库的世界里，身份验证直接赤果果用诸如 RBAC（Role Based Access Control）的访问控制系统解决了，而完整性验证和区块链类似。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;接下来我们看看确定性（deterministic）。所谓确定性，就是在同一个状态 Sn-1 下，大家拿着同样一笔交易，不依赖任何第三方信息独立执行，执行的结果完全一致。这一点仅就纯粹的从交易到 states db 的处理来说，区块链和数据库是完全一致的，大家都能保证确定性。然而，如果某个区块链要支持交易中携带额外信息，这些信息触发某些链上部署好的代码的执行（比如说，smart contract），那么，我们就得注意代码本身需要具备确定性。所谓确定性，无非是：&lt;/p&gt;&lt;ul style=&quot;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;代码中不要使用不确定的随机数生成器 —— 比如使用计算机的时钟作为种子生成随机数，这就是不确定的。因为交易在被执行的那一刻，我们无法保证所有参与者的时钟是精确同步的。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;代码避免使用多线程。多线程引发的 race condition 具有不确定性。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;不要使用系统时钟。不解释。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;不要使用未初始化的内存。鬼知道上面是陈冠希还是诸子百家。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;不要使用浮点数 —— 这个很奇葩，因为不同的 CPU arch，编译器，甚至不同 CPU 型号间，由于支持的浮点数指令集不同，会导致结果不同。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;不要使用编程语言的可能有随机行为的数据结构。比如遍历一个 map&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;基本上避免了这些，代码就具备了确定性，可以在区块链上执行。那么，为什么数据库中的存储过程可以允许没有确定性的代码的执行？比如，一个存储过程里可以使用当前时间插入一条记录？我们如果再回归本源，从「交易」的角度看待问题，可以发现，存储过程类似于 “off-chain” 执行的代码，它虽然植根于数据库之中，但其实是「交易」的源头，存储过程的执行产生真正的交易，也就是 WAL 记录，然后同步给其它节点。所以存储过程可以 non-deterministic，因为其产生的 WAL 记录已经是 deterministic 的 —— 添加一条带当前时间的记录这件事情，在 master 执行时，已经将取「当前时间」这个动作完成并得到一个确定的值，携带于 WAL 之中。这跟区块链的 smart contract 的概念有本质的区别，这也是为什么存储过程可以不必具备确定性，而 “on-chain” 执行的 smart contract 需要确定性。从这个角度来讲，数据库系统也是一个弱化的区块链系统。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;既然区块链和数据库存储的对象都是数据，那么，提过了数据的完整性和确定性，接下来就是数据的一致性。区块链显然是最终一致性的典范 —— 网络越大，参与的节点越多，区块的扩散就越慢，任何时刻在不同的节点上读取状态就很大几率出现不一致的情况。然而，只要节点能同步到最新的区块，整个网络的状态是收敛的，最终大家能够得到一个一致的状态数据。其实，按照这个道理，所有使用 WAL，CQRS 思想的分布式系统，其数据的状态都是最终一致的 —— 这似乎和我们对经典数据库强一致性的印象不匹配。然而，如果我们把视角拉到数据库内部，可以发现，强一致性只不过是最终一致性之上添加了一些条件，是个特例。如果我们假定一个区块链满足下面的条件：&lt;/p&gt;&lt;ol type=&quot;1&quot; style=&quot;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;任何节点收到新的区块，必须在交易执行完成，写入 states db 中之后，给矿工节点（其实就是当前的 master）发送确认&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;矿工节点在收到所有确认之后广播给网络中所有节点这个区块大家已经 commit 成功&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;在一个区块没有收到矿工节点的上述广播之前（写入完成之前），客户端发送来的查询进入队列排队（其实就是 read-write lock）&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;那么在外界看来，它也是强一致性。当然，第三点有些过于苛刻，一般的数据库实现都会采用 MVCC（Multiversion concurrency control），让每个 client 看到当前状态的一个 snapshot，因而存在一个很小的窗口，大家看到的数据是不一致的。如果较真，MVCC 不算强一致性，当然没人会这么认为。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;通过上面的规则，数据库可以通过牺牲一些性能来打造对外而言的强一致性。但有时候，为了一些崇(wo)高(chuo)的理想，数据库系统也可以打破这些规则来号称更高的性能。mongdb 可以在 cluster 的环境下，写操作不需要节点确认即可返回，于是有了美其名曰的，如薛定谔的猫一般的「弱一致性」。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;一个区块链网络理论上可以通过上述规则把自己营造成对外强一致性的感觉，但这实际上没有可操作性。&lt;span style=&quot;text-decoration:line-through;&quot;&gt;能力越大，责任越大&lt;/span&gt;网络越大，延迟越大，所以，实际可操作的强一致性只能发生在节点数量很少，且节点都在同一个 data center 的环境下。从数据一致性的角度来说，数据库也是区块链在特殊场景下的一个特例。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;最后说说性能。性能这事，和网络规模成反比。两个主要原因：1) 节点越多，达成共识的难度就越大。2) 节点越多，「交易」在网络中传播所需的时间就越长。那想要达到宇宙无敌的 TPS（Transactions Per Second） 怎么办？其实不难 —— 既然数据库是一个弱分布式环境下的特例，那么，咱就把区块链往数据库的方向退化就好。PoW 说「王侯将相，宁有种乎」，让全网参与铁王座的竞争，PoS 就让「一小部分人先富起来」，DPoS 再进一步，「让领导先走」，也许不久的将来，有人会则憋出终极大招，全网就一个九五之尊，把数据库里能用的招数，replicaSet（总还得 HA 一下嘛），Sharding 等等统统用上，再使用兵法中不战而屈人之兵之术：「今治水军八十万众，方与将军会猎于吴」…于是，可以名正言顺地抢下性能的桂冠。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;只不过…就像非诚勿扰里车晓问葛优：那事儿，就那么有意思吗？&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;
                &lt;/div&gt;
                &lt;script nonce=&quot;1446656635&quot; type=&quot;text/javascript&quot;&gt;
                    var first_sceen__time = (+new Date());

                    if (&quot;&quot; == 1 &amp;&amp; document.getElementById(&#39;js_content&#39;)) {
                        document.getElementById(&#39;js_content&#39;).addEventListener(&quot;selectstart&quot;,function(e){ e.preventDefault(); });
                    }

                    
                    (function(){
                        if (navigator.userAgent.indexOf(&quot;WindowsWechat&quot;) != -1){
                            var link = document.createElement(&#39;link&#39;);
                            var head = document.getElementsByTagName(&#39;head&#39;)[0];
                            link.rel = &#39;stylesheet&#39;;
                            link.type = &#39;text/css&#39;;
                            link.href = &quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/winwx3ec991.css&quot;;
                            head.appendChild(link);
                        }
                    })();
                &lt;/script&gt;

                
                &lt;div class=&quot;ct_mpda_wrp&quot; id=&quot;js_sponsor_ad_area&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;

                
                                &lt;div class=&quot;reward_area tc reward_area_primary&quot; id=&quot;js_reward_area&quot; style=&quot;display:none;&quot;&gt;
                    &lt;div class=&quot;reward-avatar&quot; style=&quot;display: none;&quot; id=&quot;js_reward_avatar&quot;&gt;
                        &lt;img src=&quot;&quot; alt=&quot;&quot; id=&quot;js_reward_author_head&quot;&gt;
                    &lt;/div&gt;
                    
                                       
                                                &lt;div class=&quot;reward-author&quot; style=&quot;display: none;&quot; id=&quot;js_reward_author&quot;&gt;陈小天&lt;/div&gt;
                                            
                                       

                                        &lt;p&gt;
                        &lt;a class=&quot;reward_button&quot; id=&quot;js_reward_link&quot; href=&quot;##&quot;&gt;&lt;span id=&quot;js_reward_link_text&quot;&gt;赞赏&lt;/span&gt;&lt;/a&gt;
                    &lt;/p&gt;
                    &lt;div id=&quot;js_reward_inner&quot; class=&quot;reward_area_inner&quot; style=&quot;display:none;&quot;&gt;
                        &lt;p class=&quot;weui-loadmore weui-loadmore_line reward_user_tips&quot; id=&quot;js_reward_total_parent&quot;&gt;
                          &lt;span class=&quot;weui-loadmore__tips&quot;&gt;&lt;a href=&quot;##&quot; id=&quot;js_reward_total&quot;&gt;&lt;/a&gt; 人&lt;span id=&quot;js_reward_total_text&quot;&gt;赞赏&lt;/span&gt;&lt;/span&gt;
                        &lt;/p&gt;
                        
                        &lt;div id=&quot;js_reward_list&quot; class=&quot;reward_user_list&quot;&gt;&lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                                &lt;div class=&quot;reward_qrcode_area reward_area tc&quot; id=&quot;js_reward_qrcode&quot; style=&quot;display:none;&quot;&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;长按二维码向我转账&lt;/p&gt;
                                        &lt;p class=&quot;reward_tips&quot;&gt;&lt;/p&gt;
                    &lt;span class=&quot;reward_qrcode_img_wrp&quot;&gt;&lt;img class=&quot;reward_qrcode_img&quot; id=&quot;js_reward_qrcode_img&quot;&gt;&lt;/span&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;受苹果公司新规定影响，微信 iOS 版的赞赏功能被关闭，可通过二维码转账支持公众号。&lt;/p&gt;
                &lt;/div&gt;
                                                
                
                            &lt;/div&gt;
                                    
                        


                        
            &lt;ul id=&quot;js_hotspot_area&quot; class=&quot;article_extend_area&quot;&gt;&lt;/ul&gt;


            
                        &lt;div class=&quot;rich_media_tool&quot; id=&quot;js_toobar3&quot;&gt;

                                            &lt;div id=&quot;js_read_area3&quot; class=&quot;media_tool_meta tips_global_primary meta_primary&quot; style=&quot;display:none;&quot;&gt;阅读 &lt;span id=&quot;readNum3&quot;&gt;&lt;/span&gt;&lt;/div&gt;

                &lt;span style=&quot;display:none;&quot; class=&quot;media_tool_meta meta_extra meta_praise&quot; id=&quot;like3&quot;&gt;
                    &lt;i class=&quot;icon_praise_gray&quot;&gt;&lt;/i&gt;&lt;span class=&quot;praise_num&quot; id=&quot;likeNum3&quot;&gt;&lt;/span&gt;
                &lt;/span&gt;

                

            &lt;/div&gt;


                        &lt;div class=&quot;rich_media_tool&quot; id=&quot;js_sg_bar&quot;&gt;

                                
            &lt;/div&gt;
                      &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class=&quot;rich_media_area_primary sougou&quot; id=&quot;sg_tj&quot; style=&quot;display:none&quot;&gt;&lt;/div&gt;


        
        &lt;div class=&quot;rich_media_area_extra&quot;&gt;
          &lt;div class=&quot;rich_media_area_extra_inner&quot;&gt;
              
              &lt;div id=&quot;js_share_appmsg&quot;&gt;
              &lt;/div&gt;

              
                            &lt;div class=&quot;mpda_bottom_container&quot; id=&quot;js_bottom_ad_area&quot;&gt;&lt;/div&gt;
                            
              &lt;div id=&quot;js_iframetest&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;
                            
                            
              &lt;div class=&quot;rich_media_extra rich_media_extra_discuss&quot; id=&quot;js_cmt_container&quot; style=&quot;display:none&quot;&gt;
                

                
                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_friend_cmt_area&quot; style=&quot;display:none&quot;&gt;
                  
                  
                  
                &lt;/div&gt;

                                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_cmt_area&quot; style=&quot;display:none&quot;&gt;
                &lt;/div&gt;
                              &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        
        &lt;div id=&quot;js_pc_qr_code&quot; class=&quot;qr_code_pc_outer&quot; style=&quot;display:none;&quot;&gt;
            &lt;div class=&quot;qr_code_pc_inner&quot;&gt;
                &lt;div class=&quot;qr_code_pc&quot;&gt;
                    &lt;img id=&quot;js_pc_qr_code_img&quot; class=&quot;qr_code_pc_img&quot;&gt;
                    &lt;p&gt;微信扫一扫&lt;br&gt;关注该公众号&lt;/p&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;</description>
<author>陈小天</author>
<guid isPermaLink="false">2018-10-31-1000000118</guid>
<pubDate>Wed, 31 Oct 2018 00:00:00 +0800</pubDate>
</item>
<item>
<title>1024 节献礼: simple chain</title>
<link>https://henix.github.io/feeds/weixin.sogou.programmer_life/2018-10-25-1000000117.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?timestamp=1542305802&amp;amp;src=3&amp;amp;ver=1&amp;amp;signature=hVIZ*K1Ga-Thh0b4vK5v2WjJBRWoy6MO1P30p-tt6j0vLbHhiOjElo7q*DdNWxW0biKXFxQF*Zh56dzTrNFH3jRxnqX3r9VivLgZJODKw1KN3suo3obgYk3VFmTbSZ2pHX2ghqCHoDCZoTuzGWKBQr9BiEFwSVwni6onnVU4yv4=&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;div id=&quot;js_top_ad_area&quot; class=&quot;top_banner&quot;&gt;&lt;/div&gt;&lt;div class=&quot;rich_media_inner&quot;&gt;

        
        
        &lt;div id=&quot;page-content&quot; class=&quot;rich_media_area_primary&quot;&gt;
          &lt;div class=&quot;rich_media_area_primary_inner&quot;&gt;
                                    
                        

            &lt;div id=&quot;img-content&quot;&gt;

                
                &lt;h2 class=&quot;rich_media_title&quot; id=&quot;activity-name&quot;&gt;
                    
                    
                    1024 节献礼: simple chain

                                                                                &lt;/h2&gt;
                &lt;div id=&quot;meta_content&quot; class=&quot;rich_media_meta_list&quot;&gt;
                                                            &lt;span id=&quot;copyright_logo&quot; class=&quot;rich_media_meta rich_media_meta_text meta_tag_text&quot;&gt;原创：&lt;/span&gt;
                                                            &lt;span class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;
                                                &lt;span id=&quot;js_author_name&quot; class=&quot;rich_media_meta_link&quot; data-rewardsn=&quot;&quot; data-timestamp=&quot;&quot; data-canreward=&quot;0&quot;&gt;陈小天&lt;/span&gt;
                                            &lt;/span&gt;
                                        
                                       
                                                                    
                                        &lt;span class=&quot;rich_media_meta rich_media_meta_nickname&quot; id=&quot;profileBt&quot;&gt;
                      &lt;a href=&quot;javascript:void(0);&quot; id=&quot;js_name&quot;&gt;
                        程序人生                      &lt;/a&gt;
                      &lt;div id=&quot;js_profile_qrcode&quot; class=&quot;profile_container&quot; style=&quot;display:none;&quot;&gt;
                          &lt;div class=&quot;profile_inner&quot;&gt;
                              &lt;strong class=&quot;profile_nickname&quot;&gt;程序人生&lt;/strong&gt;
                              &lt;img class=&quot;profile_avatar&quot; id=&quot;js_profile_qrcode_img&quot; src=&quot;&quot; alt=&quot;&quot;&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;微信号&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;programmer_life&lt;/span&gt;
                              &lt;/p&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;功能介绍&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;十年漫漫程序人生，打过各种杂，也做过让我骄傲的软件；管理过数十人的团队，还带领一班兄弟姐妹创过业，目前在硅谷一家创业公司担任 VP。关注程序人生，了解程序猿，学做程序猿，做好程序猿，让我们的程序人生精彩满满。&lt;/span&gt;
                              &lt;/p&gt;
                              
                          &lt;/div&gt;
                          &lt;span class=&quot;profile_arrow_wrp&quot; id=&quot;js_profile_arrow_wrp&quot;&gt;
                              &lt;i class=&quot;profile_arrow arrow_out&quot;&gt;&lt;/i&gt;
                              &lt;i class=&quot;profile_arrow arrow_in&quot;&gt;&lt;/i&gt;
                          &lt;/span&gt;
                      &lt;/div&gt;
                    &lt;/span&gt;


                    &lt;em id=&quot;publish_time&quot; class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;&lt;/em&gt;





                &lt;/div&gt;
                
                
                
                
                                                
                                                                
                                
                
                &lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    

                    
                    
                    &lt;p style=&#39;margin-right: 10px;margin-bottom: 20px;margin-left: 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;前两周上线了我们为 Cybermiles 提供的 supernode，因为 Cybermiles 主网使用了 Tendermint，于是上周便研究了一下 Tendermint，边学边写了个 slides 介绍 Tendermint。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;Tendermint 是一个脱胎于 PBFT 的 consensus engine，并在此之上构建了一个 Appliation BlockChain Interface (ABCI)，让 blockchain 的开发者可以关注于如何提供服务，以及维系服务的状态，而把如何达成共识，如何管理 mempool，如何进行安全的 p2p 通讯这样的琐事交给 Tendermint 来处理。Tendermint 自身是 golang 撰写的，其 ABCI 接口用 protobuf 实现，并使用 raw TCP 或者 http2 (gRPC) 和 application layer 通讯。&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.8424932975871313&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/SER9L29WQ08ZumBPBEZXojjvVAUqQAVIuw6Pv85UONdekQz2HZTPiau25488VmaJuQ97on2CDFdHKCaG5VV5FAQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1492&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;周日，闲来无事，想用 tendermint 做点东西。无奈 tendermint 没有提供 elixir 的 ABCI 实现，社区的 erlang 实现又缺失一些东西，且我很不喜欢 erlang 下用 Record 来描述 protobuf 的方式，于是用 Tony 的 protobuf 库，写了个 elixir 的 ABCI 实现，放在 github.com/arcblock/ex_abci 上，并随后实现了 Tendermint 自身提供的 counter example app - 用区块链的不可篡改性来维护一个全网唯一的计数器。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;使用 ex_abci，counter app 的核心代码也就几十行，就是实现 info，check_tx，deliver_tx 几个接口即可：&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.9825750242013552&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/SER9L29WQ08ZumBPBEZXojjvVAUqQAVI5oo8Ptc94w5I0MvZeO0r6bQTeakiawJpVP1gm3ibcEiab44F99cB82oLA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1033&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;这样的 app 当 hello world 还可以，用来验证 Tendermint 是否靠谱，本身并不靠谱。Tendermint 还提供了一个 kv store 的 example，也没有 get 到区块链的核心要素，于是我便萌生了搞一个足够简单，最好能在几百行内演示区块链技术的 Simple Chain。那什么算是区块链的核心要素呢，我觉得是这幅图 - Merkle Patricia Tree (MPT)：&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.70625&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/SER9L29WQ08ZumBPBEZXojjvVAUqQAVI8VBoUgnILcHEdz6WxKEazyxTtEkzTPg4ia2J5DuVzjCjZKLcEa0ID5A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;这是以太坊保存其 World State 的核心 - 我相信我的读者们了解 patricia tree (prefix tree, radix tree, 或者叫 trie)，有一些区块链知识的读者应该知道 merkle tree，MPT 结合二者，组织出一个自带验证的 persistent data structure（函数式编程语言保存 list / map 的方式），关于 MPT 和以及上图，我们的工程师丁沛灵同学在上次北京 Hackathon 有一个精彩的讲座，感兴趣的同学可以去 youtube arcblock channel 上找：ArcBlock’s Introduction to Blockchain，在 37 分钟附近开始讲 MPT，大约 10 分钟，非常之深入浅出。篇幅有限，我这里就不详细展开。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;关于 Simple Chain，产品上我是这么考虑的：&lt;/p&gt;&lt;ol type=&quot;1&quot; style=&quot;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;账号系统兼容以太坊&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;完整使用 Tendermint 的全部接口，并探索它们的意义&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;chain 的状态使用 MPT 保存，并将每个 block commit 后的 state root 提交给 Tendermint&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;chain 能够具有基本的容错 - 比如 tx 执行到一半，crash 了，可以恢复到上一个 block 的 state 继续往下执行&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;Transaction 使用简化版本的 Ethereum tx，一个 TX 只包含 from, to, nonce, total 和 pub key&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;MPT 里保存类似 Ethereum 的 account，每个 account 有自己的 balance，nonce 和 num_txs&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;client RPC 直接整合在 Wallet 模块里，方便演示&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;花了两天的功夫，一个粗糙的，未经过多节点测试的版本终于实现了，源码见：ex_abci/examples/simple_chain。我们谈谈其主要对外接口：&lt;/p&gt;&lt;ol type=&quot;1&quot; style=&quot;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;Wallet.new: 生成离线账号&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;Wallet.declare: 每个 Wallet 第一次可以让系统给自己打 10000 个 token，这个主要方便测试&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;Wallet.transfer：一个账户给另一个账户打钱。两方的 address 对应的 account 会在 chain 的 MPT 里更新，每个 block commit 之后，MPT root，也就是 app state 会写入 block header。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;Wallet.info / Wallet.chain_info：访问 account 的信息 / chain 的信息&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;下面是运行时的整个过程。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;初始化：&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.36989591673338673&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/SER9L29WQ08ZumBPBEZXojjvVAUqQAVIwicpIat4ibX8TxCmET5hPVTeiaZQBZUTyiboZvwKo93toDTicSPlkJSOcrg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1249&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;Wallet 状态：&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.39325842696629215&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/SER9L29WQ08ZumBPBEZXojjvVAUqQAVILT8nic9sWFBBquQPTvOpKTiaLUZoL6dH1P7J1ic4Kc0eAxf9QibTR6H8iag/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1246&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;转账：&lt;/p&gt;&lt;p style=&quot;text-align: justify;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);line-height: 28px;background-color: rgb(255, 255, 255);font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.5904&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/SER9L29WQ08ZumBPBEZXojjvVAUqQAVIFs5rZ7rC3TxEznjB0nXOlApZnolZlK38jxLiaKadB2tYhSpAqsiajApQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1250&quot; style=&quot;text-align: center;white-space: normal;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: justify;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);line-height: 28px;background-color: rgb(255, 255, 255);font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.9911575562700965&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/SER9L29WQ08ZumBPBEZXojjvVAUqQAVIaK8IJzMOVZzsfTZpjXTFiaWrtfhR4f2pMF4gR8QbBZVfUMteViawmJEg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1244&quot; style=&#39;text-align: center;font-family: &quot;Helvetica Neue&quot;, Helvetica, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;&#39;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.5768608414239482&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/SER9L29WQ08ZumBPBEZXojjvVAUqQAVIBk2dpgsibeuosF2kN6pOxogpBgJ9ggk9qMu9Agk4KhthsSwL0y83VMQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1236&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;Tendermint block:&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.6281800391389433&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/SER9L29WQ08ZumBPBEZXojjvVAUqQAVIicyTsRD4ekUEBUIVoFPtD3PrylfnaRNQvEtAtFiaNKvcbU8GmwBGJOHA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1022&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;转账结束后的状态：&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.15664335664335666&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/SER9L29WQ08ZumBPBEZXojjvVAUqQAVIRfrltSHJmibNjCwjwIG5K9BjaoJKwXZQ9mozyRCefvq8iaXeDkySvKeQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;715&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;这个 Simple Chain 主要使用到的技术：&lt;/p&gt;&lt;ol type=&quot;1&quot; style=&quot;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;Tendermint 和 ex_abci，这是自然&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;Elixir 下的 MPT 实现：merkle_patricia_tree&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;Tony 的 &lt;/span&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;protobuf&lt;/span&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt; 实现。我们在 MPT 里存储 account，其 value 也是用 &lt;/span&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;protobuf&lt;/span&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt; 定义的&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;keccakf1600：ethereum 的 sha3 的实现，用来产生 account address 和各种需要 hash 的场合（注意，我们这里并没有使用 double hash）&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;libsecp256k1：ECDSA 的实现，主要用来生成 wallet，以及 transaction 的 sign 和 verify&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;目前代码量在 400 行内，基本上一目了然，用来理解 Tendermint 和区块链技术的基本逻辑再好不过。感兴趣的读者可以安装 tendermint，下载 github.com/arcblock/ex_abci 尝试。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;本来这篇文章想赶在 1024 节前发的 - 昨晚我处理 crash recovery 没有处理好，今早开车穿越 90 号高速上的迷雾时，突然有了思路，所以文章发晚了。对这些技术感兴趣的同学，可以在 https://hack.arcblock.io/learning/ 上面报名我们未来的 Tech Talk，以及关注 arcblock 的 youtube channel 获取我们之前的知识分享。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&#39;&gt;祝大家 1024 节快乐！&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;
                &lt;/div&gt;
                &lt;script nonce=&quot;1357198122&quot; type=&quot;text/javascript&quot;&gt;
                    var first_sceen__time = (+new Date());

                    if (&quot;&quot; == 1 &amp;&amp; document.getElementById(&#39;js_content&#39;)) {
                        document.getElementById(&#39;js_content&#39;).addEventListener(&quot;selectstart&quot;,function(e){ e.preventDefault(); });
                    }

                    
                    (function(){
                        if (navigator.userAgent.indexOf(&quot;WindowsWechat&quot;) != -1){
                            var link = document.createElement(&#39;link&#39;);
                            var head = document.getElementsByTagName(&#39;head&#39;)[0];
                            link.rel = &#39;stylesheet&#39;;
                            link.type = &#39;text/css&#39;;
                            link.href = &quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/winwx3ec991.css&quot;;
                            head.appendChild(link);
                        }
                    })();
                &lt;/script&gt;

                
                &lt;div class=&quot;ct_mpda_wrp&quot; id=&quot;js_sponsor_ad_area&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;

                
                                &lt;div class=&quot;reward_area tc reward_area_primary&quot; id=&quot;js_reward_area&quot; style=&quot;display:none;&quot;&gt;
                    &lt;div class=&quot;reward-avatar&quot; style=&quot;display: none;&quot; id=&quot;js_reward_avatar&quot;&gt;
                        &lt;img src=&quot;&quot; alt=&quot;&quot; id=&quot;js_reward_author_head&quot;&gt;
                    &lt;/div&gt;
                    
                                       
                                                &lt;div class=&quot;reward-author&quot; style=&quot;display: none;&quot; id=&quot;js_reward_author&quot;&gt;陈小天&lt;/div&gt;
                                            
                                       

                                        &lt;p&gt;
                        &lt;a class=&quot;reward_button&quot; id=&quot;js_reward_link&quot; href=&quot;##&quot;&gt;&lt;span id=&quot;js_reward_link_text&quot;&gt;赞赏&lt;/span&gt;&lt;/a&gt;
                    &lt;/p&gt;
                    &lt;div id=&quot;js_reward_inner&quot; class=&quot;reward_area_inner&quot; style=&quot;display:none;&quot;&gt;
                        &lt;p class=&quot;weui-loadmore weui-loadmore_line reward_user_tips&quot; id=&quot;js_reward_total_parent&quot;&gt;
                          &lt;span class=&quot;weui-loadmore__tips&quot;&gt;&lt;a href=&quot;##&quot; id=&quot;js_reward_total&quot;&gt;&lt;/a&gt; 人&lt;span id=&quot;js_reward_total_text&quot;&gt;赞赏&lt;/span&gt;&lt;/span&gt;
                        &lt;/p&gt;
                        
                        &lt;div id=&quot;js_reward_list&quot; class=&quot;reward_user_list&quot;&gt;&lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                                &lt;div class=&quot;reward_qrcode_area reward_area tc&quot; id=&quot;js_reward_qrcode&quot; style=&quot;display:none;&quot;&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;长按二维码向我转账&lt;/p&gt;
                                        &lt;p class=&quot;reward_tips&quot;&gt;&lt;/p&gt;
                    &lt;span class=&quot;reward_qrcode_img_wrp&quot;&gt;&lt;img class=&quot;reward_qrcode_img&quot; id=&quot;js_reward_qrcode_img&quot;&gt;&lt;/span&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;受苹果公司新规定影响，微信 iOS 版的赞赏功能被关闭，可通过二维码转账支持公众号。&lt;/p&gt;
                &lt;/div&gt;
                                                
                
                            &lt;/div&gt;
                                    
                        


                        
            &lt;ul id=&quot;js_hotspot_area&quot; class=&quot;article_extend_area&quot;&gt;&lt;/ul&gt;


            
                        &lt;div class=&quot;rich_media_tool&quot; id=&quot;js_toobar3&quot;&gt;

                                            &lt;div id=&quot;js_read_area3&quot; class=&quot;media_tool_meta tips_global_primary meta_primary&quot; style=&quot;display:none;&quot;&gt;阅读 &lt;span id=&quot;readNum3&quot;&gt;&lt;/span&gt;&lt;/div&gt;

                &lt;span style=&quot;display:none;&quot; class=&quot;media_tool_meta meta_extra meta_praise&quot; id=&quot;like3&quot;&gt;
                    &lt;i class=&quot;icon_praise_gray&quot;&gt;&lt;/i&gt;&lt;span class=&quot;praise_num&quot; id=&quot;likeNum3&quot;&gt;&lt;/span&gt;
                &lt;/span&gt;

                

            &lt;/div&gt;


                        &lt;div class=&quot;rich_media_tool&quot; id=&quot;js_sg_bar&quot;&gt;

                                
            &lt;/div&gt;
                      &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class=&quot;rich_media_area_primary sougou&quot; id=&quot;sg_tj&quot; style=&quot;display:none&quot;&gt;&lt;/div&gt;


        
        &lt;div class=&quot;rich_media_area_extra&quot;&gt;
          &lt;div class=&quot;rich_media_area_extra_inner&quot;&gt;
              
              &lt;div id=&quot;js_share_appmsg&quot;&gt;
              &lt;/div&gt;

              
                            &lt;div class=&quot;mpda_bottom_container&quot; id=&quot;js_bottom_ad_area&quot;&gt;&lt;/div&gt;
                            
              &lt;div id=&quot;js_iframetest&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;
                            
                            
              &lt;div class=&quot;rich_media_extra rich_media_extra_discuss&quot; id=&quot;js_cmt_container&quot; style=&quot;display:none&quot;&gt;
                

                
                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_friend_cmt_area&quot; style=&quot;display:none&quot;&gt;
                  
                  
                  
                &lt;/div&gt;

                                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_cmt_area&quot; style=&quot;display:none&quot;&gt;
                &lt;/div&gt;
                              &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        
        &lt;div id=&quot;js_pc_qr_code&quot; class=&quot;qr_code_pc_outer&quot; style=&quot;display:none;&quot;&gt;
            &lt;div class=&quot;qr_code_pc_inner&quot;&gt;
                &lt;div class=&quot;qr_code_pc&quot;&gt;
                    &lt;img id=&quot;js_pc_qr_code_img&quot; class=&quot;qr_code_pc_img&quot;&gt;
                    &lt;p&gt;微信扫一扫&lt;br&gt;关注该公众号&lt;/p&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;</description>
<author>陈小天</author>
<guid isPermaLink="false">2018-10-25-1000000117</guid>
<pubDate>Thu, 25 Oct 2018 00:00:00 +0800</pubDate>
</item>
<item>
<title>分享图片</title>
<link>https://henix.github.io/feeds/weixin.sogou.programmer_life/2018-09-26-1000000116.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?timestamp=1542305802&amp;amp;src=3&amp;amp;ver=1&amp;amp;signature=hVIZ*K1Ga-Thh0b4vK5v2WjJBRWoy6MO1P30p-tt6j0vLbHhiOjElo7q*DdNWxW0biKXFxQF*Zh56dzTrNFH3hGtG0EkOHLLnxnV6jGhdEeBtbtJlInGt6qJ4Dujzqm-S91O16VATvQ7qi3otEwnN0LbX3W1CyDAh3RbeEWqa3Y=&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;share_mod_context share_global_info&quot;&gt;
        &lt;div class=&quot;flex_context account_info&quot;&gt;
            &lt;div class=&quot;js_go_profile flex_hd&quot;&gt;
                &lt;span class=&quot;radius_avatar account_avatar&quot;&gt;
                                        &lt;img class=&quot;account_avatar&quot; src=&quot;http://mmbiz.qpic.cn/mmbiz/SER9L29WQ089EjsMfvK7TPpZaxOXy5Hol48b2jia9bylYt8MOsoJviaZvlDdohYkFJKibvw9U408PYDKSKpiaV0VyQ/0?wx_fmt=png&quot; alt=&quot;程序人生&quot;&gt;
                                    &lt;/span&gt;
            &lt;/div&gt;
            &lt;div class=&quot;flex_bd&quot;&gt;
                &lt;div class=&quot;js_go_profile account_nickname&quot;&gt;&lt;strong class=&quot;account_nickname_inner&quot;&gt;程序人生&lt;/strong&gt;&lt;/div&gt;
                &lt;div class=&quot;account_desc&quot;&gt;
                    &lt;div class=&quot;account_desc_inner&quot;&gt;
                        &lt;span id=&quot;publish_time&quot;&gt;2018-09-26&lt;/span&gt;
                                            &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;div id=&quot;js_content&quot;&gt;
                        &lt;div id=&quot;img_list&quot; class=&quot;share_media&quot;&gt;
                                &lt;img src=&quot;http://mmbiz.qpic.cn/mmbiz_jpg/SER9L29WQ0ica4zlLcxbPCxDuj0VSrQJoYJo9iaJicNCdibIpRVIUWTSblibiborJFk372aOUXoPT4viaXicrhTZONW1pg/0?wx_fmt=jpeg&quot; alt=&quot;&quot;&gt;
                            &lt;/div&gt;
        &lt;/div&gt;        
        &lt;div id=&quot;bot_bar&quot; class=&quot;rich_media_tool&quot;&gt;
            &lt;div id=&quot;js_read_area3&quot; class=&quot;media_tool_meta tips_global_primary meta_primary&quot; style=&quot;display:none;&quot;&gt;阅读 &lt;span id=&quot;readNum3&quot;&gt;&lt;/span&gt;&lt;/div&gt;
            &lt;span style=&quot;display:none;&quot; class=&quot;media_tool_meta meta_extra meta_praise&quot; id=&quot;like3&quot;&gt;
                &lt;i class=&quot;icon_praise_gray&quot;&gt;&lt;/i&gt;&lt;span class=&quot;praise_num&quot; id=&quot;likeNum3&quot;&gt;&lt;/span&gt;
            &lt;/span&gt;
            &lt;a id=&quot;js_report_article3&quot; style=&quot;display:none;&quot; class=&quot;media_tool_meta tips_global meta_extra&quot; href=&quot;##&quot;&gt;投诉&lt;/a&gt;
        &lt;/div&gt;
    &lt;/div&gt;&lt;div class=&quot;rich_media_area_extra&quot;&gt;
      
      
      &lt;div class=&quot;ct_mpda_wrp&quot; id=&quot;js_sponsor_ad_area&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;
      
            
      &lt;div class=&quot;mpda_bottom_container&quot; id=&quot;js_bottom_ad_area&quot;&gt;&lt;/div&gt;
            
      

&lt;div class=&quot;rich_media_extra rich_media_extra_discuss&quot; id=&quot;js_cmt_container&quot; style=&quot;display:none&quot;&gt;
  
  &lt;div class=&quot;discuss_mod&quot; id=&quot;js_cmt_title&quot; style=&quot;display:none&quot;&gt;
    &lt;div class=&quot;discuss_container&quot;&gt;
      &lt;div class=&quot;weui-loadmore weui-loadmore_line mod_title_context_primary&quot;&gt;
        &lt;span class=&quot;weui-loadmore__tips&quot;&gt;留言&lt;/span&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  
  &lt;div class=&quot;discuss_mod&quot; id=&quot;js_friend_cmt_area&quot; style=&quot;display:none&quot;&gt;
  &lt;/div&gt;
  &lt;div id=&quot;js_cmt_area&quot; class=&quot;discuss_mod&quot; style=&quot;display:none;&quot;&gt;
    
  &lt;/div&gt;
  &lt;/div&gt;

    &lt;/div&gt;</description>
<author></author>
<guid isPermaLink="false">2018-09-26-1000000116</guid>
<pubDate>Wed, 26 Sep 2018 00:00:00 +0800</pubDate>
</item>
<item>
<title>ArcBlock 北京黑客松，你来不来？</title>
<link>https://henix.github.io/feeds/weixin.sogou.programmer_life/2018-09-07-1000000115.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?timestamp=1542305802&amp;amp;src=3&amp;amp;ver=1&amp;amp;signature=hVIZ*K1Ga-Thh0b4vK5v2WjJBRWoy6MO1P30p-tt6j0vLbHhiOjElo7q*DdNWxW0biKXFxQF*Zh56dzTrNFH3j7dmBxTCGy7HYaKJBv2Bd5ZZL8dqBVavpPiQR-hnFZDPZLG6dAt8HC1RzHNXAhtp8IYfa9ZPu9njS1KSO5ks84=&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;div id=&quot;js_top_ad_area&quot; class=&quot;top_banner&quot;&gt;&lt;/div&gt;&lt;div class=&quot;rich_media_inner&quot;&gt;

        
        
        &lt;div id=&quot;page-content&quot; class=&quot;rich_media_area_primary&quot;&gt;
          &lt;div class=&quot;rich_media_area_primary_inner&quot;&gt;
                                    
                        

            &lt;div id=&quot;img-content&quot;&gt;

                
                &lt;h2 class=&quot;rich_media_title&quot; id=&quot;activity-name&quot;&gt;
                    
                    
                    ArcBlock 北京黑客松，你来不来？

                                                                                &lt;/h2&gt;
                &lt;div id=&quot;meta_content&quot; class=&quot;rich_media_meta_list&quot;&gt;
                                                            &lt;span id=&quot;copyright_logo&quot; class=&quot;rich_media_meta rich_media_meta_text meta_tag_text&quot;&gt;原创：&lt;/span&gt;
                                                            &lt;span class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;
                                                &lt;span id=&quot;js_author_name&quot; class=&quot;rich_media_meta_link&quot; data-rewardsn=&quot;&quot; data-timestamp=&quot;&quot; data-canreward=&quot;0&quot;&gt;陈小天&lt;/span&gt;
                                            &lt;/span&gt;
                                        
                                       
                                                                    
                                        &lt;span class=&quot;rich_media_meta rich_media_meta_nickname&quot; id=&quot;profileBt&quot;&gt;
                      &lt;a href=&quot;javascript:void(0);&quot; id=&quot;js_name&quot;&gt;
                        程序人生                      &lt;/a&gt;
                      &lt;div id=&quot;js_profile_qrcode&quot; class=&quot;profile_container&quot; style=&quot;display:none;&quot;&gt;
                          &lt;div class=&quot;profile_inner&quot;&gt;
                              &lt;strong class=&quot;profile_nickname&quot;&gt;程序人生&lt;/strong&gt;
                              &lt;img class=&quot;profile_avatar&quot; id=&quot;js_profile_qrcode_img&quot; src=&quot;&quot; alt=&quot;&quot;&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;微信号&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;programmer_life&lt;/span&gt;
                              &lt;/p&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;功能介绍&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;十年漫漫程序人生，打过各种杂，也做过让我骄傲的软件；管理过数十人的团队，还带领一班兄弟姐妹创过业，目前在硅谷一家创业公司担任 VP。关注程序人生，了解程序猿，学做程序猿，做好程序猿，让我们的程序人生精彩满满。&lt;/span&gt;
                              &lt;/p&gt;
                              
                          &lt;/div&gt;
                          &lt;span class=&quot;profile_arrow_wrp&quot; id=&quot;js_profile_arrow_wrp&quot;&gt;
                              &lt;i class=&quot;profile_arrow arrow_out&quot;&gt;&lt;/i&gt;
                              &lt;i class=&quot;profile_arrow arrow_in&quot;&gt;&lt;/i&gt;
                          &lt;/span&gt;
                      &lt;/div&gt;
                    &lt;/span&gt;


                    &lt;em id=&quot;publish_time&quot; class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;&lt;/em&gt;





                &lt;/div&gt;
                
                
                
                
                                                
                                                                
                                
                
                &lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    

                    
                    
                    &lt;p style=&#39;margin-right: 10px;margin-bottom: 20px;margin-left: 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;word-wrap: break-word !important;&#39;&gt;Hackathon，黑客马拉松，或者黑客松，是程序员们喜闻乐见的一种愉悦心情，开阔眼界，碰撞灵感的活动 —— 一群人，在一段特定的时间内，相聚在一起，通力合作，针对某个主题，编写点有意思的程序，应用，或者产品。根据 wikipedia 的记载，hackathon 起源于 OpenBSD 的一次密码学活动：「OpenBSD 于 1999 年 6 月 4 日在卡尔加里举办的一次密码学开发活动上第一次使用了该术语。在那次活动中，10 名程序员相聚到一起商讨如何避免由美国密码学软件出口规定引起的合法性问题」。在那之后，hackathon 遍地开花，有程序员的地方，便少不了由 pizza，软饮，噼里啪啦的键盘敲击声，角落里间或传来的欢呼声交织成的 hackathon。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;word-wrap: break-word !important;&#39;&gt;就像小孩子们在游乐场放飞自我一样，程序员在 hackathon 的世界里尽情挥洒汗水，探寻个人能耐的边界。工作上的苦楚，生活中的琐事，朋友圈里的焦虑，在这一刻都不复存在。沉浸于其中的每个人，眼睛盯着屏幕，双手飞快地，铿锵有力地在键盘上敲击，仿佛在演奏悠扬轻快的卡农，又仿佛《通缉令》里织布机上辛勤劳作的梭子，永不停歇地谱写下一个「上帝密码」。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;word-wrap: break-word !important;&#39;&gt;对 ArcBlock 来说，让区块链技术的开发和应用变得越来越友好是我们的使命。我们正在打造一系列的工具来达成这个使命。Open Chain Access Protocol，或者说 OCAP，是我们打造的第一个核心服务。我们读取公链上的数据，将 blocks / transactions / accounts 等信息索引出来，构建了一个基于 Aurora 的 Postgres Cluster，方便对数据进行 OLAP；以及基于 Parquet 格式的文件集，存储于 S3 之上，方便离线分析。在这些数据的基础上，我们搭建了一套基于 GraphQL 的 API 服务，对外提供数据的访问。整个 API 系统的结构如下：&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.58515625&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/SER9L29WQ08a1rVJNV55W7Yj3tnTVQIOCtiabrf4Bdh9jmZibewiazCrmAre2GHKicNnuQXFsCwQOGI2a7RoXiaYnBA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1280&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;word-wrap: break-word !important;&#39;&gt;API 服务的最大问题是不够直观，因而我们围绕着 OCAP API 提供了前端的 playground，方便大家实验和探索；当你在探索的过程中有了些许灵感，迫不及待想要做点什么的时候，我们提供了 javascript / nodejs / iOS / android 的 SDK，方便大家将灵感快速 MVP 化 —— 甚至，我们还贴心地为前端的同学提供了 react / vue 的 starter projects，一键带你飞上云端。下面是我们两周前在 Bellevue 举办的 hackathon 的一个作品，直接基于我们的 react starter project 和我们提供的 GraphQL subscription 功能：&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.75&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/SER9L29WQ08a1rVJNV55W7Yj3tnTVQIOlKZj8kIuNSGEhfriasiaNhO8ib0a095CCIwfIyQWjOtZwPrLicQkPDQgYQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1280&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;word-wrap: break-word !important;&#39;&gt;讲到这里，我相信有些同学会问，为什么我们要采用 GraphQL 作为 API layer？&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;word-wrap: break-word !important;&#39;&gt;GraphQL 自 facebook 在 2016 年推出以来，并未大红大紫，究其原因，还是后端实现起来有些复杂，和工程师已有的知识体系（以及运维体系）有所冲突。我在两年前的文章：&lt;a href=&quot;http://mp.weixin.qq.com/s?__biz=MzA3NDM0ODQwMw==&amp;amp;mid=2649827506&amp;amp;idx=1&amp;amp;sn=7eb23c6b15806382d6fdca5729bd7916&amp;amp;chksm=8704aaaeb07323b86b5bbd2f855cf1b3ccaef0e3d4fde8f6c7aebd5e4da9f9ceb3edb8ff542c&amp;amp;scene=21#wechat_redirect&quot; target=&quot;_blank&quot;&gt;GraphQL，你准备好了么&lt;/a&gt; 有过一些分析。ArcBlock 之所以采用 GraphQL，是因为我们觉得它的思想 —— 减轻客户端的学习成本和使用成本，很契合 ArcBlock 的让 blockchain app 开发变得简单便利的使命。我们不但在 OCAP API 上采用 GraphQL，我们几乎 all in GraphQL —— 所有对外（或者未来可能对外）的 API，我们都采用 GraphQL。为此，我们打造了一套叫 Goldorin 的工具（尚未开源），来减轻 GraphQL 的开发难度。工程师只需要撰写 yaml 格式的 API 描述文档，Goldorin 会生成 Absinthe，Ecto 等相关的代码，最后工程师只需要在生成的 resolver 里面做完形填空，填写如何 resolve 各个 field 的函数即可。通过 Goldorin，GraphQL notation / schema 等一系列繁琐的事情都被工具完成，开发的难度被大大降低。不仅如此，最近我们还在思考：如何构建一个内部的服务，让前端的同学只需要提交 yaml，描述好她希望使用的 API，后端自动生成并部署 stub API，提供&lt;strong&gt;理性&lt;/strong&gt;的 stub data，供前端调用。这样，前端就不需要巴巴等着后端提供支持，才能完成下一步的工作。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;word-wrap: break-word !important;&#39;&gt;还有同学会问：为什么你们的后端架构在 elixir 之上？&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;word-wrap: break-word !important;&#39;&gt;这两天在 Bellevue 举办 Elixir US 2018 conference，ArcBlock 是赞助商之一。我在站台的时候，也有很多人问我这个问题。技术是为产品服务的。如果你看上图 OCAP API 的架构，不难发现，里面有很多 micro service 的点。而 elixir 的基石 —— erlang/OTP，天然就是 micro service 的完美诠释 —— 每个 gen_server，都可以被视作一个 micro service。不仅如此，它还完整支持了使用 micro service 不得不做的很多固有仪式：比如说服务注册和发现（Registry），监控（link / monitor），自我治愈（supervision tree），集群管理（distributed erlang）等等。所以其他软件架构做起来复杂，憋半天才憋出一个 NB 的解决方案的事情，在 elixir 下，自然得仿佛在做新手上路的练习。比如 OCAP API 里面提供的实时币价 price_in_usd，它的 resolver 就是一个 gen_server 而已。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;word-wrap: break-word !important;&#39;&gt;此外，elixir 可能有 nodejs（apollo）外最成熟（最漂亮）的 GraphQL 实现。借助 Absinthe + Phoenix，我们可以轻松实现复杂的 subscription API，并且，运行在一个若干台机器组成的 cluster 里面。跨机器的不依赖第三方（比如 redis / kafka）的分布式 subscription 方案，可能仅有 elixir 的方案可以放心部署在 production，并 scale out 到数十台机器。需要支持规模更大的用户时，现有的 elixir 的 Phoenix pub/sub 方案又很容易集成第三方的工具 —— 所谓可箩可御，不过如此。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;word-wrap: break-word !important;&#39;&gt;扯远了。回到 hackathon。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;word-wrap: break-word !important;&#39;&gt;我们充分理解参加一次 hackathon，你所付出的宝贵的时间成本 —— 毕竟，匀出一整天宝贵的周六，不陪孩子玩耍，不陪老婆（老公）逛街（打游戏），花上据说又在「杀死」一千万北京青年的，不知道有多久的通勤时间，来参加一场 blockchain 这样一个相对陌生的领域的 hackathon，如果得不到些什么，似乎说不过去。所以我们提供了一些小礼物和小奖品（当然我相信你不太会冲着这个而来），以及精心准备了两场 talk。第一场会深入浅出介绍 bitcoin / ethereum，以及他们技术实现上的特点和亮点；第二场会介绍 ArcBlock 的技术栈，技术选型，OCAP API 的架构，以及如何使用 OCAP SDK 构建应用。我们希望通过这两场讲座，把我们 ArcBlock 对 blockchain tech 的认知，毫无保留地分享给大家。当然，讲座以外的时间，我们也会为大家解答币价以外的，任何有关 ArcBlock / bitcoin / ethereum 的问题；同时，当你在 hack 的过程中，出现的任何技术问题，我和我们的技术团队，也会第一时间和你探讨和处理。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;word-wrap: break-word !important;&#39;&gt;为了保证参与质量，此次 hackathon，在注册时我们会收取 50 元的门票，然后现场签到者我们即时微信转账返还全额门票。这是吸取了我们第二次在 Bellevue 举办 hackathon 的教训 —— eventbrite 上注册了太多人，使得我们担心活动场地无法容纳全部参与者，于是提前结束了注册，结果活动当天 80% 的参与者都没有出现，白白浪费场地资源和别人的机会。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;word-wrap: break-word !important;&#39;&gt;下面是活动详情：&lt;/p&gt;&lt;ul style=&quot;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p style=&quot;line-height: 2em;&quot;&gt;时间：9/15 周六 9:30am - 7:00pm&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p style=&quot;line-height: 2em;&quot;&gt;地址：优客工场（酒仙桥），北京市酒仙桥路兆维工业园C3号楼2层（地铁 14 号线&lt;strong&gt;将台站&lt;/strong&gt;附近）&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p style=&quot;line-height: 2em;&quot;&gt;报名链接：扫下面的小程序码直达（也可点击「阅读原文」，或者&lt;strong&gt;在 huodongxing.com 里搜索 arcblock&lt;/strong&gt;，然后在相应活动下点击「我要报名」）&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;1&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/SER9L29WQ08a1rVJNV55W7Yj3tnTVQIOQShm9QBJ3r1vR8rYiaPhP7UqD5WDJAJHxuLt19GXSSvdsaPqp7GCjcQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;280&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;word-wrap: break-word !important;&#39;&gt;也许，这样一场 hackathon，能够小小抚慰你那颗被 996 磨出茧子的，磨平希望，但依旧不安分的心？&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;word-wrap: break-word !important;&#39;&gt;也许，这样一场以码会友的活动，能够帮你找到自己事业上的「虚竹」和「段誉」？&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;word-wrap: break-word !important;&#39;&gt;也许，太多的也许。也许冥冥中，这就是亚马逊河边煽动翅膀的蝴蝶？&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;word-wrap: break-word !important;&#39;&gt;我们诚挚地欢迎你的到来！100个名额，报完即止！&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;
                &lt;/div&gt;
                &lt;script nonce=&quot;1853725345&quot; type=&quot;text/javascript&quot;&gt;
                    var first_sceen__time = (+new Date());

                    if (&quot;&quot; == 1 &amp;&amp; document.getElementById(&#39;js_content&#39;)) {
                        document.getElementById(&#39;js_content&#39;).addEventListener(&quot;selectstart&quot;,function(e){ e.preventDefault(); });
                    }

                    
                    (function(){
                        if (navigator.userAgent.indexOf(&quot;WindowsWechat&quot;) != -1){
                            var link = document.createElement(&#39;link&#39;);
                            var head = document.getElementsByTagName(&#39;head&#39;)[0];
                            link.rel = &#39;stylesheet&#39;;
                            link.type = &#39;text/css&#39;;
                            link.href = &quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/winwx3ec991.css&quot;;
                            head.appendChild(link);
                        }
                    })();
                &lt;/script&gt;

                
                &lt;div class=&quot;ct_mpda_wrp&quot; id=&quot;js_sponsor_ad_area&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;

                
                                &lt;div class=&quot;reward_area tc reward_area_primary&quot; id=&quot;js_reward_area&quot; style=&quot;display:none;&quot;&gt;
                    &lt;div class=&quot;reward-avatar&quot; style=&quot;display: none;&quot; id=&quot;js_reward_avatar&quot;&gt;
                        &lt;img src=&quot;&quot; alt=&quot;&quot; id=&quot;js_reward_author_head&quot;&gt;
                    &lt;/div&gt;
                    
                                       
                                                &lt;div class=&quot;reward-author&quot; style=&quot;display: none;&quot; id=&quot;js_reward_author&quot;&gt;陈小天&lt;/div&gt;
                                            
                                       

                                        &lt;p&gt;
                        &lt;a class=&quot;reward_button&quot; id=&quot;js_reward_link&quot; href=&quot;##&quot;&gt;&lt;span id=&quot;js_reward_link_text&quot;&gt;赞赏&lt;/span&gt;&lt;/a&gt;
                    &lt;/p&gt;
                    &lt;div id=&quot;js_reward_inner&quot; class=&quot;reward_area_inner&quot; style=&quot;display:none;&quot;&gt;
                        &lt;p class=&quot;weui-loadmore weui-loadmore_line reward_user_tips&quot; id=&quot;js_reward_total_parent&quot;&gt;
                          &lt;span class=&quot;weui-loadmore__tips&quot;&gt;&lt;a href=&quot;##&quot; id=&quot;js_reward_total&quot;&gt;&lt;/a&gt; 人&lt;span id=&quot;js_reward_total_text&quot;&gt;赞赏&lt;/span&gt;&lt;/span&gt;
                        &lt;/p&gt;
                        
                        &lt;div id=&quot;js_reward_list&quot; class=&quot;reward_user_list&quot;&gt;&lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                                &lt;div class=&quot;reward_qrcode_area reward_area tc&quot; id=&quot;js_reward_qrcode&quot; style=&quot;display:none;&quot;&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;长按二维码向我转账&lt;/p&gt;
                                        &lt;p class=&quot;reward_tips&quot;&gt;&lt;/p&gt;
                    &lt;span class=&quot;reward_qrcode_img_wrp&quot;&gt;&lt;img class=&quot;reward_qrcode_img&quot; id=&quot;js_reward_qrcode_img&quot;&gt;&lt;/span&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;受苹果公司新规定影响，微信 iOS 版的赞赏功能被关闭，可通过二维码转账支持公众号。&lt;/p&gt;
                &lt;/div&gt;
                                                
                
                            &lt;/div&gt;
                                    
                        


                        
            &lt;ul id=&quot;js_hotspot_area&quot; class=&quot;article_extend_area&quot;&gt;&lt;/ul&gt;


            
                        &lt;div class=&quot;rich_media_tool&quot; id=&quot;js_toobar3&quot;&gt;

                                            &lt;a class=&quot;media_tool_meta meta_primary&quot; id=&quot;js_view_source&quot; href=&quot;##&quot;&gt;阅读原文&lt;/a&gt;
                                &lt;div id=&quot;js_read_area3&quot; class=&quot;media_tool_meta tips_global_primary meta_primary&quot; style=&quot;display:none;&quot;&gt;阅读 &lt;span id=&quot;readNum3&quot;&gt;&lt;/span&gt;&lt;/div&gt;

                &lt;span style=&quot;display:none;&quot; class=&quot;media_tool_meta meta_extra meta_praise&quot; id=&quot;like3&quot;&gt;
                    &lt;i class=&quot;icon_praise_gray&quot;&gt;&lt;/i&gt;&lt;span class=&quot;praise_num&quot; id=&quot;likeNum3&quot;&gt;&lt;/span&gt;
                &lt;/span&gt;

                

            &lt;/div&gt;


                        &lt;div class=&quot;rich_media_tool&quot; id=&quot;js_sg_bar&quot;&gt;

                                &lt;a class=&quot;media_tool_meta meta_primary&quot; href=&quot;http://www.huodongxing.com/event/8456393424200&quot; target=&quot;_blank&quot;&gt;阅读原文&lt;/a&gt;
                                
            &lt;/div&gt;
                      &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class=&quot;rich_media_area_primary sougou&quot; id=&quot;sg_tj&quot; style=&quot;display:none&quot;&gt;&lt;/div&gt;


        
        &lt;div class=&quot;rich_media_area_extra&quot;&gt;
          &lt;div class=&quot;rich_media_area_extra_inner&quot;&gt;
              
              &lt;div id=&quot;js_share_appmsg&quot;&gt;
              &lt;/div&gt;

              
                            &lt;div class=&quot;mpda_bottom_container&quot; id=&quot;js_bottom_ad_area&quot;&gt;&lt;/div&gt;
                            
              &lt;div id=&quot;js_iframetest&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;
                            
                            
              &lt;div class=&quot;rich_media_extra rich_media_extra_discuss&quot; id=&quot;js_cmt_container&quot; style=&quot;display:none&quot;&gt;
                

                
                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_friend_cmt_area&quot; style=&quot;display:none&quot;&gt;
                  
                  
                  
                &lt;/div&gt;

                                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_cmt_area&quot; style=&quot;display:none&quot;&gt;
                &lt;/div&gt;
                              &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        
        &lt;div id=&quot;js_pc_qr_code&quot; class=&quot;qr_code_pc_outer&quot; style=&quot;display:none;&quot;&gt;
            &lt;div class=&quot;qr_code_pc_inner&quot;&gt;
                &lt;div class=&quot;qr_code_pc&quot;&gt;
                    &lt;img id=&quot;js_pc_qr_code_img&quot; class=&quot;qr_code_pc_img&quot;&gt;
                    &lt;p&gt;微信扫一扫&lt;br&gt;关注该公众号&lt;/p&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;</description>
<author>陈小天</author>
<guid isPermaLink="false">2018-09-07-1000000115</guid>
<pubDate>Fri, 07 Sep 2018 00:00:00 +0800</pubDate>
</item>
<item>
<title>分享图片</title>
<link>https://henix.github.io/feeds/weixin.sogou.programmer_life/2018-08-07-1000000114.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?timestamp=1542305802&amp;amp;src=3&amp;amp;ver=1&amp;amp;signature=hVIZ*K1Ga-Thh0b4vK5v2WjJBRWoy6MO1P30p-tt6j0vLbHhiOjElo7q*DdNWxW0biKXFxQF*Zh56dzTrNFH3j-4VyUT1Kbs2QtbjLMweyqI0lpEdKrXM2T7QcTT82NHLu4fUH2wFpAXzXeF7ar-AXpsvucwFcFIa-zp1xzoS3s=&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;share_mod_context share_global_info&quot;&gt;
        &lt;div class=&quot;flex_context account_info&quot;&gt;
            &lt;div class=&quot;js_go_profile flex_hd&quot;&gt;
                &lt;span class=&quot;radius_avatar account_avatar&quot;&gt;
                                        &lt;img class=&quot;account_avatar&quot; src=&quot;http://mmbiz.qpic.cn/mmbiz/SER9L29WQ089EjsMfvK7TPpZaxOXy5Hol48b2jia9bylYt8MOsoJviaZvlDdohYkFJKibvw9U408PYDKSKpiaV0VyQ/0?wx_fmt=png&quot; alt=&quot;程序人生&quot;&gt;
                                    &lt;/span&gt;
            &lt;/div&gt;
            &lt;div class=&quot;flex_bd&quot;&gt;
                &lt;div class=&quot;js_go_profile account_nickname&quot;&gt;&lt;strong class=&quot;account_nickname_inner&quot;&gt;程序人生&lt;/strong&gt;&lt;/div&gt;
                &lt;div class=&quot;account_desc&quot;&gt;
                    &lt;div class=&quot;account_desc_inner&quot;&gt;
                        &lt;span id=&quot;publish_time&quot;&gt;2018-08-07&lt;/span&gt;
                                                                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
        &lt;div id=&quot;js_content&quot;&gt;
                        &lt;div id=&quot;img_list&quot; class=&quot;share_media&quot;&gt;
                                &lt;img src=&quot;http://mmbiz.qpic.cn/mmbiz_jpg/SER9L29WQ0ib6SmQecfZHMaELgROY8crU6z1Q2Miafg05qT8zZbpQACu7qtjJkCIs2Hic4aPrWwicKxCzzb0ewNfLw/0?wx_fmt=jpeg&quot; alt=&quot;&quot;&gt;
                            &lt;/div&gt;
        &lt;/div&gt;        
        &lt;div id=&quot;bot_bar&quot; class=&quot;rich_media_tool&quot;&gt;
            &lt;div id=&quot;js_read_area3&quot; class=&quot;media_tool_meta tips_global_primary meta_primary&quot; style=&quot;display:none;&quot;&gt;阅读 &lt;span id=&quot;readNum3&quot;&gt;&lt;/span&gt;&lt;/div&gt;
            &lt;span style=&quot;display:none;&quot; class=&quot;media_tool_meta meta_extra meta_praise&quot; id=&quot;like3&quot;&gt;
                &lt;i class=&quot;icon_praise_gray&quot;&gt;&lt;/i&gt;&lt;span class=&quot;praise_num&quot; id=&quot;likeNum3&quot;&gt;&lt;/span&gt;
            &lt;/span&gt;
            &lt;a id=&quot;js_report_article3&quot; style=&quot;display:none;&quot; class=&quot;media_tool_meta tips_global meta_extra&quot; href=&quot;##&quot;&gt;投诉&lt;/a&gt;
        &lt;/div&gt;
    &lt;/div&gt;&lt;div class=&quot;rich_media_area_extra&quot;&gt;
      
      
      &lt;div class=&quot;ct_mpda_wrp&quot; id=&quot;js_sponsor_ad_area&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;
      
            
      &lt;div class=&quot;mpda_bottom_container&quot; id=&quot;js_bottom_ad_area&quot;&gt;&lt;/div&gt;
            
      

&lt;div class=&quot;rich_media_extra rich_media_extra_discuss&quot; id=&quot;js_cmt_container&quot; style=&quot;display:none&quot;&gt;
  
  &lt;div class=&quot;discuss_mod&quot; id=&quot;js_cmt_title&quot; style=&quot;display:none&quot;&gt;
    &lt;div class=&quot;discuss_container&quot;&gt;
      &lt;div class=&quot;weui-loadmore weui-loadmore_line mod_title_context_primary&quot;&gt;
        &lt;span class=&quot;weui-loadmore__tips&quot;&gt;留言&lt;/span&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  
  &lt;div class=&quot;discuss_mod&quot; id=&quot;js_friend_cmt_area&quot; style=&quot;display:none&quot;&gt;
  &lt;/div&gt;
  &lt;div id=&quot;js_cmt_area&quot; class=&quot;discuss_mod&quot; style=&quot;display:none;&quot;&gt;
    
  &lt;/div&gt;
  &lt;/div&gt;

    &lt;/div&gt;</description>
<author></author>
<guid isPermaLink="false">2018-08-07-1000000114</guid>
<pubDate>Tue, 07 Aug 2018 00:00:00 +0800</pubDate>
</item>
<item>
<title>Erlang 入坑指南</title>
<link>https://henix.github.io/feeds/weixin.sogou.programmer_life/2018-08-03-1000000113.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?timestamp=1542305802&amp;amp;src=3&amp;amp;ver=1&amp;amp;signature=hVIZ*K1Ga-Thh0b4vK5v2WjJBRWoy6MO1P30p-tt6j0vLbHhiOjElo7q*DdNWxW0biKXFxQF*Zh56dzTrNFH3mQfdCrFr8nP8AcK*hAtALk4gFpK*-qRnlLBdQtnzXLfCNkzyMWaH-*ednzGw8ePhrovrADniXUSSFe1eTknp4k=&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;div id=&quot;js_top_ad_area&quot; class=&quot;top_banner&quot;&gt;&lt;/div&gt;&lt;div class=&quot;rich_media_inner&quot;&gt;

        
        
        &lt;div id=&quot;page-content&quot; class=&quot;rich_media_area_primary&quot;&gt;
          &lt;div class=&quot;rich_media_area_primary_inner&quot;&gt;

                                    
                        

            &lt;div id=&quot;img-content&quot;&gt;

                
                &lt;h2 class=&quot;rich_media_title&quot; id=&quot;activity-name&quot;&gt;
                    Erlang 入坑指南

                                                                                &lt;/h2&gt;
                &lt;div id=&quot;meta_content&quot; class=&quot;rich_media_meta_list&quot;&gt;
                                                            &lt;span id=&quot;copyright_logo&quot; class=&quot;rich_media_meta rich_media_meta_text meta_tag_text&quot;&gt;原创：&lt;/span&gt;
                                                            &lt;span class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;
                                                &lt;span id=&quot;js_author_name&quot; class=&quot;rich_media_meta_link&quot; data-rewardsn=&quot;&quot; data-timestamp=&quot;&quot; data-canreward=&quot;0&quot;&gt;陈小天&lt;/span&gt;
                                            &lt;/span&gt;
                                        
                                       
                                                                    
                                        &lt;span class=&quot;rich_media_meta rich_media_meta_nickname&quot; id=&quot;profileBt&quot;&gt;
                      &lt;a href=&quot;javascript:void(0);&quot; id=&quot;js_name&quot;&gt;
                        程序人生                      &lt;/a&gt;
                      &lt;div id=&quot;js_profile_qrcode&quot; class=&quot;profile_container&quot; style=&quot;display:none;&quot;&gt;
                          &lt;div class=&quot;profile_inner&quot;&gt;
                              &lt;strong class=&quot;profile_nickname&quot;&gt;程序人生&lt;/strong&gt;
                              &lt;img class=&quot;profile_avatar&quot; id=&quot;js_profile_qrcode_img&quot; src=&quot;&quot; alt=&quot;&quot;&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;微信号&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;programmer_life&lt;/span&gt;
                              &lt;/p&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;功能介绍&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;十年漫漫程序人生，打过各种杂，也做过让我骄傲的软件；管理过数十人的团队，还带领一班兄弟姐妹创过业，目前在硅谷一家创业公司担任 VP。关注程序人生，了解程序猿，学做程序猿，做好程序猿，让我们的程序人生精彩满满。&lt;/span&gt;
                              &lt;/p&gt;
                              
                          &lt;/div&gt;
                          &lt;span class=&quot;profile_arrow_wrp&quot; id=&quot;js_profile_arrow_wrp&quot;&gt;
                              &lt;i class=&quot;profile_arrow arrow_out&quot;&gt;&lt;/i&gt;
                              &lt;i class=&quot;profile_arrow arrow_in&quot;&gt;&lt;/i&gt;
                          &lt;/span&gt;
                      &lt;/div&gt;
                    &lt;/span&gt;


                    &lt;em id=&quot;publish_time&quot; class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;&lt;/em&gt;





                &lt;/div&gt;
                
                
                
                
                                                
                                                                
                                
                
                &lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    

                    
                    
                    &lt;blockquote style=&quot;margin-top: 15px;margin-bottom: 15px;border-left-width: 4px;border-left-color: rgb(221, 221, 221);padding-right: 15px;padding-left: 15px;color: rgb(119, 119, 119);&quot;&gt;&lt;p style=&quot;margin-right: 10px;margin-bottom: 20px;margin-left: 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;程序君按：小山是一个很勤勉，求知欲很强的工程师，硬磕了不少 erlang 的底层实现 —— 前一段时间他搞懂了整个 erlang release 的过程，喜滋滋给我这种还活在 distillery 荫庇下的小确幸讲解。这篇文章是他在《程序人生》的处女稿，从另一个角度跟大家介绍一下 erlang。虽然我之前也也写过一篇介绍 上帝说：要有一门面向未来的语言，于是有了 erlang。但那篇过于笼统，没有专精一点，而他这篇，从六个基础函数讲起，深入浅出，拨开紫烟，把一座神秘美妙的香炉峰呈现在你的面前。&lt;/p&gt;&lt;p style=&quot;margin-top: 20px;margin-right: 10px;margin-left: 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;以下正文。&lt;/p&gt;&lt;/blockquote&gt;&lt;hr&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);&quot;&gt;想了半天憋出这么个题目来，这也的确只是一篇入坑文。之前程序君写过一篇 Erlang 文章，我用谷歌翻译出来给 Joe Armstrong 老爷子看，老爷子看后大加赞赏，说这家伙搞懂 Erlang 了,我要和他约一组，于是就有了程序君与Joe老爷子对话这篇文章。这篇入坑指南很短，尝试从另一个角度认识 Erlang 。&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;level2&quot; style=&quot;;&quot;&gt;&lt;h2 style=&quot;margin-top: 38px;margin-bottom: 10px;font-weight: bold;-webkit-font-smoothing: subpixel-antialiased;cursor: text;font-size: 24px;border-bottom: 2px solid rgb(0, 179, 139);color: rgb(0, 179, 138);height: 57px;line-height: 62px;display: inline-block;&quot;&gt;Erlang 难吗?&lt;/h2&gt;&lt;p style=&quot;margin-right: 10px;margin-bottom: 20px;margin-left: 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;难，也不难。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;大部分人学习编程是从面向对象过来的。 Erlang 是一门函数式编程语言。写码时候的思维方式和传统的面向对象还是有很大差别的。这算是第一个挑战。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;第二个挑战是， Erlang 的语法比较奇怪。当然这点因人而异，不过对于看惯了 Java / C++ / Ruby 的我们来说，第一次看见 Erlang 的程序是有些少许不适应。 Erlang 是 Joe 老爷子和他的两个同事 1986 年做的项目，受到一个叫做 Prolog 的语言的影响很深。Prolog 大部分人可能都没听过，更别说用过了，我特地搜了下 Prolog，跟 Erlang 绝对是一个亲妈生的。我问 Joe 为啥是 Prolog，老爷子说因为他 C 写特烂所以就用 Prolog 实现的初版 Erlang 。。。对于我来说， Erlang 的语法看着真是有点晕菜，所以一直特意没去碰它。不过之后用了一段时间 Erlang 之后，语法渐渐变得亲切可爱起来了，毕竟他只是一个语法，熟悉了就没那么可怕了。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;接下来的挑战是并发。并发概念不难，但要把它搞对很难，尤其在 C 中。而并发在 Erlang 中巨简单，只要你理解了 Erlang 的核心（下面会讲）。我们的大脑会将我们不了解的东西无限放大，会觉得怎么都搞不定。但是一旦静下心来去了解，就会慢慢变得简单起来。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;当我们花了很多时间熟悉函数式编程，看懂 Erlang 语法并且明白其并发模型后，一个词总是不停跳出来—— OTP。不论什么语言，总有其一套管用写法来写码。而 Erlang 的惯用写法就是OTP。绝大部分 Erlang 项目都会遵守这套设计模式，那么下一个挑战则是理解OTP这套设计模式，并且用这套设计模式来写 Erlang 代码。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;又过了一段时间，当我们掌握了 OTP，写了很牛的 Erlang 程序，将其发布到生产环境中，然后服务器挂了，不得不调试找 bug，看erl_crash.dump。这时候会不可避免的发现必须要更深入了解 Erlang 的内核才能明白为啥会宕机——这个内核就是 Erlang 的虚拟机，也叫 BEAM。而这玩意是用 C 实现的，我去。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;以上， Erlang 很难。即便是大牛，也要数月到几年的时间才能慢慢熟悉，甚至十年以上才能慢慢游刃有余。不过倘若真是钻研到这个境界， Erlang 也就不重要了。Joe老爷子说，他年轻时候写过太多代码了，他只花了30年时间来明白什么时候不去写代码，而是思考问题。大神的境界get不到~&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;但是，从另一个角度讲， Erlang 却很简单。 Erlang 其实是一门很小的语言，在某种程度上讲，我真希望 Erlang 能支持更多的语法糖和函数，这样写起平时的业务逻辑也能简单不少。Joe老爷子说，Erlang 的核心其实就是6个函数，真正搞懂它们，你就明白 Erlang 的世界观了。所以接下来，我们就来看看这6个函数。&lt;/p&gt;&lt;/section&gt;&lt;section class=&quot;level2&quot; style=&quot;;&quot;&gt;&lt;h2 style=&quot;margin-top: 38px;margin-bottom: 10px;font-weight: bold;-webkit-font-smoothing: subpixel-antialiased;cursor: text;font-size: 24px;border-bottom: 2px solid rgb(0, 179, 139);color: rgb(0, 179, 138);height: 57px;line-height: 62px;display: inline-block;&quot;&gt;了解 Erlang&lt;/h2&gt;&lt;p style=&quot;margin-right: 10px;margin-bottom: 20px;margin-left: 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;Erlang 的世界中充满了进程，很多很多进程。我们暂时不用计算技术语，而是看看身边的世界。我们的世界充满了人，很多很多人。每个人都有一个大脑，里面包含了仅属于我们自己的记忆。我不知道你脑子里面在想什么，你不知道我脑子里在想什么，除非我问你，”约吗？“。你说：”约“。我们两个的记忆分别产生了些许变化。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;从我们出生到现在，我们一直在维护大脑中的这份记忆，随着与外界的不断交互我们不停地在更新着这份记忆。我们学到很多与人打交道的方式，我们说话、写信、发短信、打电话。我们给别人留个字条，然后干自己的事去了；或者给人发个微信，然后接着上网吃瓜。这就是异步消息传递。&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;Erlang 的世界和我们的真实世界很像。每个 Erlang 进程维护着自己独有的内存，别的进程无法访问其内部状态，除非它们互发消息进行交流。所有的消息传递都是异步的，就像我们的现实世界。&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;听起来很简单吧！代码写出来啥样？&lt;/p&gt;&lt;pre class=&quot;sourceCode erlang&quot; style=&quot;font-family: monospace, serif;font-size: 13px;white-space: pre-wrap;margin-top: 15px;margin-bottom: 15px;border-width: 1px;border-style: solid;border-color: rgb(204, 204, 204);line-height: 19px;overflow: auto;padding: 6px 10px;border-radius: 3px;&quot;&gt;&lt;code class=&quot;sourceCode erlang hljs apache&quot; style=&quot;;&quot;&gt;&lt;span class=&quot;dv&quot;&gt;&lt;span class=&quot;hljs-keyword&quot; style=&quot;font-weight: bold;&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;spawn(&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;hello&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,[]).&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;op&quot;&gt;&lt;span class=&quot;hljs-tag&quot; style=&quot;color: rgb(136, 0, 0);font-weight: bold;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;&lt;span class=&quot;hljs-tag&quot; style=&quot;color: rgb(136, 0, 0);font-weight: bold;&quot;&gt;0.70&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;&lt;span class=&quot;hljs-tag&quot; style=&quot;color: rgb(136, 0, 0);font-weight: bold;&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;&lt;span class=&quot;hljs-tag&quot; style=&quot;color: rgb(136, 0, 0);font-weight: bold;&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;&lt;span class=&quot;hljs-tag&quot; style=&quot;color: rgb(136, 0, 0);font-weight: bold;&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;这样就会创建一个新的进程，调用&lt;code style=&quot;;&quot;&gt;foo:hello()&lt;/code&gt;。进程一旦执行完这个函数就会死掉，将所有分配到的内存还给BEAM。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;如果你想创建两个进程同时做事，只需spawn两次：&lt;/p&gt;&lt;pre class=&quot;sourceCode erlang&quot; style=&quot;font-family: monospace, serif;font-size: 13px;white-space: pre-wrap;margin-top: 15px;margin-bottom: 15px;border-width: 1px;border-style: solid;border-color: rgb(204, 204, 204);line-height: 19px;overflow: auto;padding: 6px 10px;border-radius: 3px;&quot;&gt;&lt;code class=&quot;sourceCode erlang hljs apache&quot; style=&quot;;&quot;&gt;&lt;span class=&quot;dv&quot;&gt;&lt;span class=&quot;hljs-keyword&quot; style=&quot;font-weight: bold;&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;spawn(&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;hello&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,[]).&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;op&quot;&gt;&lt;span class=&quot;hljs-tag&quot; style=&quot;color: rgb(136, 0, 0);font-weight: bold;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;&lt;span class=&quot;hljs-tag&quot; style=&quot;color: rgb(136, 0, 0);font-weight: bold;&quot;&gt;0.70&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;&lt;span class=&quot;hljs-tag&quot; style=&quot;color: rgb(136, 0, 0);font-weight: bold;&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;&lt;span class=&quot;hljs-tag&quot; style=&quot;color: rgb(136, 0, 0);font-weight: bold;&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;&lt;span class=&quot;hljs-tag&quot; style=&quot;color: rgb(136, 0, 0);font-weight: bold;&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;dv&quot;&gt;&lt;span class=&quot;hljs-keyword&quot; style=&quot;font-weight: bold;&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;spawn(&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;hello&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,[]).&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;op&quot;&gt;&lt;span class=&quot;hljs-tag&quot; style=&quot;color: rgb(136, 0, 0);font-weight: bold;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;&lt;span class=&quot;hljs-tag&quot; style=&quot;color: rgb(136, 0, 0);font-weight: bold;&quot;&gt;0.71&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;&lt;span class=&quot;hljs-tag&quot; style=&quot;color: rgb(136, 0, 0);font-weight: bold;&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;&lt;span class=&quot;hljs-tag&quot; style=&quot;color: rgb(136, 0, 0);font-weight: bold;&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;&lt;span class=&quot;hljs-tag&quot; style=&quot;color: rgb(136, 0, 0);font-weight: bold;&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;这将创建两个进程并发调用&lt;code style=&quot;;&quot;&gt;foo:hello()&lt;/code&gt;。这就是 Erlang 的并发模型——也叫参与者模式 (Actor model)。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;如果你想整100个进程同时做事，调用spawn 100次即可。简单粗暴。&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;现在我们知道如何创建进程，接下来是给它发消息。&lt;br&gt;&lt;/p&gt;&lt;pre class=&quot;sourceCode erlang&quot; style=&quot;font-family: monospace, serif;font-size: 13px;white-space: pre-wrap;margin-top: 15px;margin-bottom: 15px;border-width: 1px;border-style: solid;border-color: rgb(204, 204, 204);line-height: 19px;overflow: auto;padding: 6px 10px;border-radius: 3px;&quot;&gt;&lt;code class=&quot;sourceCode erlang hljs apache&quot; style=&quot;;&quot;&gt;&lt;span class=&quot;dv&quot;&gt;&lt;span class=&quot;hljs-keyword&quot; style=&quot;font-weight: bold;&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;va&quot;&gt;Pid&lt;/span&gt; &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;spawn(&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;loop&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,[]).&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;op&quot;&gt;&lt;span class=&quot;hljs-tag&quot; style=&quot;color: rgb(136, 0, 0);font-weight: bold;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;&lt;span class=&quot;hljs-tag&quot; style=&quot;color: rgb(136, 0, 0);font-weight: bold;&quot;&gt;0.80&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;&lt;span class=&quot;hljs-tag&quot; style=&quot;color: rgb(136, 0, 0);font-weight: bold;&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;&lt;span class=&quot;hljs-tag&quot; style=&quot;color: rgb(136, 0, 0);font-weight: bold;&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;&lt;span class=&quot;hljs-tag&quot; style=&quot;color: rgb(136, 0, 0);font-weight: bold;&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;dv&quot;&gt;&lt;span class=&quot;hljs-keyword&quot; style=&quot;font-weight: bold;&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;va&quot;&gt;Pid&lt;/span&gt; &lt;span class=&quot;op&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;ch&quot;&gt;hello&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;.&lt;br&gt;&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;&lt;span class=&quot;hljs-keyword&quot; style=&quot;font-weight: bold;&quot;&gt;hello&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;这里我们启动一个进程调用 &lt;code style=&quot;;&quot;&gt;foo:loop()&lt;/code&gt;。我们假设这个loop函数会递归调用自己，这样我们的进程不会一下就死掉。&lt;code style=&quot;;&quot;&gt;spawn&lt;/code&gt; 会返回一个进程ID &lt;code style=&quot;;&quot;&gt;&amp;lt;0.80.0&amp;gt;&lt;/code&gt;，我们将其绑定到 &lt;code style=&quot;;&quot;&gt;Pid&lt;/code&gt; 变量中，并向其发个消息 &lt;code style=&quot;;&quot;&gt;hello&lt;/code&gt;。 Erlang 里用惊叹号 &lt;code style=&quot;;&quot;&gt;!&lt;/code&gt; 发消息。好了，以上就是异步消息发送。这也是 Erlang 中两个进程之间交流的唯一手段。&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;当消息被发给某进程后，该进程如何收消息呢？&lt;br&gt;&lt;/p&gt;&lt;pre class=&quot;sourceCode erlang&quot; style=&quot;font-family: monospace, serif;font-size: 13px;white-space: pre-wrap;margin-top: 15px;margin-bottom: 15px;border-width: 1px;border-style: solid;border-color: rgb(204, 204, 204);line-height: 19px;overflow: auto;padding: 6px 10px;border-radius: 3px;&quot;&gt;&lt;code class=&quot;sourceCode erlang hljs ruby&quot; style=&quot;;&quot;&gt;&lt;span class=&quot;dv&quot;&gt;&lt;span class=&quot;hljs-number&quot; style=&quot;color: rgb(0, 136, 0);&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;va&quot;&gt;&lt;span class=&quot;hljs-constant&quot; style=&quot;color: rgb(136, 0, 0);&quot;&gt;Pid&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;spawn(&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;fun&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;op&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;dv&quot;&gt;&lt;span class=&quot;hljs-number&quot; style=&quot;color: rgb(0, 136, 0);&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt;         &lt;span class=&quot;kw&quot;&gt;receive&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;dv&quot;&gt;&lt;span class=&quot;hljs-number&quot; style=&quot;color: rgb(0, 136, 0);&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt;           &lt;span class=&quot;ch&quot;&gt;hello&lt;/span&gt; &lt;span class=&quot;op&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;&lt;span class=&quot;hljs-symbol&quot; style=&quot;color: rgb(136, 0, 0);&quot;&gt;io:&lt;/span&gt;format(&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&lt;span class=&quot;hljs-string&quot; style=&quot;color: rgb(136, 136, 255);&quot;&gt;&quot;Got hello message~n&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;dv&quot;&gt;&lt;span class=&quot;hljs-number&quot; style=&quot;color: rgb(0, 136, 0);&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt;         &lt;span class=&quot;kw&quot;&gt;&lt;span class=&quot;hljs-keyword&quot; style=&quot;font-weight: bold;&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;dv&quot;&gt;&lt;span class=&quot;hljs-number&quot; style=&quot;color: rgb(0, 136, 0);&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt;       &lt;span class=&quot;kw&quot;&gt;&lt;span class=&quot;hljs-keyword&quot; style=&quot;font-weight: bold;&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;&lt;span class=&quot;hljs-number&quot; style=&quot;color: rgb(0, 136, 0);&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;hljs-number&quot; style=&quot;color: rgb(0, 136, 0);&quot;&gt;86&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;&lt;span class=&quot;hljs-number&quot; style=&quot;color: rgb(0, 136, 0);&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;&lt;span class=&quot;hljs-number&quot; style=&quot;color: rgb(0, 136, 0);&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;dv&quot;&gt;&lt;span class=&quot;hljs-number&quot; style=&quot;color: rgb(0, 136, 0);&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;va&quot;&gt;&lt;span class=&quot;hljs-constant&quot; style=&quot;color: rgb(136, 0, 0);&quot;&gt;Pid&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;op&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;ch&quot;&gt;hello&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;.&lt;br&gt;&lt;/span&gt;&lt;span class=&quot;va&quot;&gt;&lt;span class=&quot;hljs-constant&quot; style=&quot;color: rgb(136, 0, 0);&quot;&gt;Got&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;ch&quot;&gt;hello&lt;/span&gt; &lt;span class=&quot;ch&quot;&gt;message&lt;br&gt;&lt;/span&gt;hello&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;用 &lt;code style=&quot;;&quot;&gt;receive&lt;/code&gt; 来收消息。你可以在这里用模式匹配来匹配你想要接收的信息，忽略其他的消息。在这个例子中，我们只接收消息 &lt;code style=&quot;;&quot;&gt;hello&lt;/code&gt;。&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;我们平时会记不住朋友的电话，所以我们用通讯录给电话号码加个名字。在 Erlang 中也没有必要记住每个进程的 Pid，给其注册个名字即可以后用名字来访问之。&lt;br&gt;&lt;/p&gt;&lt;pre class=&quot;sourceCode erlang&quot; style=&quot;font-family: monospace, serif;font-size: 13px;white-space: pre-wrap;margin-top: 15px;margin-bottom: 15px;border-width: 1px;border-style: solid;border-color: rgb(204, 204, 204);line-height: 19px;overflow: auto;padding: 6px 10px;border-radius: 3px;&quot;&gt;&lt;code class=&quot;sourceCode erlang hljs ruby&quot; style=&quot;;&quot;&gt;&lt;span class=&quot;dv&quot;&gt;&lt;span class=&quot;hljs-number&quot; style=&quot;color: rgb(0, 136, 0);&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;va&quot;&gt;&lt;span class=&quot;hljs-constant&quot; style=&quot;color: rgb(136, 0, 0);&quot;&gt;Pid&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;op&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;spawn(&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;fun&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;op&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;receive&lt;/span&gt; &lt;span class=&quot;ch&quot;&gt;hello&lt;/span&gt; &lt;span class=&quot;op&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;&lt;span class=&quot;hljs-symbol&quot; style=&quot;color: rgb(136, 0, 0);&quot;&gt;io:&lt;/span&gt;format(&lt;/span&gt;&lt;span class=&quot;st&quot;&gt;&lt;span class=&quot;hljs-string&quot; style=&quot;color: rgb(136, 136, 255);&quot;&gt;&quot;Got hello message~n&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;&lt;span class=&quot;hljs-keyword&quot; style=&quot;font-weight: bold;&quot;&gt;end&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;&lt;span class=&quot;hljs-keyword&quot; style=&quot;font-weight: bold;&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;).&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;op&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;&lt;span class=&quot;hljs-number&quot; style=&quot;color: rgb(0, 136, 0);&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;hljs-number&quot; style=&quot;color: rgb(0, 136, 0);&quot;&gt;93&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;&lt;span class=&quot;hljs-number&quot; style=&quot;color: rgb(0, 136, 0);&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;&lt;span class=&quot;hljs-number&quot; style=&quot;color: rgb(0, 136, 0);&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;dv&quot;&gt;&lt;span class=&quot;hljs-number&quot; style=&quot;color: rgb(0, 136, 0);&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;register(&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;va&quot;&gt;&lt;span class=&quot;hljs-constant&quot; style=&quot;color: rgb(136, 0, 0);&quot;&gt;Pid&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;).&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;ch&quot;&gt;&lt;span class=&quot;hljs-keyword&quot; style=&quot;font-weight: bold;&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;dv&quot;&gt;&lt;span class=&quot;hljs-number&quot; style=&quot;color: rgb(0, 136, 0);&quot;&gt;3&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;ch&quot;&gt;foo&lt;/span&gt; &lt;span class=&quot;op&quot;&gt;!&lt;/span&gt; &lt;span class=&quot;ch&quot;&gt;hello&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;.&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;va&quot;&gt;&lt;span class=&quot;hljs-constant&quot; style=&quot;color: rgb(136, 0, 0);&quot;&gt;Got&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;ch&quot;&gt;hello&lt;/span&gt; &lt;span class=&quot;ch&quot;&gt;message&lt;/span&gt;&lt;br&gt;hello&lt;/code&gt;&lt;/pre&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;只需调用 &lt;code style=&quot;;&quot;&gt;register(Name,Pid)&lt;/code&gt; 即可给任何进程注册名字。之后我们可以用该名字给进程发消息。&lt;/p&gt;&lt;hr&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;当我们给某进程注册了名字后，我们也能通过查找通讯录来找到其Pid。&lt;br&gt;&lt;/p&gt;&lt;pre class=&quot;sourceCode erlang&quot; style=&quot;font-family: monospace, serif;font-size: 13px;white-space: pre-wrap;margin-top: 15px;margin-bottom: 15px;border-width: 1px;border-style: solid;border-color: rgb(204, 204, 204);line-height: 19px;overflow: auto;padding: 6px 10px;border-radius: 3px;&quot;&gt;&lt;code class=&quot;sourceCode erlang hljs ruby&quot; style=&quot;;&quot;&gt;&lt;span class=&quot;dv&quot;&gt;&lt;span class=&quot;hljs-number&quot; style=&quot;color: rgb(0, 136, 0);&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;register(&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;,spawn(&lt;/span&gt;&lt;span class=&quot;kw&quot;&gt;fun&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;op&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;receive&lt;/span&gt; &lt;span class=&quot;ch&quot;&gt;hello&lt;/span&gt; &lt;span class=&quot;op&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;ch&quot;&gt;hello&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;&lt;span class=&quot;hljs-keyword&quot; style=&quot;font-weight: bold;&quot;&gt;end&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;kw&quot;&gt;&lt;span class=&quot;hljs-keyword&quot; style=&quot;font-weight: bold;&quot;&gt;end&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;)).&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;ch&quot;&gt;&lt;span class=&quot;hljs-keyword&quot; style=&quot;font-weight: bold;&quot;&gt;true&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;dv&quot;&gt;&lt;span class=&quot;hljs-number&quot; style=&quot;color: rgb(0, 136, 0);&quot;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;whereis(&lt;/span&gt;&lt;span class=&quot;ch&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;).&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;op&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;&lt;span class=&quot;hljs-number&quot; style=&quot;color: rgb(0, 136, 0);&quot;&gt;0&lt;/span&gt;.&lt;span class=&quot;hljs-number&quot; style=&quot;color: rgb(0, 136, 0);&quot;&gt;102&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;&lt;span class=&quot;hljs-number&quot; style=&quot;color: rgb(0, 136, 0);&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;&lt;span class=&quot;hljs-number&quot; style=&quot;color: rgb(0, 136, 0);&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;最后，一个进程可以通过调用 &lt;code style=&quot;;&quot;&gt;self()&lt;/code&gt; 来找到自己的Pid。&lt;br&gt;&lt;/p&gt;&lt;pre class=&quot;sourceCode erlang&quot; style=&quot;font-family: monospace, serif;font-size: 13px;white-space: pre-wrap;margin-top: 15px;margin-bottom: 15px;border-width: 1px;border-style: solid;border-color: rgb(204, 204, 204);line-height: 19px;overflow: auto;padding: 6px 10px;border-radius: 3px;&quot;&gt;&lt;code class=&quot;sourceCode erlang hljs apache&quot; style=&quot;;&quot;&gt;&lt;span class=&quot;dv&quot;&gt;&lt;span class=&quot;hljs-keyword&quot; style=&quot;font-weight: bold;&quot;&gt;1&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;fu&quot;&gt;self().&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;op&quot;&gt;&lt;span class=&quot;hljs-tag&quot; style=&quot;color: rgb(136, 0, 0);font-weight: bold;&quot;&gt;&amp;lt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;fl&quot;&gt;&lt;span class=&quot;hljs-tag&quot; style=&quot;color: rgb(136, 0, 0);font-weight: bold;&quot;&gt;0.90&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;fu&quot;&gt;&lt;span class=&quot;hljs-tag&quot; style=&quot;color: rgb(136, 0, 0);font-weight: bold;&quot;&gt;.&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;dv&quot;&gt;&lt;span class=&quot;hljs-tag&quot; style=&quot;color: rgb(136, 0, 0);font-weight: bold;&quot;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;op&quot;&gt;&lt;span class=&quot;hljs-tag&quot; style=&quot;color: rgb(136, 0, 0);font-weight: bold;&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;以上6个函数就这么简单，再多也没有了。&lt;code style=&quot;;&quot;&gt;spawn&lt;/code&gt;, &lt;code style=&quot;;&quot;&gt;send&lt;/code&gt;, &lt;code style=&quot;;&quot;&gt;receive&lt;/code&gt;, &lt;code style=&quot;;&quot;&gt;register&lt;/code&gt;, &lt;code style=&quot;;&quot;&gt;whereis&lt;/code&gt; 和 &lt;code style=&quot;;&quot;&gt;self&lt;/code&gt;。就这6个函数，组成 Erlang 的世界观。Joe老爷子说，理解 Erlang 并不需要去看多少项目或者代码，仅仅搞懂这几个函数就行了。他见过有些人写过上万行 Erlang 代码但是却没有真正理解 Erlang 的世界观。别这么做，从这些简单的函数入手。&lt;br&gt;&lt;/p&gt;&lt;/section&gt;&lt;section class=&quot;level2&quot; style=&quot;;&quot;&gt;&lt;h2 style=&quot;margin-top: 38px;margin-bottom: 10px;font-weight: bold;-webkit-font-smoothing: subpixel-antialiased;cursor: text;font-size: 24px;border-bottom: 2px solid rgb(0, 179, 139);color: rgb(0, 179, 138);height: 57px;line-height: 62px;display: inline-block;&quot;&gt;Erlang 怎么学?&lt;/h2&gt;&lt;p style=&quot;margin-right: 10px;margin-bottom: 20px;margin-left: 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;用个万用答案：因人而异。有人喜欢读书学，有人喜欢做个项目来学。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;我个人一开始是接触 Elixir 。那会 Elixir 还很 young 很 simple, sometimes naive。我拜读了各种 Elixir 的书、博客、官方文档。做了不少项目，写了不少码，参加当地的 meetup，将所学的及时分享出去。将近一年到一个地步就是感觉也学了不少 Elixir 了但是感觉老少点啥。就像学开车我学遍全国各大驾校，但是当脚踩油门到车往前进这中间都发生啥事了还是一无所知。要想成为老司机就不得不要了解发动机的构造。而 Erlang 就是这个发动机。于是乎跳出舒适圈,看了两本 Erlang 经典，有幸见到作者还要了签名，飞到三番，向Joe老爷子本人求学 Erlang 。现在在看官方文档和源码，内中蕴含巨大财富。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;我一直记得那个画面，在三月三番的那个阳光明媚的午后，Joe老爷子面带微笑，和蔼地描述着他所构建的 Erlang 世界观，简单又优美。当我越了解 Erlang ，就越能体会到这点。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;希望你能透过这篇小文从另一个角度认识 Erlang 。其实 Erlang 很简单。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;祝入坑愉快。&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.75&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/SER9L29WQ0ibTzMqib7HdGOAhRxG3lXHW8RjDQbl60ueDW2fkvFwoIbYksib6sGuFoknqL7bZIwLRdibRKSppt9QFw/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1280&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.75&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/SER9L29WQ0ibTzMqib7HdGOAhRxG3lXHW8Ul0lgmjEoMnUIsQxibD1fDGuzgic1Nbibl2DR4WW5wm0KKNYT4hgZWhcQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1280&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;color: rgb(84, 84, 84);text-align: justify;white-space: pre-wrap;&quot;&gt;声明一下：&lt;/span&gt;&lt;span style=&quot;color: rgb(84, 84, 84);text-align: justify;white-space: pre-wrap;&quot;&gt;本文所有收入都归小山同学所有。。。&lt;/span&gt;&lt;span style=&quot;color: rgb(84, 84, 84);text-align: justify;white-space: pre-wrap;&quot;&gt;由于公众号奇葩的赞赏和原创设置，我只能把赞赏设成我自己，然后原创作者也成了我自己。。。这是逼着我自己来鄙视我自己的节奏啊。大家多多支持，好让小山同学多多发文！&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;
                &lt;/div&gt;
                &lt;script nonce=&quot;473106017&quot; type=&quot;text/javascript&quot;&gt;
                    var first_sceen__time = (+new Date());

                    if (&quot;&quot; == 1 &amp;&amp; document.getElementById(&#39;js_content&#39;)) {
                        document.getElementById(&#39;js_content&#39;).addEventListener(&quot;selectstart&quot;,function(e){ e.preventDefault(); });
                    }

                    
                    (function(){
                        if (navigator.userAgent.indexOf(&quot;WindowsWechat&quot;) != -1){
                            var link = document.createElement(&#39;link&#39;);
                            var head = document.getElementsByTagName(&#39;head&#39;)[0];
                            link.rel = &#39;stylesheet&#39;;
                            link.type = &#39;text/css&#39;;
                            link.href = &quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/winwx3ec991.css&quot;;
                            head.appendChild(link);
                        }
                    })();
                &lt;/script&gt;

                
                &lt;div class=&quot;ct_mpda_wrp&quot; id=&quot;js_sponsor_ad_area&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;

                
                                &lt;div class=&quot;reward_area tc reward_area_primary&quot; id=&quot;js_reward_area&quot; style=&quot;display:none;&quot;&gt;
                    &lt;div class=&quot;reward-avatar&quot; style=&quot;display: none;&quot; id=&quot;js_reward_avatar&quot;&gt;
                        &lt;img src=&quot;&quot; alt=&quot;&quot; id=&quot;js_reward_author_head&quot;&gt;
                    &lt;/div&gt;
                    
                                       
                                                &lt;div class=&quot;reward-author&quot; style=&quot;display: none;&quot; id=&quot;js_reward_author&quot;&gt;陈小天&lt;/div&gt;
                                            
                                       

                                        &lt;p&gt;
                        &lt;a class=&quot;reward_button&quot; id=&quot;js_reward_link&quot; href=&quot;##&quot;&gt;&lt;span id=&quot;js_reward_link_text&quot;&gt;赞赏&lt;/span&gt;&lt;/a&gt;
                    &lt;/p&gt;
                    &lt;div id=&quot;js_reward_inner&quot; class=&quot;reward_area_inner&quot; style=&quot;display:none;&quot;&gt;
                        &lt;p class=&quot;weui-loadmore weui-loadmore_line reward_user_tips&quot; id=&quot;js_reward_total_parent&quot;&gt;
                          &lt;span class=&quot;weui-loadmore__tips&quot;&gt;&lt;a href=&quot;##&quot; id=&quot;js_reward_total&quot;&gt;&lt;/a&gt; 人&lt;span id=&quot;js_reward_total_text&quot;&gt;赞赏&lt;/span&gt;&lt;/span&gt;
                        &lt;/p&gt;
                        
                        &lt;div id=&quot;js_reward_list&quot; class=&quot;reward_user_list&quot;&gt;&lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                                &lt;div class=&quot;reward_qrcode_area reward_area tc&quot; id=&quot;js_reward_qrcode&quot; style=&quot;display:none;&quot;&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;长按二维码向我转账&lt;/p&gt;
                                        &lt;p class=&quot;reward_tips&quot;&gt;&lt;/p&gt;
                    &lt;span class=&quot;reward_qrcode_img_wrp&quot;&gt;&lt;img class=&quot;reward_qrcode_img&quot; id=&quot;js_reward_qrcode_img&quot;&gt;&lt;/span&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;受苹果公司新规定影响，微信 iOS 版的赞赏功能被关闭，可通过二维码转账支持公众号。&lt;/p&gt;
                &lt;/div&gt;
                                                
                
                            &lt;/div&gt;
                                    
                        


                        
            &lt;ul id=&quot;js_hotspot_area&quot; class=&quot;article_extend_area&quot;&gt;&lt;/ul&gt;


            
                        &lt;div class=&quot;rich_media_tool&quot; id=&quot;js_toobar3&quot;&gt;

                                            &lt;div id=&quot;js_read_area3&quot; class=&quot;media_tool_meta tips_global_primary meta_primary&quot; style=&quot;display:none;&quot;&gt;阅读 &lt;span id=&quot;readNum3&quot;&gt;&lt;/span&gt;&lt;/div&gt;

                &lt;span style=&quot;display:none;&quot; class=&quot;media_tool_meta meta_extra meta_praise&quot; id=&quot;like3&quot;&gt;
                    &lt;i class=&quot;icon_praise_gray&quot;&gt;&lt;/i&gt;&lt;span class=&quot;praise_num&quot; id=&quot;likeNum3&quot;&gt;&lt;/span&gt;
                &lt;/span&gt;

                

            &lt;/div&gt;


                        &lt;div class=&quot;rich_media_tool&quot; id=&quot;js_sg_bar&quot;&gt;

                                
            &lt;/div&gt;
                      &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class=&quot;rich_media_area_primary sougou&quot; id=&quot;sg_tj&quot; style=&quot;display:none&quot;&gt;&lt;/div&gt;


        
        &lt;div class=&quot;rich_media_area_extra&quot;&gt;
          &lt;div class=&quot;rich_media_area_extra_inner&quot;&gt;
              
              &lt;div id=&quot;js_share_appmsg&quot;&gt;
              &lt;/div&gt;

              
                            &lt;div class=&quot;mpda_bottom_container&quot; id=&quot;js_bottom_ad_area&quot;&gt;&lt;/div&gt;
                            
              &lt;div id=&quot;js_iframetest&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;
                            
                            
              &lt;div class=&quot;rich_media_extra rich_media_extra_discuss&quot; id=&quot;js_cmt_container&quot; style=&quot;display:none&quot;&gt;
                

                
                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_friend_cmt_area&quot; style=&quot;display:none&quot;&gt;
                  
                  
                  
                &lt;/div&gt;

                                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_cmt_area&quot; style=&quot;display:none&quot;&gt;
                &lt;/div&gt;
                              &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        
        &lt;div id=&quot;js_pc_qr_code&quot; class=&quot;qr_code_pc_outer&quot; style=&quot;display:none;&quot;&gt;
            &lt;div class=&quot;qr_code_pc_inner&quot;&gt;
                &lt;div class=&quot;qr_code_pc&quot;&gt;
                    &lt;img id=&quot;js_pc_qr_code_img&quot; class=&quot;qr_code_pc_img&quot;&gt;
                    &lt;p&gt;微信扫一扫&lt;br&gt;关注该公众号&lt;/p&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;</description>
<author>陈小天</author>
<guid isPermaLink="false">2018-08-03-1000000113</guid>
<pubDate>Fri, 03 Aug 2018 00:00:00 +0800</pubDate>
</item>
<item>
<title>如和在几十个 Repo 中游刃有余？</title>
<link>https://henix.github.io/feeds/weixin.sogou.programmer_life/2018-08-01-1000000112.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?timestamp=1542305802&amp;amp;src=3&amp;amp;ver=1&amp;amp;signature=hVIZ*K1Ga-Thh0b4vK5v2WjJBRWoy6MO1P30p-tt6j0vLbHhiOjElo7q*DdNWxW0biKXFxQF*Zh56dzTrNFH3jh9Ujkw31m77okFUF78LfWOjkFzHoeYdu6RHtpmhJiFesZJLVCe4YjBtFLZetS4D-evGOw-Mn6FnDf4VxNe9Yo=&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;div id=&quot;js_top_ad_area&quot; class=&quot;top_banner&quot;&gt;&lt;/div&gt;&lt;div class=&quot;rich_media_inner&quot;&gt;

        
        
        &lt;div id=&quot;page-content&quot; class=&quot;rich_media_area_primary&quot;&gt;
          &lt;div class=&quot;rich_media_area_primary_inner&quot;&gt;

                                    
                        

            &lt;div id=&quot;img-content&quot;&gt;

                
                &lt;h2 class=&quot;rich_media_title&quot; id=&quot;activity-name&quot;&gt;
                    如和在几十个 Repo 中游刃有余？

                                                                                &lt;/h2&gt;
                &lt;div id=&quot;meta_content&quot; class=&quot;rich_media_meta_list&quot;&gt;
                                                            &lt;span id=&quot;copyright_logo&quot; class=&quot;rich_media_meta rich_media_meta_text meta_tag_text&quot;&gt;原创：&lt;/span&gt;
                                                            &lt;span class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;
                                                &lt;span id=&quot;js_author_name&quot; class=&quot;rich_media_meta_link&quot; data-rewardsn=&quot;&quot; data-timestamp=&quot;&quot; data-canreward=&quot;0&quot;&gt;陈小天&lt;/span&gt;
                                            &lt;/span&gt;
                                        
                                       
                                                                    
                                        &lt;span class=&quot;rich_media_meta rich_media_meta_nickname&quot; id=&quot;profileBt&quot;&gt;
                      &lt;a href=&quot;javascript:void(0);&quot; id=&quot;js_name&quot;&gt;
                        程序人生                      &lt;/a&gt;
                      &lt;div id=&quot;js_profile_qrcode&quot; class=&quot;profile_container&quot; style=&quot;display:none;&quot;&gt;
                          &lt;div class=&quot;profile_inner&quot;&gt;
                              &lt;strong class=&quot;profile_nickname&quot;&gt;程序人生&lt;/strong&gt;
                              &lt;img class=&quot;profile_avatar&quot; id=&quot;js_profile_qrcode_img&quot; src=&quot;&quot; alt=&quot;&quot;&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;微信号&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;programmer_life&lt;/span&gt;
                              &lt;/p&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;功能介绍&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;十年漫漫程序人生，打过各种杂，也做过让我骄傲的软件；管理过数十人的团队，还带领一班兄弟姐妹创过业，目前在硅谷一家创业公司担任 VP。关注程序人生，了解程序猿，学做程序猿，做好程序猿，让我们的程序人生精彩满满。&lt;/span&gt;
                              &lt;/p&gt;
                              
                          &lt;/div&gt;
                          &lt;span class=&quot;profile_arrow_wrp&quot; id=&quot;js_profile_arrow_wrp&quot;&gt;
                              &lt;i class=&quot;profile_arrow arrow_out&quot;&gt;&lt;/i&gt;
                              &lt;i class=&quot;profile_arrow arrow_in&quot;&gt;&lt;/i&gt;
                          &lt;/span&gt;
                      &lt;/div&gt;
                    &lt;/span&gt;


                    &lt;em id=&quot;publish_time&quot; class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;&lt;/em&gt;





                &lt;/div&gt;
                
                
                
                
                                                
                                                                
                                
                
                &lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    

                    
                    
                    &lt;p style=&#39;margin-right: 10px;margin-bottom: 20px;margin-left: 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;word-wrap: break-word !important;&#39;&gt;Sindre Sorhus 是我一直 follow 并且仰慕的程序员。他的 github 日常是这个样子的：&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;1.06875&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/SER9L29WQ0ic1gN8NZQxZt6GAXWppB5tAXGsmaVHg1HfgPKxmRejPpZ02Ag1Cz8XynNQXE5OwcjUqRD3bUVzYQA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1280&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;word-wrap: break-word !important;&#39;&gt;很久以来我一直好奇 —— 究竟怎样的工作效率能够让一个人在一个月的时间里工作在几十个 repo 里，创造出好几百的 commits？是对编程的狂热？对代码掌握得游刃有余？还是对自动化的极致追求？&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;word-wrap: break-word !important;&#39;&gt;过去的三个月里，我畅游在 elixir，ansible，terraform，javascript，少量 python，少量 erlang 组成的一群 repo 中，慢慢领悟到了这种高效工作之道：建立属于自己（和团队）的工作模型，逐步将其固化成习惯。当习惯养成时，一切就像卖油翁「倒油穿钱」那样，唯手熟尔。当然，熟能生巧只是反馈链上的一环，我们还需要将这种纯熟的技能经过思考后提炼成智慧，反馈回工作模型，让「学」「问」真正成为「学问」。&lt;/p&gt;&lt;p style=&#39;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;background-color: rgb(255, 255, 255);font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;box-sizing: border-box !important;word-wrap: break-word !important;&#39;&gt;下面是我自己的一些微末的经验，抛砖引玉。&lt;/p&gt;&lt;section class=&quot;level2&quot; style=&#39;font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;white-space: normal;background-color: rgb(255, 255, 255);&#39;&gt;&lt;h2 style=&quot;margin-top: 38px;margin-bottom: 10px;font-weight: bold;-webkit-font-smoothing: subpixel-antialiased;cursor: text;font-size: 24px;border-bottom: 2px solid rgb(0, 179, 139);color: rgb(0, 179, 138);height: 57px;line-height: 62px;display: inline-block;&quot;&gt;把自动化推进到极致&lt;/h2&gt;&lt;p style=&quot;margin-right: 10px;margin-bottom: 20px;margin-left: 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;我在 &lt;a href=&quot;http://mp.weixin.qq.com/s?__biz=MzA3NDM0ODQwMw==&amp;amp;mid=2649828010&amp;amp;idx=1&amp;amp;sn=dd9ab4fc624dde5a0b43134758e8f95c&amp;amp;chksm=8704a8b6b07321a0789c66aa18c4941798949518309283a27d0af66fd2016b460e8ab189bb97&amp;amp;scene=21#wechat_redirect&quot; target=&quot;_blank&quot;&gt;Code is Law&lt;/a&gt; 里已经提到了不少用工具对流程做自动化的例子，这里不再赘述。自动化不是一种口号，不是简单的一个流程，甚至不该仅仅是某种做事方式，而是一种深入骨髓的思想 —— 我们所做的一切努力都是为了减少我们将来的努力。过去二三十年方兴未艾的互联网革命，上溯到五六十年前一直蓬勃至今的 IT 革命，甚至从第一次工业革命开始，人类社会发展过程中的大部分努力都是在把一切能够自动化的东西自动化。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;软件领域的自动化虽然发展了很久，但大部分组织的自动化程度，还处在婴儿期。我们可以从这些角度，考察一下组织的自动化能力：&lt;/p&gt;&lt;ul style=&quot;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;TTT (Time to commiT)：一个 feature 从 commit 开始到结束要花多长时间？&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;TTDP (Time to DePendency)：一个 feature 从 dependency resolve 开始到结束要花多长时间？&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;TTC (Time to Compile)：一个 feature 从 compile 开始到结束要花多长时间？&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;TTCI (time to CI)：一个 feature 从 CI 开始到结束要花多长时间？&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;TTPR (Time to PR)：一个 feature 从 commit 到创建出 PR 要花多长时间？&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;TTR (Time to Release)：一个 feature 从 review 结束到 release 出来要花多长时间？&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;TTD (Time to Deploy)：一个 feature 从开始 deploy 到结束要花多长时间？&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;在 arcblock，拿目前项目占比最高的 elixir 来说，各项时间如下：&lt;/p&gt;&lt;ul style=&quot;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;TTT：由于我们 enforce pre-commit hook，所以每次 commit 会走完整个 compile/lint/format/test 的过程，平均 10s。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;TTDP：大部分项目从零开始 resolve / compile dependency 平均需要 5 分钟。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;TTC：和 TTT 在同样的量级，平均 15s。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;TTCI：从零开始做 dep / compile / lint / format / test，平均 6 分钟。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;TTPR：和 TTT 在同样的量级，平均 15s（会自动 update version 和 changelog）&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;TTR：从零开始做 dep / compile / lint / format / test / build staging &amp;amp; prod release / upload github release，平均需要 10 分钟。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;TTD：用 ansible 取 github release 里的 asset，然后 rolling upgrade 到线上，平均 45s&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;我们统计这些数据，是因为它们和我们的效率息息相关，如果这个自动化流程无法做到极致地高效，那么在其之上浪费的每一分钟，都会乘以所有工程师的数量反馈回来。不仅如此，量变还会引发质变，最终导致一系列不好的连锁反应。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;举个栗子，从上文的数据中我们发现，TTDP / TTCI / TTR 时间过长，其根源都是 dependency resolve 时间很长，于是我们把所有依赖的 dependency 放在了一个 mix-deps repo 里，用 CI 来完成各种环境下的 dependency 的 resolve 和 compile，然后其他的项目在 CI 开始后先去拿 compile 好的结果，再走正常的流程。结果 TTDP / TTCI / TTR 的平均时间分别变成：2 分钟 / 3 分钟 / 6 分钟。这意味着如果我们一刻不停歇地做 release，原本一天一个 travis concurrent job 可以做 144 个 release，优化之后可以做 240 个，提升了 60%。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;降低各种工序所需要的时间有什么好处呢？其实是大幅度降低了程序员的 time to wait，从而间接为一天内处理更多地工作奠定了基础。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;注意，这整个流程我们希望问题暴露地越早越好 —— 比如在本地的 git commit 就引入 commit hook，做大部分在 CI 做的事情，表面看拖累了效率，实质上大大提升了后续的效率，从而也间接提升了整体的 throughput。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;工作流程的自动化以及对其的不断优化，是自动化的一个重要部分，但并不是全部，我们永远不要忽视：代码自动化。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;我们这次不举栗子，举个桃子。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;当你定义某个或者某系列 API 时，API 的 schema 需要定义一遍，对应的 DB schema（如果 API 全部或部分从 DB 拿数据）要定义一遍，两者重合度估计有 70%，然后 API 的 doc 需要再定义一遍，基本是之前 schema 的重复加扩展。在 unit test 里面，需要定义 test，某种程度这是 API doc 里面的 example 的翻版，然后在定义 end-to-end test 时（比如用 runscope），几乎相同的东西再被定义一遍，只不过 test 的方式和 UT 不同（这下不 mock 了，直接假戏真做）。当 API 不断迭代时，同时维护这么多散落各处的代码和文档是对程序员时间上的亵渎。所以我们要引入代码自动化。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;代码自动化其实是一个桥接（bridging）的过程。我们不直接写最终形态的代码 Bob，而是写一个更为抽象（更加描述性）的代码 Alice，然后用一个 parser 将 Alice 转化为 Bob。ansible 其实就是一个很好的例子 —— 你只需要用 YAML 描述你期望的状态，至于怎么达到这个状态，ansible 会想办法。代码自动化就是我们自己来写一个又一个类似于 ansible 的工具。在 arcblock，我们用来定义 graphql API 的工具是 goldorin（很快会开源），它让我们节省了大量的从 absinthe 到 ecto，再到 slate 的时间，使得我们可以专注于逻辑层的代码，而无需在展示层和数据层的 schema 上浪费太多时间（详情见：&lt;a href=&quot;http://mp.weixin.qq.com/s?__biz=MzA3NDM0ODQwMw==&amp;amp;mid=2649828020&amp;amp;idx=1&amp;amp;sn=59668db47a49e023735152e51b450b88&amp;amp;chksm=8704a8a8b07321be4bb8f540909f2a0b1be4c3a250c71d04e115f78ab19dc804310b55170ed4&amp;amp;scene=21#wechat_redirect&quot; target=&quot;_blank&quot;&gt;思考，问题和方法&lt;/a&gt;）。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;代码自动化的另一个方向是 template repo 和 utility belt。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;template repo 对拥有复杂项目结构的 framework 非常有用。如果把 framework 看成产品，工程师看成用户，那么 template repo 就是产品的 onboarding 功能。想想看，如果 react 没有类似 create-react-app，phoenix 没有 phx.new，rails 没有 rails new，那么世界将会怎样？&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;然而，官方的 template 仅仅是最小化的帮助大家更好 onboarding 的 template。一个组织要有自己的 template —— 比如说我们的 elixir repo，travis，makefiles，deps，version，release 这些东西都在 template 设置好，理论上用 &lt;code style=&#39;font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace;font-size: 12px;margin-right: 2px;margin-left: 2px;padding-right: 5px;padding-left: 5px;white-space: nowrap;border-width: 1px;border-style: solid;border-color: rgb(234, 234, 234);background-color: rgb(248, 248, 248);border-radius: 3px;color: rgb(51, 51, 51);&#39;&gt;arcli create:repo&lt;/code&gt; 创建出来的 repo，只要把 &lt;code style=&#39;font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace;font-size: 12px;margin-right: 2px;margin-left: 2px;padding-right: 5px;padding-left: 5px;white-space: nowrap;border-width: 1px;border-style: solid;border-color: rgb(234, 234, 234);background-color: rgb(248, 248, 248);border-radius: 3px;color: rgb(51, 51, 51);&#39;&gt;travis encrypt&lt;/code&gt; 相应的 key 后，就能把整个 build pipeline 完成。此外，phoenix + absinthe + ecto 做支持 subscription 的 graphql API，需要大量的前置工作 —— 你要写很多基础的配置和脚手架代码，才能让整个系统可用 —— 这正好是 template repo 的长处。在这些地方，我们完全可以花些时间，前人种树后人乘凉。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;utility belt 是另外一种自动化方向，它把你的各种随机写就的 function，随机扔在某个 utils / helpers 目录里的 function，甚至顺手写在当前文件里的某个功能性的 private function，抽取出来，组织在一起 —— 它们可以被单独测试，单独 release，可以被更深刻地设计，可以在需要的时候做更合适的抽象。唯一的缺点是，你需要将其加入你的项目的 dependency 中，在同时本地修改 utility repo 和 feature repo 时，稍稍麻烦一些。不过这种麻烦带来的，也是在更多项目工作时的高效。&lt;/p&gt;&lt;/section&gt;&lt;section class=&quot;level2&quot; style=&#39;font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;white-space: normal;background-color: rgb(255, 255, 255);&#39;&gt;&lt;h2 style=&quot;margin-top: 38px;margin-bottom: 10px;font-weight: bold;-webkit-font-smoothing: subpixel-antialiased;cursor: text;font-size: 24px;border-bottom: 2px solid rgb(0, 179, 139);color: rgb(0, 179, 138);height: 57px;line-height: 62px;display: inline-block;&quot;&gt;统一工作接口&lt;/h2&gt;&lt;p style=&quot;margin-right: 10px;margin-bottom: 20px;margin-left: 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;如果在几十个项目里面来回切换，工作接口的统一是必备的，它能帮你省去无数时间。比如我们为每个 repo 定义了这些接口：&lt;/p&gt;&lt;ul style=&quot;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;make init：项目初始化 —— 安装 submodule，项目依赖的软件，设置 env（比如 python 建立 virtualenv）等等。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;make dep：安装 dependency，如果是 nodejs 项目，就是 npm install，elixir 是 mix deps.get，python 麻烦一些，是先 workon 到项目对应的 virtualenv，再 pip install。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;make build：对代码 compile，nodejs 是 webpack，elixir 是 mix compile 等。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;make run：在本地运行。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;make test：对代码做 unit testing。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;make build-release：将代码在不同环境下的编译结果打包成一个 tarball（方便上传到 github release）。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;make travis：给 travis 做 build 用的。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;make deploy：给 travis deploy release 用的。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;make create-pr：自动 bump version，生成 change log，并创建 github PR&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;详情见：&lt;a href=&quot;http://mp.weixin.qq.com/s?__biz=MzA3NDM0ODQwMw==&amp;amp;mid=2649828010&amp;amp;idx=1&amp;amp;sn=dd9ab4fc624dde5a0b43134758e8f95c&amp;amp;chksm=8704a8b6b07321a0789c66aa18c4941798949518309283a27d0af66fd2016b460e8ab189bb97&amp;amp;scene=21#wechat_redirect&quot; target=&quot;_blank&quot;&gt;Code is Law&lt;/a&gt;。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;当这样的接口统一后，我们可以不管 repo 的目录结构是什么，是哪个语言，语言对应的各种 cli 是什么，一切都可以通过标准的接口处理，非常符合 don’t make me think 的思路。这样，工作可以行云流水一样无脑敲键盘，后端改了 API 想看看前端的表现是否正常，可以把前端的 repo 拿下来，&lt;code style=&#39;font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace;font-size: 12px;margin-right: 2px;margin-left: 2px;padding-right: 5px;padding-left: 5px;white-space: nowrap;border-width: 1px;border-style: solid;border-color: rgb(234, 234, 234);background-color: rgb(248, 248, 248);border-radius: 3px;color: rgb(51, 51, 51);&#39;&gt;make init; make dep; make run&lt;/code&gt; 就可以了。&lt;/p&gt;&lt;/section&gt;&lt;section class=&quot;level2&quot; style=&#39;font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;white-space: normal;background-color: rgb(255, 255, 255);&#39;&gt;&lt;h2 style=&quot;margin-top: 38px;margin-bottom: 10px;font-weight: bold;-webkit-font-smoothing: subpixel-antialiased;cursor: text;font-size: 24px;border-bottom: 2px solid rgb(0, 179, 139);color: rgb(0, 179, 138);height: 57px;line-height: 62px;display: inline-block;&quot;&gt;让 CI/CD 快一点，再快一点&lt;/h2&gt;&lt;p style=&quot;margin-right: 10px;margin-bottom: 20px;margin-left: 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;前文提到了我们通过 mix-deps 来提升 CI 的性能，这只是优化 CI 的冰山一角。CI/CD 是整个开发流程里面最重要的一环 —— 代码写完最后的归属就是上线 —— 如果写的非工具类的代码不是为了某个线上的业务，那写起来有什么意义呢？那么，如果我们衡量一个研发团队的迭代能力，非要找个指标的话，那么我会选 Time to Prod（TTP） —— 一个 feature / bug 从开发结束到 deploy 到生产环境，究竟花费多长时间？（这里以灰度发布一开始为结束，不考虑灰度的整体时间是因为不同的项目，不同的规模，灰度发布从 1% 到 100% 可能延展很长）&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;注意这个时间不要和别人比，要和自己比才有意义。成熟的互联网公司 TTP 可能几个小数甚至以天为单位，那可能是因为其业务复杂，CI 流程长，CI 结束后可能还要人工干预才能开始发布，所以你自己 TTP 是 30 分钟，然后得知某大公司要 7 小时，千万别自鸣得意。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;跟自己比，是看这 30 分钟是不是有优化的空间 —— 我们永远不要低估时间降维之后带来的质变。在 TTP 这里，如果我们把 30 分钟优化成 3 分钟，那么我们处理事情的角度就完全不同了。在 30 分钟这个量级，我们考虑的是，解的几个小 bug，整合在一起再 deploy 吧，因为 deploy 一次反馈时间要半小时，折腾几次就半天时间了；在 3 分钟这个量级，deploy 可以被切割成很小的单元 —— 一个很小的 bug，我们也会倾向于就手 deploy —— 反正也花不了什么时间。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;当一个组织里的工程师有就手 deploy 的能力时，整个世界会大大不同。工程师们会自然而然把 feature 切碎，一点点迭代，一点点发布。这很符合人性 —— 越小的发布可控性越强，出问题的几率越小，万一出问题，跟踪定位也更容易，回退更简单。所以谁会没事闲着憋一个大招然后给自己找不痛快？但是，当组织没有这个能力的时候，大家只好被迫累积代码，延迟发布，然后不得不面对复杂场景下的复杂 bug。在 Juniper，我们的发布周期是 3 个月 —— 几千个工程师三个月累积的代码一气发布出去，别说发布了，光是各种 conflict merge 就能让人掉层皮。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;在 arcblock，我们很多 repo 至今已经 release 了超过 30 个版本，其中最多的 ocap service，release 了 55 个版本，平均不到两天 release 一个版本：&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.58828125&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/SER9L29WQ0ic1gN8NZQxZt6GAXWppB5tAWGAibP0a9YK3CD7XtMUl4CAGyGYwyTjZtUfrXaPnhBPqT5EqWC02n1A/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;1280&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;这一切都归功于我们还算不错的 TTP。目前我们的 elixir 项目的 TTP 在十分钟左右，算可以了。当然，在 CI 上我们还有很多优化的空间 —— 比如说 API docs 我们用了 slate 去生成，slate 的 dependency 是 ruby gems，安装起来很慢，大概要 1 分钟。我们其实可以搞一个 ruby-deps 把 所有 ruby dependency 一网打尽，省下这点时间。&lt;/p&gt;&lt;/section&gt;&lt;section class=&quot;level2&quot; style=&#39;font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;white-space: normal;background-color: rgb(255, 255, 255);&#39;&gt;&lt;h2 style=&quot;margin-top: 38px;margin-bottom: 10px;font-weight: bold;-webkit-font-smoothing: subpixel-antialiased;cursor: text;font-size: 24px;border-bottom: 2px solid rgb(0, 179, 139);color: rgb(0, 179, 138);height: 57px;line-height: 62px;display: inline-block;&quot;&gt;把 UT 视作对产品能力的探索&lt;/h2&gt;&lt;p style=&quot;margin-right: 10px;margin-bottom: 20px;margin-left: 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;UT，是开发者最不愿意面对的东西 —— 这玩意写起来挺重复的，于代码能力上似乎又没有什么长进，还得费劲巴拉去考虑各种 mock，时不时还搞不清楚 UT 的边界究竟在哪里。这是第一种对待 UT 的态度 —— UT 是流程里不得不做的一部分，应付一下了事吧。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;另一种对待 UT 的态度是 TDD —— 先不写代码，先写测试。我见过有公司强制 TDD 却没有真正领悟 TDD 的好 —— 这就尴尬了 —— 大家为了 TDD 而 TDD，流于形式，写一堆最后无用甚至被废止的 test case。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;我从来不把测试看成是对开发的桎梏，反而将其看成开发的保护伞。我在之前的文章 &lt;a href=&quot;http://mp.weixin.qq.com/s?__biz=MzA3NDM0ODQwMw==&amp;amp;mid=2649827578&amp;amp;idx=1&amp;amp;sn=8c68f89f51a48a0e11ec52aa51438285&amp;amp;chksm=8704aae6b07323f063e45b709cd20e948fc516fbd858d0c439b5c014eea74ea9accb95928543&amp;amp;scene=21#wechat_redirect&quot; target=&quot;_blank&quot;&gt;如何用正确的姿势打开 TDD？&lt;/a&gt;就探讨了如何用 TDD 来进行产品设计上的探索 —— 比如你做一个 API，最终是给其它工程师使用的，那么 API 的设计过程，应该融合在别人怎么调用这个 API 的过程中，而别人怎么调用这件事，可以用 TDD 来设计，来预演。所以，测试时产品能力的探索，也是产品能力的验证。在这个角度上看，测试是弥足珍贵的 —— 我的测试代表了我的产品能力 —— 在这个框架下，只要产品能力不变，我爱怎么折腾代码就怎么折腾。所以好的代码容易 refactor，不单单是代码结构清晰，脉络明确，还是因为其测试保证了 refactor 过程中如果产品行为出现变化，会被抓个现行。&lt;/p&gt;&lt;/section&gt;&lt;section class=&quot;level2&quot; style=&#39;font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;white-space: normal;background-color: rgb(255, 255, 255);&#39;&gt;&lt;h2 style=&quot;margin-top: 38px;margin-bottom: 10px;font-weight: bold;-webkit-font-smoothing: subpixel-antialiased;cursor: text;font-size: 24px;border-bottom: 2px solid rgb(0, 179, 139);color: rgb(0, 179, 138);height: 57px;line-height: 62px;display: inline-block;&quot;&gt;随时随地 refactor 代码&lt;/h2&gt;&lt;p style=&quot;margin-right: 10px;margin-bottom: 20px;margin-left: 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;雷叔叔说：一个人对代码 refactor 一次不难，难的是一辈子随时随地能 refactor 代码。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;随时随地 refactor 与其说是一种态度，不如说是一种能力。一般而言，refactor 的能力和这些有关：&lt;/p&gt;&lt;ol type=&quot;1&quot; style=&quot;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;UT 覆盖率&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;代码复杂度&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;代码耦合度&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;语言是否对 refactor 提供支持&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;前文已经说过，UT 覆盖得好，代码是可以随意折腾的，折腾完，CI 打了绿勾，心里就不太会发慌。如果没有对应的 UT，稍微复杂一些的代码，折腾起来就会有些懵逼 —— 墨菲定律在那里候着呢。所以一份能随时随地 refactor 的代码，要有足够的 UT 打底。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;程序君说过：复杂是代码的天敌。我们最佳的策略不是去应对复杂，而是把复杂消弭于平日的每一次 commit。对此，我们可以善用 lint 工具 —— 把所有的 lint warning 设置为 lint error，然后将其和 git hook 结合起来。之后每一次 commit 时，pre-commit-hook 都能将不合格的代码挡下，逼迫自己重新思考，用更合理的方式撰写代码 —— 或者换个角度写，或者将复杂的逻辑拆分开来。这样在平日里不断降低代码的复杂度，让熵一直处在一个可控的范畴 —— 这样下来，&lt;strong&gt;你要相信，时间最终会奖励这份勤勉的&lt;/strong&gt;。我曾见过长度超过 5000 行的单个 C 函数，里面满是岁月留下的伤痕 —— 就像月亮妹妹胖嘟嘟小脸上那一个个坑 —— 每个坑都是一个 customer issue 留下的丑陋修复。丑是会传染的，洁癖如我，在面对那样的代码时，我也只能默默地继续加上一个 switch case，为本已溃烂的面容上再填一个浓疮。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;我们控制代码复杂度的过程，实际就不断 refactor 的过程。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;在 C 时代，我们很在意一个函数是否是 re-entrant，如果不是，至少要 thread-safe —— 这其实是把函数和其上下文（context）解耦。一个函数的运行和其上下文强相关是一件很糟糕的事情 —— 它很难测试（比如测试时需要重现其依赖的资源 —— 某个状态，某个 lock，etc.），很难重构（如果不深刻理解其依赖，很可能挖出新坑），也很难被重用。所谓解耦，解的就是上下文。完全无耦合的代码是 pure function，它和数学上的函数类似，是定义域到值域上的一个映射，而完全耦合的代码是 non-re-rentrant function。如果说人类社会是个纺锤形的结构，那么代码在耦合度这个范畴上，也大致是纺锤形的，两头小，中间大。在广阔的中间地带（pure / inpure），每写一段代码，我们都需要悉心选择向左走还是向右走。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;这个时候，语言本身的支持很有帮助 —— 比如函数式语言，immutability 决定了你写的任何一段代码都可以在任何一个上下文里运行（参见：&lt;a href=&quot;http://mp.weixin.qq.com/s?__biz=MzA3NDM0ODQwMw==&amp;amp;mid=206436214&amp;amp;idx=1&amp;amp;sn=2140cf7b2894c4fdeb49ad4458d0fb3e&amp;amp;scene=21#wechat_redirect&quot; target=&quot;_blank&quot;&gt;永恒不变的魅力&lt;/a&gt;）。于是问题变得轻松起来：我们如何构建出来够用够好的层次，辗转腾挪，让合适的函数出现在合适的位置？&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;其实好的系统，不管其多么复杂，应该是从简单中孕育出来：我们看人类社会 —— 精密的社会机器下是一个个个体的简单独立行为 —— 而这些独立的个体行为交织在一起却承载着无与伦比的复杂（想想你午餐吃的那份古井烧鹅，从受精卵到被你吃到嘴里，经过了多少工序！）。同样的，一个生物体，活体由一个个器官构成，器官由组织构成，组织由细胞构成。道德经里说：道生一，一生二，二生三，三生万物。就是这个道理。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;有些语言，比如 erlang，elixir，天然就模拟自然界的行为，通过自下而上的解耦，让简单承载复杂。在 erlang 的世界里，一个 process 就像一个个独立的，彼此解耦的个体，它们构建起团队（supervision tree），一个个团队构成公司（application），一家家公司进而组织成一个复杂的社会（release）。这样在语言层面对解耦的支持，让 refactor 易如反掌，不仅如此，refactor 带来的意外（比如代码出轨了），也仅仅是由局部来承担 —— 个体挂了，影响的范围也仅仅在那个个体辐射到的团队而已。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;做到了上面这些，面对几十个 repo，每天在不同的 repo 上搞几个 commit，若干个 commit 组成的 PR merge 后生成 release，release 并很快部署到线上得到反馈，可以做到千头万绪，却忙而不乱 —— 不畏浮云遮望眼，只缘身在最高层。&lt;/p&gt;&lt;/section&gt;&lt;section class=&quot;level2&quot; style=&#39;font-family: -apple-system, &quot;SF UI Text&quot;, Arial, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, &quot;WenQuanYi Micro Hei&quot;, sans-serif, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;font-size: 16px;white-space: normal;background-color: rgb(255, 255, 255);&#39;&gt;&lt;h2 style=&quot;margin-top: 38px;margin-bottom: 10px;font-weight: bold;-webkit-font-smoothing: subpixel-antialiased;cursor: text;font-size: 24px;border-bottom: 2px solid rgb(0, 179, 139);color: rgb(0, 179, 138);height: 57px;line-height: 62px;display: inline-block;&quot;&gt;禅定时刻&lt;/h2&gt;&lt;p style=&quot;margin-right: 10px;margin-bottom: 20px;margin-left: 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;惠子谓庄子曰：「子言无用」。庄子曰：「知无用而始可与言用矣。天地非不广且大也，人之所用容足耳。然则削足而垫之，致黄泉，人尚有用乎？」惠子曰：「无用」。庄子曰：「然则无用之为用也亦明矣」。&lt;/p&gt;&lt;p style=&quot;margin: 20px 10px;max-width: 100%;min-height: 1em;white-space: pre-wrap;color: rgb(84, 84, 84);text-align: justify;line-height: 28px;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;下周三到湾区接驾，呆到周日晚。欢迎来人来函以及来而无往非礼也之洽谈。&lt;/p&gt;&lt;/section&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;
                &lt;/div&gt;
                &lt;script nonce=&quot;1347913626&quot; type=&quot;text/javascript&quot;&gt;
                    var first_sceen__time = (+new Date());

                    if (&quot;&quot; == 1 &amp;&amp; document.getElementById(&#39;js_content&#39;)) {
                        document.getElementById(&#39;js_content&#39;).addEventListener(&quot;selectstart&quot;,function(e){ e.preventDefault(); });
                    }

                    
                    (function(){
                        if (navigator.userAgent.indexOf(&quot;WindowsWechat&quot;) != -1){
                            var link = document.createElement(&#39;link&#39;);
                            var head = document.getElementsByTagName(&#39;head&#39;)[0];
                            link.rel = &#39;stylesheet&#39;;
                            link.type = &#39;text/css&#39;;
                            link.href = &quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/winwx3ec991.css&quot;;
                            head.appendChild(link);
                        }
                    })();
                &lt;/script&gt;

                
                &lt;div class=&quot;ct_mpda_wrp&quot; id=&quot;js_sponsor_ad_area&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;

                
                                &lt;div class=&quot;reward_area tc reward_area_primary&quot; id=&quot;js_reward_area&quot; style=&quot;display:none;&quot;&gt;
                    &lt;div class=&quot;reward-avatar&quot; style=&quot;display: none;&quot; id=&quot;js_reward_avatar&quot;&gt;
                        &lt;img src=&quot;&quot; alt=&quot;&quot; id=&quot;js_reward_author_head&quot;&gt;
                    &lt;/div&gt;
                    
                                       
                                                &lt;div class=&quot;reward-author&quot; style=&quot;display: none;&quot; id=&quot;js_reward_author&quot;&gt;陈小天&lt;/div&gt;
                                            
                                       

                                        &lt;p&gt;
                        &lt;a class=&quot;reward_button&quot; id=&quot;js_reward_link&quot; href=&quot;##&quot;&gt;&lt;span id=&quot;js_reward_link_text&quot;&gt;赞赏&lt;/span&gt;&lt;/a&gt;
                    &lt;/p&gt;
                    &lt;div id=&quot;js_reward_inner&quot; class=&quot;reward_area_inner&quot; style=&quot;display:none;&quot;&gt;
                        &lt;p class=&quot;weui-loadmore weui-loadmore_line reward_user_tips&quot; id=&quot;js_reward_total_parent&quot;&gt;
                          &lt;span class=&quot;weui-loadmore__tips&quot;&gt;&lt;a href=&quot;##&quot; id=&quot;js_reward_total&quot;&gt;&lt;/a&gt; 人&lt;span id=&quot;js_reward_total_text&quot;&gt;赞赏&lt;/span&gt;&lt;/span&gt;
                        &lt;/p&gt;
                        
                        &lt;div id=&quot;js_reward_list&quot; class=&quot;reward_user_list&quot;&gt;&lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                                &lt;div class=&quot;reward_qrcode_area reward_area tc&quot; id=&quot;js_reward_qrcode&quot; style=&quot;display:none;&quot;&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;长按二维码向我转账&lt;/p&gt;
                                        &lt;p class=&quot;reward_tips&quot;&gt;&lt;/p&gt;
                    &lt;span class=&quot;reward_qrcode_img_wrp&quot;&gt;&lt;img class=&quot;reward_qrcode_img&quot; id=&quot;js_reward_qrcode_img&quot;&gt;&lt;/span&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;受苹果公司新规定影响，微信 iOS 版的赞赏功能被关闭，可通过二维码转账支持公众号。&lt;/p&gt;
                &lt;/div&gt;
                                                
                
                            &lt;/div&gt;
                                    
                        


                        
            &lt;ul id=&quot;js_hotspot_area&quot; class=&quot;article_extend_area&quot;&gt;&lt;/ul&gt;


            
                        &lt;div class=&quot;rich_media_tool&quot; id=&quot;js_toobar3&quot;&gt;

                                            &lt;div id=&quot;js_read_area3&quot; class=&quot;media_tool_meta tips_global_primary meta_primary&quot; style=&quot;display:none;&quot;&gt;阅读 &lt;span id=&quot;readNum3&quot;&gt;&lt;/span&gt;&lt;/div&gt;

                &lt;span style=&quot;display:none;&quot; class=&quot;media_tool_meta meta_extra meta_praise&quot; id=&quot;like3&quot;&gt;
                    &lt;i class=&quot;icon_praise_gray&quot;&gt;&lt;/i&gt;&lt;span class=&quot;praise_num&quot; id=&quot;likeNum3&quot;&gt;&lt;/span&gt;
                &lt;/span&gt;

                

            &lt;/div&gt;


                        &lt;div class=&quot;rich_media_tool&quot; id=&quot;js_sg_bar&quot;&gt;

                                
            &lt;/div&gt;
                      &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class=&quot;rich_media_area_primary sougou&quot; id=&quot;sg_tj&quot; style=&quot;display:none&quot;&gt;&lt;/div&gt;


        
        &lt;div class=&quot;rich_media_area_extra&quot;&gt;
          &lt;div class=&quot;rich_media_area_extra_inner&quot;&gt;
              
              &lt;div id=&quot;js_share_appmsg&quot;&gt;
              &lt;/div&gt;

              
                            &lt;div class=&quot;mpda_bottom_container&quot; id=&quot;js_bottom_ad_area&quot;&gt;&lt;/div&gt;
                            
              &lt;div id=&quot;js_iframetest&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;
                            
                            
              &lt;div class=&quot;rich_media_extra rich_media_extra_discuss&quot; id=&quot;js_cmt_container&quot; style=&quot;display:none&quot;&gt;
                

                
                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_friend_cmt_area&quot; style=&quot;display:none&quot;&gt;
                  
                  
                  
                &lt;/div&gt;

                                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_cmt_area&quot; style=&quot;display:none&quot;&gt;
                &lt;/div&gt;
                              &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        
        &lt;div id=&quot;js_pc_qr_code&quot; class=&quot;qr_code_pc_outer&quot; style=&quot;display:none;&quot;&gt;
            &lt;div class=&quot;qr_code_pc_inner&quot;&gt;
                &lt;div class=&quot;qr_code_pc&quot;&gt;
                    &lt;img id=&quot;js_pc_qr_code_img&quot; class=&quot;qr_code_pc_img&quot;&gt;
                    &lt;p&gt;微信扫一扫&lt;br&gt;关注该公众号&lt;/p&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;</description>
<author>陈小天</author>
<guid isPermaLink="false">2018-08-01-1000000112</guid>
<pubDate>Wed, 01 Aug 2018 00:00:00 +0800</pubDate>
</item>
</channel>
</rss>
