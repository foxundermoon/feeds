<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:media="http://search.yahoo.com/mrss/">
<channel>
<title>babyquant谈量化金融</title>
<link>https://henix.github.io/feeds/zhuanlan.c_106548378/</link>
<description></description>
<language>zh-cn</language>
<lastBuildDate>Sat, 21 Jul 2018 01:41:34 +0800</lastBuildDate>
<item>
<title>策略||文字数据</title>
<link>https://henix.github.io/feeds/zhuanlan.c_106548378/2018-07-20-40184624.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/40184624&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;b&gt;   一直以来策略用到的即时文字数据，获取和处理都比较麻烦，这里笔者简单介绍一下获取和处理方法，关于文字数据因子的使用放到下一章节&lt;/b&gt;&lt;/p&gt;&lt;p&gt;1&lt;b&gt;数据的获取&lt;/b&gt;&lt;/p&gt;&lt;p&gt;依旧以对证券市场分析为例，常用到的数据有“财经新闻、上市公司公告、股吧网友讨论等”。我们希望从这些数据源中能得到有价值的信息，可能是一段时间的新闻热点、可能是网友对不同事件的正负面情绪、或者其他一些。&lt;br&gt;&lt;br&gt;第一步就是获取数据，新闻相关的有新浪财经、华尔街见闻等；上市公司公告有巨潮资讯网、交易所官网；股吧有东方财富网、雪球等。&lt;br&gt;&lt;br&gt;&lt;br&gt;一般选用的方法就是爬虫了，根据各网站的不同，爬取难易程度不一 。大规模爬虫可以选用：scrapy  分布式爬取，而一般简单的爬虫可以用： lxml、BeautifulSoup、 Requests、Selenium等。具体操作过程中，有些网站有比较强的反爬虫机制，需要加ip代理池等操作。&lt;br&gt; &lt;br&gt;&lt;b&gt;举个简单例子 —— 爬取中国证券报网站上近一周的所有公司新闻。&lt;/b&gt;&lt;br&gt;简单过程就是：&lt;br&gt;a. 找到目标网页的URL。&lt;br&gt;b. 在目标页面URL中找到目标内容并保存。&lt;br&gt;一般可以通过lxml.etree用xpath定位实现、或者用BeautifulSoup根据CSS定位实现。&lt;br&gt;&lt;br&gt;&lt;/p&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-1d658dea70008150395d29266a3e2165_r.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;640&quot; data-rawheight=&quot;546&quot; data-watermark=&quot;watermark&quot; data-original-src=&quot;v2-1d658dea70008150395d29266a3e2165&quot; data-watermark-src=&quot;v2-86cb9e775c20923511b3af6b6a5e2cc6&quot; data-private-watermark-src=&quot;&quot;&gt;&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-776a5e334ca5b7e7a8045fc4f042f6ae_r.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;640&quot; data-rawheight=&quot;605&quot; data-watermark=&quot;watermark&quot; data-original-src=&quot;v2-776a5e334ca5b7e7a8045fc4f042f6ae&quot; data-watermark-src=&quot;v2-5fbecc75e54aea4ad620e4f6084a13ea&quot; data-private-watermark-src=&quot;&quot;&gt;&lt;p&gt;&lt;br&gt;&lt;br&gt;至于数据的储存，各种数据库就依个人喜好了，例子中直接保存到txt里了。多说一句，例子中取的数据不牵涉到动态加载内容，如有需要最简单是selenium模拟，另外方法是Chrome F12 network，分析Ajax内容，构造请求。具体今天就先略去了。&lt;br&gt;&lt;/p&gt;&lt;p&gt;2&lt;b&gt;文本初步处理&lt;/b&gt;&lt;/p&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-a994af8d7f9d07b77f54a2e7c8a5d760_r.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;640&quot; data-rawheight=&quot;445&quot; data-watermark=&quot;watermark&quot; data-original-src=&quot;v2-a994af8d7f9d07b77f54a2e7c8a5d760&quot; data-watermark-src=&quot;v2-5274c1e955905cdb9b53501b66d51e30&quot; data-private-watermark-src=&quot;&quot;&gt;&lt;p&gt;&lt;br&gt;&lt;br&gt;取得数据之后下一步就是简单的处理了，对中文来说，就是分词，去停用词这些，可用的工具有： Jieba 、PyNlpir等。具体选哪个还是去试一下看哪个合适，自己选吧。&lt;br&gt;&lt;br&gt;&lt;br&gt;对于要让程序到practical的程度，分词还是很重要的，因为很多专业术语，所以自定义字典userdict比较重要。上面提到的两个包都可以导入自定义字典，要达到令人满意的结果，这userdict就看个人了。去停用词就是删除一些没什么实际意义的形容词、助词等。&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;分词程序：&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-6d60a082b20dd98c28966fd42e30dea6_r.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;640&quot; data-rawheight=&quot;662&quot; data-watermark=&quot;watermark&quot; data-original-src=&quot;v2-6d60a082b20dd98c28966fd42e30dea6&quot; data-watermark-src=&quot;v2-73ea147cc1d37a984818faa73138eed3&quot; data-private-watermark-src=&quot;&quot;&gt;&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;分词结果：&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;&lt;b&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-444ba97f68375ba86484d0dbbf83ee82_r.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;640&quot; data-rawheight=&quot;393&quot; data-watermark=&quot;watermark&quot; data-original-src=&quot;v2-444ba97f68375ba86484d0dbbf83ee82&quot; data-watermark-src=&quot;v2-85793a8327f3749d4b7bb8ba021afda7&quot; data-private-watermark-src=&quot;&quot;&gt;&lt;/b&gt;&lt;p&gt;3&lt;b&gt;提取关键词&lt;/b&gt;&lt;br&gt;下一步是把每个文本提取关键词，用关键词向量代表每个文本。&lt;br&gt;一般用的方法是有TF－IDF，具体细节可以wiki一下。很简单，主要意思就是一个词在文档中出现频率越高，对文档而言更重要； 同时一个词要是在所有文档中都出现，比如“的”，那就重要性减弱。于是抽象出 &quot;TF : termfrequency&quot; 和  &quot;IDF: inverse documentary frequency&quot;。以“国企改革”为例，“TF”算的是“国企改革”在文章中出现的频率，“IDF”算“国企改革”在所有文档中出现频率。&lt;br&gt;&lt;/p&gt;&lt;p&gt;一般采用log(...) * log(...)的形式，不过这个也可以变，没有一个规定。&lt;br&gt;scikit-learn中有直接封装好的TF-IDF程序，在这里我贴出一个自己写的：&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;关键词提取程序：&lt;/b&gt;&lt;/p&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-c016872bd77dd93252d4c91108168646_r.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;640&quot; data-rawheight=&quot;425&quot; data-watermark=&quot;watermark&quot; data-original-src=&quot;v2-c016872bd77dd93252d4c91108168646&quot; data-watermark-src=&quot;v2-416d3e45fc7ca2852d640bdb187192e0&quot; data-private-watermark-src=&quot;&quot;&gt;&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;关键词提取结果：&lt;/b&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;&lt;b&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-08ee558afad11ec2b699764df6e3e808_r.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;640&quot; data-rawheight=&quot;400&quot; data-watermark=&quot;watermark&quot; data-original-src=&quot;v2-08ee558afad11ec2b699764df6e3e808&quot; data-watermark-src=&quot;v2-424aafdfda9a32b39ff108566caa64c0&quot; data-private-watermark-src=&quot;&quot;&gt;&lt;/b&gt;&lt;p&gt;&lt;br&gt;&lt;br&gt;这样处理之后，一片文章就可以用几十个关键词表示，再进行下一步的聚类分析等。&lt;br&gt;&lt;br&gt;常用的文本相关性分析方法有：求文档间的余弦Cosine、KMeans等。&lt;/p&gt;</description>
<author>量化家</author>
<guid isPermaLink="false">2018-07-20-40184624</guid>
<pubDate>Fri, 20 Jul 2018 00:00:00 +0800</pubDate>
</item>
<item>
<title>策略||遗传算法</title>
<link>https://henix.github.io/feeds/zhuanlan.c_106548378/2018-07-19-40082674.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/40082674&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;通常所说的量化交易，是指使用大量的指标和操作的组合，来定义买/卖操作规则。除了决定使用哪些指标，更重要的是为指标设置正确的参数。&lt;/p&gt;&lt;p&gt;一个简化的例子（&lt;b&gt;随机写的，请勿作为投资参考&lt;/b&gt;）：选择 300成份股 + 市值小于150亿 + 去年分红 + 最近半年有回购行为 的股票。我们可以把不同指标扩展到成千上万个，根据参数做出投资决策。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;为参数寻找最优解的问题，梯度下降法（常用于深度学习）是一个很好的解决方案。但有些时候1、问题有多个局部最优解；2、错误函数不平滑；这时梯度下降算法就不能很好工作。这里我们介绍遗传算法，用来为市场指标的参数找到最优解。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;遗传算法是受物种进化和自然选择启发得到的优化方法。它是一个“古老”的算法，并且在上个世纪就有人尝试应用于金融市场研究。严格来说它不属于机器学习领域，但机器学习工程实际上可以在它的理论基础上来实现。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;遗传算法过程如下:&lt;/p&gt;&lt;p&gt;&lt;b&gt;- 初始化：&lt;/b&gt;算法从初始化一个种群开始，可以完全随机生成。每种可能的解决方案 -- 例如每个种群中的个体—被称为染色体。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;- 迭代过程：&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;*  交叉：&lt;/b&gt;染色体被组合起来，产生一个新的种群。新一代种群中的每一条染色体都是它们祖先的基因（染色体由基因组成）交叉混合组成。&lt;/p&gt;&lt;p&gt;&lt;b&gt;*  突变：&lt;/b&gt;通常，还引入突变因子，目的是允许现有基因的特征有一些变化。&lt;/p&gt;&lt;p&gt;&lt;b&gt;*  评估：&lt;/b&gt;计算每个新染色体个体的适应值。&lt;/p&gt;&lt;p&gt;交叉迭代过程的理念是创建一个优于第一代种群的后代，因为只有&lt;b&gt;最合格的个体才能存活下来&lt;/b&gt;。 这意味着我们将选择得到最佳结果的染色体作为下一代染色体的父染色体。&lt;/p&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-1992c9e52486da53afed9fc9b01d2901_r.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;356&quot; data-rawheight=&quot;325&quot; data-watermark=&quot;watermark&quot; data-original-src=&quot;v2-1992c9e52486da53afed9fc9b01d2901&quot; data-watermark-src=&quot;v2-c009722f801e96dd4f5c6cacbc823612&quot; data-private-watermark-src=&quot;&quot;&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;-  停止条件：&lt;/b&gt;我们可以使用两三种不同的标准作为停止迭代过程的条件：&lt;/p&gt;&lt;p&gt;   *  群众中个体数量不再变化；&lt;/p&gt;&lt;p&gt;   *  获得满意的适应性水平。&lt;/p&gt;&lt;p&gt;   *  算法得到收敛。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;我个人特别喜欢第一和第三个标准（除非时间极为有限，我会使用第二个标准)。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;实现遗传算法实际上是一项简单的任务。最具挑战的部分是如何将我们的问题转化为“染色体”模型。 我们需要可以轻松转换、组合的变量，以及无需大量的内存的算法，那么遗传算法就会有效。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;伪算法代码&lt;/b&gt;&lt;/p&gt;&lt;p&gt;以下代码是使用Python语法的遗传算法实施的简单示例，其中：&lt;/p&gt;&lt;p&gt;max_iter：是算法停止前允许的最大迭代次数。&lt;/p&gt;&lt;p&gt;n_repeats：是允许所有过程中的最佳适应度比通常总体达到的最佳适应度差的最大迭代次数。 这是用来控制方法的收敛程度的简单方法: 如果我们不使用这种方法，当算法已经停在局部最优时，我们还在花时间执行代码。&lt;/p&gt;&lt;p&gt;N：是在每次迭代中被选择成为下一代父染色体的个体数量。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;i=0 &lt;/p&gt;&lt;p&gt;fitness = 0 &lt;/p&gt;&lt;p&gt;counter = 0 &lt;/p&gt;&lt;p&gt;while i &amp;lt; max_iter: &lt;/p&gt;&lt;p&gt;   if counter &amp;gt; n_repeats: &lt;/p&gt;&lt;p&gt;      STOP &lt;/p&gt;&lt;p&gt;   Y = [ ]&lt;/p&gt;&lt;p&gt;   fit = [ ] &lt;/p&gt;&lt;p&gt;   pairs = randompairsfrom (X) &lt;/p&gt;&lt;p&gt;   for j in pairs: &lt;/p&gt;&lt;p&gt;      y = crossover ( j )&lt;/p&gt;&lt;p&gt;      y = randommutation ( y )&lt;/p&gt;&lt;p&gt;      Y. append (y)&lt;/p&gt;&lt;p&gt;      fit.append (fitness(y))&lt;/p&gt;&lt;p&gt;   Y, fit = ordermaxtomin (Y, fit ) &lt;/p&gt;&lt;p&gt;   bestfitness = fit[ 0 ]&lt;/p&gt;&lt;p&gt;   if bestfitness &amp;lt; fitness: &lt;/p&gt;&lt;p&gt;      counter = counter+1&lt;/p&gt;&lt;p&gt;   else: &lt;/p&gt;&lt;p&gt;      counter = 0&lt;/p&gt;&lt;p&gt;      X = Y [0: N] &lt;/p&gt;&lt;p&gt;      i=i+1 &lt;/p&gt;&lt;p&gt;      fitness = bestfitness&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;改进&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;另外一点需要重点考虑到，如上所述，由于遗传算法是一种优化方法，因此很容易得到问题的局部最优值。当发生这种情况时，很难进一步发展并且找到问题的另一最优值 。 为了强制算法“跳出”局部最优，我们可以做的一件事是改变“选择过程”。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;当算法“正常工作”时，我们从由上一代和新一代形成的组合中选择更好的基因。 如果我们发现算法“结果不理想” – 产生了一些迭代之后，最好的适应度没有变得更好 -- 我们就要做一个“强行跳跃”，具体做法是对最后的那一代基因不进行最优选择，然后继续迭代。当然，这样做，当前最优适应度会比上一代差，但是通过改变父亲一代，能让我们跳出当前局部最优，从而找到一套不同的解决方案（我们希望比其他的更好）。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;应用&lt;/b&gt;&lt;/p&gt;&lt;p&gt;现在你已经知道遗传算法的基本思路了。&lt;/p&gt;&lt;p&gt;下一步是决定如何将市场指标的参数的映射为对应的染色体。如果我们决定使用一种通用的方法来做转换，那就意味着我们能使用相同的遗传算法来优化多个不同的指标参数。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;还是文章开头的极简例子，如果我们对多个指标进行0、1编码，1表示选中，0表示剔除。那么指标模型就是类似 01110001110001111001 这样的“基因”字符串。通过遗传算法得到的历史数据适应性最佳字符串，就是我们想要的策略了。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;思考1：&lt;/p&gt;&lt;p&gt;使用遗传算法寻找到市场指标（在时间序列上）的最优参数，有什么好处，又有什么缺点？&lt;/p&gt;&lt;p&gt;遗传算法的优点是不用花太多的时间找到交易模型的有益参数。缺点也很清楚：使用优化方法的最大风险是过度拟合。算法只能拟合历史数据，在未来的博弈中未必有效。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;继续思考2：如果我们设计一种算法机制，能够检测出当前交易模型的参数不再有良好回报，然后再找到适合当前市场约束条件其它算法，会如何？&lt;/p&gt;</description>
<author>量化家</author>
<guid isPermaLink="false">2018-07-19-40082674</guid>
<pubDate>Thu, 19 Jul 2018 00:00:00 +0800</pubDate>
</item>
<item>
<title>仓位控制||启发</title>
<link>https://henix.github.io/feeds/zhuanlan.c_106548378/2018-07-18-40038927.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/40038927&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;资金管理是投资体系中非常重要的部分，却是大多数投资者忽略的环节，至少在我认识的投资朋友中，很少看到注重资金管理的，也很少讨论资金管理问题，很多朋友喜欢总是满仓的，喜欢全部资金或大部分资金重仓一只或两只股票；要么就空仓，资金撤离。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;国内一些知名的价值投资者，也几乎总是处于满仓状态。在熊市中，资金管理不好的问题会逐步暴露出来，让投资者陷入困境或被动之中。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;主要表现：过早加仓并用完资金，当持有的证券出现低得更多的价格时，已经没有能力买入补仓；满仓的一只或两只证券出现大幅向下波动后，带来巨额的账面浮亏，给投资者带来巨大的心理压力，并在压力下做出非理性的投资操作等等。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;我所说的资金管理主要指&lt;b&gt;现金管理和仓位管理。&lt;/b&gt;现金管理指投资者在所管理的投资资产对现金占比的考虑及安排，这里的现金既指货币现金，也指现金等价物，如短期国债等。仓位管理主要指对单只证券或同类证券在投资组合中的控制比例及额度管理等。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;投资者到底该如何进行资金管理，从而在各种环境下都能应对自如呢？我们看看几位着名的价值投资大师是如何做进行资金管理的。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;格雷厄姆&lt;/b&gt;——价值投资的鼻祖，巴菲特最尊敬的恩师，《证券分析》、《聪明投资者》的作者。格雷厄姆很早就开始进行投资，为客户管理资金，但在1929年大危机中，损失惨重，几乎破产。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;在经历过九死一生的大危机后，格雷厄姆在资金管理方面提出了「&lt;b&gt;75—25」法则&lt;/b&gt;，即：持有普通股的资金比例控制在25%至75%的范围，现金及债券则控制在75%至25%的互补区间之中，当股票资产因占比超过75%时，卖出一定数量的股票，增加现金或债券比例，当因股票资产占比到低于25%时，则卖出一定的债权增加股票的比例。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;当然，股票资产与债券（现金）的比例并不是完全铁定的75%至25%，投资者可以根据市场的高估或低估情况以及投资自身的特点设定一个合适的比例，如50%至50%等。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;格雷厄姆说，这样的做法有两个好处：克服人性的弱点；让投资者总是有点事情可做，不至于太单调。同时，格雷厄姆的投资组合非常分散，持有很多数量的证券，单只证券的占比很小。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;巴菲特&lt;/b&gt;——价值投资集大成者，在54年的投资生涯，累计获利62021.72倍，年复合收益率22.67%。巴菲特投资业绩还表现出了极高的稳定性，在54年的漫长投资生涯中，只有两个年份出现小幅亏损（2001年的-6.2%和2008年的-9.6%），这是业绩的稳定性是众多职业投资者梦寐以求的。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;巴菲特在1956年至1969年管理合伙投资期间，13年里没有发生一次亏损，累计获利28.88倍，年复合收益率29.5%。在此期间，巴菲特将投资机会类型分为低估类投资、控制类投资、套利类投资三类，并将资金分散投资于这些不同的投资机会上，巴菲特单只股票投资比例最大的股票是美国运通，从1964年开始陆续投入了1300万美元，占到所管理的合伙资产的40%左右。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;在巴菲特后期的投资生涯中，投资比例最大的是可口可乐，先后陆续投资了10.24亿美元，占到当时伯克希尔34亿美元净资产的30%左右。巴菲特认为：控制不好的「集中投资」有点类似于再乱流中行驶的飞机，它比地下的火车快，可上下左右摇晃的幅度太大，让人受不了，尽管最后安全着陆。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;在现金管理方面，巴菲特喜欢总是保留一定数额的现金，在近10年以来，巴菲特总是保持至少200亿美元的现金，截止2011年6月30日，伯克希尔持有的现金是478.9亿美元。在2008年美国金融危机期间投资了通用电气和高盛后，巴菲特减持了部分股票，他减持的理由是：现金偏少，让他觉得不踏实。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;他对于保持大量现金的理由是：不希望命运掌握他人手中，而是掌握在自己的手中，大量的现金可以让人睡得踏实等。事实上，正是由于总是喜欢持有一定的现金，巴菲特才可以安然度过多次经济危机及金融危机，并能够在危机中优秀公司出现非常低估的价格时，还有能力买入，而大部分投资者此时已经失去买卡入能力。巴菲特在资金管理方面堪称完美，是最值得借鉴、学习的投资大师。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;卡拉曼&lt;/b&gt;——Baupost基金公司总裁，最受投资者尊敬的价值投资大师之一，他的代表作《安全边际》（Margin of Safety）已成为重要的投资经典着作。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;卡拉曼管理的基金从1982 年到2009年的27年间年均收益率为19%，而同期的标准普尔500指数收益率仅为10.7%，更为难得的是，这25年里仅有一年亏损记录。卡拉曼投资管理的一大特点就是喜欢持有大量的现金。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;他在《晚上睡得着比什么都重要》的演讲说到：在过去的25年中，我们试图每天为客户做正确的事情，从不使用融资杠杆，且有时会持有大量现金，他有时候会持有40%多的现金（如1999年4月30日投资组合现金比例为42.1%）。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;他认为：在任何时候都保持满仓投资简化了投资任务，投资者似乎只要找到的最好的投资就可以了。相对诱人成了唯一的投资准绳，而无需满足绝对的价值标准。此类投资顶多只会带来普通的回报，最糟糕的情就是会产生高昂的机会成本——指错过了下一个出色的投资机会——并承受了出现巨大损失的风险。同时，卡拉曼的投资组合比较分散，单只证券投资比例不高。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;分析这三位价值投资大师的资金管理模式后，可以看到有两个共同特点：总是保留一定的现金；控制单只证券的投资比例，进行一定程度的分散。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;b&gt;「保留一定的现金」的内在逻辑：&lt;/b&gt;&lt;/blockquote&gt;&lt;p&gt;对市场保持敬畏，市场未来的发展是无法预测的，必须为可能出现的极端情况做一定准备；当没有非常具有吸引力的投资机会时，保留现金，宁缺毋滥；追求绝对回报，而不是相对表现；在意所管理资产表现的稳定性等。&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;b&gt;「进行一定的分散」的内在逻辑：&lt;/b&gt;&lt;/blockquote&gt;&lt;p&gt;投资判断可能出错，或者发生小概率事件，避免判断失误或发生的小概率事件带来致命的损失；考虑到其它机会成本；在意资产整体的稳定性等。&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;面三位价值投资的大师都是价值投资者的精神导师，他们资金管理模式给我们带来什么样的启示呢？&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;事实上，一个投资者的资金管理模式反映了他的投资哲学、世界观甚至性格。总是保留部分现金的投资者，他的投资哲学或性格可能是：认为对市场的未来持难以预测，对市场总是保持敬畏，担心会发生更为极端的情况，并为此对有所准备；追求绝对回报，坚持严格的投资标准，当没有满足符合条件的投资机会时，宁愿保留现金等；担心自己的判断有错误的可能，并为此留有余地等。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;而总是满仓的投资者：对自己的判断具有绝对的信心；希望资金总是处于高效使用状态；担心错过现在的投资机会；在意跑赢市场，而不是追求绝对回报等。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;只持有一只或两只股票的过度集中投资者，反映了他们：对自己的判断有绝对信心，总是认为有十足的把握；投资的证券是最好的等。而适当分散的投资者，则：担心自己判断可能出错；担心发生不利的小概率事件；希望保持资产组合表现一定的稳定性等。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;我自己经过多次惨痛的教训后，认识到了资金管理的重要性，一直在探索适合自己的资金管理的模式，经过多年的学习和实践之后，逐步形成了适合自己的资金管理模式。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;比如：总是喜欢保留至少10%的现金；单只证券的投资比例一般控制在20%以下，确定性特别高的投资机会则控制在40%以下；当确定投资目标后，喜欢分批建仓等。在这种资金管理模式下，我会觉得非常坦然，晚上睡觉也非常非常踏实。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;每个投资者可能因为自身投资哲学、性格等方面的不同，而选择不同的资金模式，只有这种模式是经过深思熟虑并适合自己的，都无可厚非。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;但对于专业投资者来说，特别是对于那些管理客户资金的职业投资者来说，格雷厄姆、巴菲特、卡拉曼三位投资大师的资金管理模式非常值得学习和借鉴，这种模式不仅带来了非常高的长期投资回报率，更为重要的是，业绩表现非常稳定。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;在不断惨烈下跌的熊市下，做好资金管理的重要性更加彰显。做好资金管理最大的障碍还是人性，特别是贪婪！&lt;/p&gt;&lt;p&gt;在量化上进行资金管理更为重要，因为一开始就设置好仓位逻辑，不进行人为的干预，才能更完全实现的策略的精准化。&lt;/p&gt;</description>
<author>量化家</author>
<guid isPermaLink="false">2018-07-18-40038927</guid>
<pubDate>Wed, 18 Jul 2018 00:00:00 +0800</pubDate>
</item>
<item>
<title>世界区块链大会&amp;YOYOW创始人白菜受邀参加圆桌座谈</title>
<link>https://henix.github.io/feeds/zhuanlan.c_106548378/2018-07-18-40002081.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/40002081&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;title-image&quot;&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-63b28b4f9bab05a187a134a492e306a2_r.jpg&quot; alt=&quot;&quot;&gt;&lt;/div&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;乌镇开启区块链2018新征程&lt;/b&gt;&lt;br&gt;“世界区块链大会”于2018年6月28日至6月30日进行，会址位于乌镇的“互联网国际会展中心”（浙江省桐乡市乌镇西栅景区）。乌镇，是优雅而富庶的历史文化名城，更在2014年11月19日成为“世界互联网大会”的永久举办地，自此乌镇从安逸的江南水乡转变成了财富出发和技术进步的先锋起点。在蝉鸣悠远的夏天，主题为《2018看见未来》的“世界区块链大会” &lt;br&gt;拉开了帷幕。&lt;br&gt;&lt;/p&gt;&lt;p&gt;“世界区块链大会”于2018年6月28日至6月30日进行，会址位于乌镇的“互联网国际会展中心”。YOYOW项目创始人白菜受邀参与了此次圆桌会，并就行业关心的热点话题表达了自己的专业见解。&lt;/p&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-d41076bdfa674574bb199dbca32b2ca8_r.jpg&quot; data-caption=&quot;世界区块链大会圆桌座谈现场&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1080&quot; data-rawheight=&quot;720&quot; data-watermark=&quot;watermark&quot; data-original-src=&quot;v2-d41076bdfa674574bb199dbca32b2ca8&quot; data-watermark-src=&quot;v2-53adf69b80b8e77b3eb8c08860bf1f83&quot; data-private-watermark-src=&quot;&quot;&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;行业先锋座谈共绘蓝图&lt;/b&gt;&lt;br&gt;这些区块链行业的资深从业者和长期爱好者来到这里，寻求加强海内外同行的交流碰撞，探讨和分享行业内共同面对的问题和挑战。并期待能够推进区块链技术和商业应用在中国更加健康、理性的发展。&lt;br&gt;在整个会议期间，有超过50+的知名嘉宾通过演讲分享实际案例，更有浙江电视台知名主持人小强主持的行业圆桌会，将区块链行业即将面对的机遇和挑战平摊在台面上，将会议气氛和实质探寻的深度推向了一个新的高度。&lt;br&gt;YOYOW项目创始人白菜受邀参与了此次圆桌会，并就行业关心的热点话题表达了自己的专业见解。YOYOW作为服务于内容领域的公链项目，旨在为类似知乎等UGC内容平台的内容创作者提供价值变现的服务。白菜本人从2013年起开始关注区块链技术，是行业成长的资深见证和参与者。&lt;br&gt;&lt;/p&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-21ad66de912190826a3942ca8b5a0a30_r.jpg&quot; data-caption=&quot;YOYOW创始人白菜参与世界区块链大会圆桌座谈 &quot; data-size=&quot;normal&quot; data-rawwidth=&quot;600&quot; data-rawheight=&quot;400&quot; data-watermark=&quot;watermark&quot; data-original-src=&quot;v2-21ad66de912190826a3942ca8b5a0a30&quot; data-watermark-src=&quot;v2-abffddfde7c59eaac023ccd2e20ad823&quot; data-private-watermark-src=&quot;&quot;&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;研究探讨 几个重要行业问题&lt;/b&gt;&lt;br&gt;在这场圆桌会上，来自浙江卫视的主持人小强提出了几个非常重要的问题供嘉宾作答。&lt;br&gt;在面对“有从业者将区块链技术分化为1.0、2.0甚至3.0的观点”时，白菜认为这种分化方式并不科学，他举例称曾经为大家所畅想的web3.0并没有发生，取而代之的是移动互联网时代，打车外卖等应用营运而生。他认为在区块链行业的基础建设完成之后，更多的发展应该是集中在行业应用上。&lt;br&gt;随后主持人提到“不可能的三角理论”：高效、去中心化、安全性几乎不可能同时出现在区块链应用上。面对这个尖锐的问题，各个嘉宾则都表现出足够的信心，均认为在具体应用上都可以得到有效的解决，如同互联网采用七层协议解决问题，区块链也并不需要在一个层面上解决所有的问题。&lt;br&gt;本次世界区块链大会的主题是：2018看见未来。在圆桌会的最后阶段，主持人询问在场嘉宾：在2018年百链齐发的状况下，各位来宾到底看见了怎样的未来，区块链会面对什么？这就像互联网在开始成长的过程中遇到的泡沫等问题一样，区块链也可能需要去面对这些。&lt;br&gt;白菜回应称：公链的开发是一项成本高、技术门槛高的事业，再加上技术成长是一件同步的事情，较早进入行业的项目优势会更加明显，在平台这个层面上的争夺恐怕年内就会结束，而面对互联网泡沫距离，BAT并不是当时的优胜者，他们只是活了下来，区块链的未来也依然会是个剩者为王的时代。&lt;br&gt;&lt;/p&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-fed07687700e89f96bd00bc4f4461a43_r.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;600&quot; data-rawheight=&quot;400&quot; data-watermark=&quot;watermark&quot; data-original-src=&quot;v2-fed07687700e89f96bd00bc4f4461a43&quot; data-watermark-src=&quot;v2-df4d35bad3f13514a19a29b55ebbfc51&quot; data-private-watermark-src=&quot;&quot;&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt; 消息来源：&lt;a href=&quot;https://mp.weixin.qq.com/s/i9KuoE2y9X3Tp7jMTU_Lhw&quot;&gt;YOYOW官方&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;</description>
<author>瘦子</author>
<guid isPermaLink="false">2018-07-18-40002081</guid>
<pubDate>Wed, 18 Jul 2018 00:00:00 +0800</pubDate>
</item>
<item>
<title>策略||因子回溯</title>
<link>https://henix.github.io/feeds/zhuanlan.c_106548378/2018-07-17-39944861.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/39944861&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;b&gt;1. 目前的因子测试方法&lt;/b&gt;&lt;br&gt;目前的因子分析方法一般包括两方面：&lt;br&gt;1、 对因子收益率和 IC 的筛选：&lt;br&gt;◆     收益率：要求胜率或者 Top-Bottom 收益率超过设定值；&lt;br&gt;◆     IC：要求 IC 或者 T 检验超过设定值；&lt;br&gt;2、 对因子的单调性或者区分度的限制：&lt;br&gt;◆     单调性：要求因子收益率随因子的增加具有一定的单调性；&lt;br&gt;◆     区分度： 要求因子的不同分位数组合的收益率具有一定的差距；&lt;/p&gt;&lt;p&gt;&lt;b&gt;现有的因子筛选方法&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-96077b56eed8c6c9d9a056f1ce886b8f_r.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;333&quot; data-rawheight=&quot;232&quot; data-watermark=&quot;watermark&quot; data-original-src=&quot;v2-96077b56eed8c6c9d9a056f1ce886b8f&quot; data-watermark-src=&quot;v2-a8724a6a0a5d7ae055aabcb2f4b5f39c&quot; data-private-watermark-src=&quot;&quot;&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;b&gt;如果只从上述角度考虑，对因子的分析就仅仅局限于静态分析：&lt;/b&gt;&lt;br&gt;(1) 没有考虑因子有效性的时间变化：因子的有效性具有时变性，随着持&lt;br&gt;有期的变化因子的有效性是不断变化的，不同因子的有效性呈现出不&lt;br&gt;同的衰变规律；&lt;br&gt;(2) 没有考虑环境或者风格板块对因子有效性的影响： 因子的有效性在不&lt;br&gt;同的股票池、不同的风格板块上可能具有不同的规律，不同的宏观环&lt;br&gt;境下因子可能具有不同的特征。&lt;/blockquote&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;b&gt;针对上述缺陷，我重新设计了测试的框架，着重增加了对因子有效性的动态&lt;/b&gt;&lt;br&gt;&lt;b&gt;分析：&lt;/b&gt;&lt;br&gt;(1) 增加了对因子时间变化特征的分析：&lt;br&gt;包括 IC 的分布、 IC 的衰变、自相关性的衰变、买入信号的保持或逆转等内容；&lt;br&gt;(2) 增加了对因子的情境特征分析：&lt;br&gt;包括不同股票池（指数成分股/行业/风格）上的因子选股分析，宏观指标与因&lt;br&gt;&lt;br&gt;子组合的分析，不同市场阶段上的因子表现等，目的是发现因子适应于什么样的股票群体，什么样的市场阶段和宏观环境。&lt;/blockquote&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;b&gt;其他考虑因素&lt;/b&gt;&lt;br&gt;(1) 改进了数据清洗方法， 增加了平均绝对偏差方法；&lt;br&gt;(2) 设定了标准化/分位数/组合权重/残余收益率四个层次，便于从不同角&lt;br&gt;度过滤特定风格对因子的影响，实现风格中性化，例如对于行业影响，&lt;br&gt;可以从因子的行业标准化、因子的行业分位、组合权重的行业中性和&lt;br&gt;从个股收益率中直接剔除行业收益率四个方面剔除因子中的行业影响；&lt;br&gt;(3) 增加了初步的风险控制方面的内容：如因子回测的历史变动、组合的&lt;br&gt;跟踪误差以及组合业绩的归因等；&lt;br&gt;(4) 考虑了幸存者偏差： 各种股票池的设定， 根据的都是历史成分股， 保&lt;br&gt;证了回溯测试的有效性；&lt;br&gt;(5)详细校订了因子的信息公布时间：保证了因子的实时性；&lt;br&gt;(6)对增长因子，采用趋势化的方法，避免采用算术增长率或者几&lt;br&gt;何增长率所造长的两点偏差；&lt;br&gt;(7) 建立了初步的因子库， 分为估值因子/成长因子/规模因子/动量因子/&lt;br&gt;财务质量因子/技术因子/预测因子六个部分。&lt;/blockquote&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;1. 数据输入&lt;/b&gt;&lt;br&gt;数据输入部分， 主要工作包括数据的采集和整理、数据结构的设计， 生成最终&lt;br&gt;因子分析所需的数据集。 测试所需的数据主要包括股票/指数/风格/宏观四个&lt;br&gt;方面， 对各类数据和因子， 我们进行了细致的处理和校对， 包括消除幸存者偏&lt;br&gt;差、前视偏差等等；&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;b&gt;2. 样本筛选&lt;/b&gt;&lt;br&gt;样本筛选部分， 主要功能是实现对股票池的初步筛选， 在因子测试时， 设定了三条筛选规则：&lt;br&gt;1) 剔除选股日的 ST/PT 股票；&lt;br&gt;2) 剔除上市不满一年的股票；&lt;br&gt;3) 剔除选股日由于停牌等原因而无法买入的股票；&lt;br&gt;当然，不同逻辑下可能会有不同的筛选，在这个测试框架下，允许添加对股&lt;/p&gt;&lt;p&gt;票池的其他筛选，但是所有筛选都要在样本筛选部分实现。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;b&gt;4. 数据清洗&lt;/b&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;数据清洗部分， 主要功能是完成对因子和收益率数据的清洗。 数据清洗的目的&lt;br&gt;是去掉可能的数据错误和极端数据， 保证最终得到的模型具有稳健性。&lt;br&gt;数据清洗的内容包括两部分，即异常值的处理和缺失值的处理。&lt;/p&gt;&lt;p&gt;(1) 异常值的处理：&lt;/p&gt;&lt;p&gt;对于异常值的定义， 用一种更为稳健的绝对中位偏差方法（ MAD）：&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-22093468ede00a5b3e7879f964ba828c_r.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;380&quot; data-rawheight=&quot;35&quot; data-watermark=&quot;&quot; data-original-src=&quot;&quot; data-watermark-src=&quot;&quot; data-private-watermark-src=&quot;&quot;&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;这里&lt;/p&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-bcd5e298a43dc0317d2906e13c49a566_r.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;38&quot; data-rawheight=&quot;30&quot; data-watermark=&quot;&quot; data-original-src=&quot;&quot; data-watermark-src=&quot;&quot; data-private-watermark-src=&quot;&quot;&gt;&lt;p&gt;是数据集。&lt;br&gt;实际上， 对于异常值的处理，不同的因子可能采用不同的方式， 可供选择的处&lt;br&gt;理方式包括定义为 NA 或者用相近值替代， 具体的处理方式取决于对异常值的&lt;br&gt;逻辑解释。&lt;br&gt;需要说明的是异常值只是一个相对概念，有许多不同的异常值定义方法，如对&lt;br&gt;单因子异常值通常的定义方法是利用方差、中位数和四分位数，具体剔除多少，选择哪种方法，取决于数据本身的特征和对数据的主观理解， 以及对敏感性和稳健型的平衡。&lt;br&gt;&lt;/p&gt;&lt;p&gt;(2) 缺省值的处理：&lt;br&gt;数据的缺失值有不同的来源，如有些是原始数据缺失，有些是异常值处理产生&lt;br&gt;的。对缺失值的处理方式要依据缺失值的来源和逻辑解释， 选取不同的操作，&lt;br&gt;包括剔除或者替代。&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;5.分析计算&lt;/b&gt;&lt;br&gt;分析计算部分， 主要功能是完成对因子特征的各种分析。 对不同的因子，依据&lt;br&gt;不同的逻辑，可以分不同层次设定因子分析的方式：&lt;br&gt;(1) 因子的标准化方法：&lt;br&gt;新版测试中可供选择的因子标准化方法包括四种，&lt;br&gt;(a)   普通标准化方法，即通常求 z 值的方法；&lt;br&gt;(b)   市值标准化方法， 相对于普通标准化方法，考虑了规模对均值的影响， 均&lt;br&gt;值为市值加权平均数；&lt;br&gt;(c)    随机数标准化，根据因子的样本分布随机生成一个样本，将随机生成的样&lt;br&gt;本值依次赋给对应股票作为标准化后的因子值，优点是可以将因子值转换&lt;br&gt;为服从特定分布的得分；&lt;br&gt;(d)    风格标准化，即将股票池划分为不同的风格， 将每个股票的因子值用所属&lt;br&gt;风格的风格平均值和风格标准差进行标准化，一个特例就是用不同行业的&lt;br&gt;行业均值和行业标准差进行因子的行业标准化。&lt;/p&gt;&lt;p&gt;&lt;br&gt;(2) 因子的分位数方法&lt;br&gt;可供选择的分位数方法有两种：&lt;br&gt;(a)    普通分位数方法，即在整个股票池进行分位数计算；&lt;br&gt;(b)    风格分位数方法， 即在每个风格上进行分位数计算，然后构成整体股票池&lt;br&gt;的分位数结果。&lt;/p&gt;&lt;p&gt;风格分位方法，能够保证在每个分位组上，从数目上看各个风格是均匀分布的。风格分位的一个特例就是行业分位，即分别在每个行业上进行分位数计算，从而保证各个分位组中的行业分布在数目上是均匀的。&lt;/p&gt;&lt;p&gt;&lt;br&gt;(3) 组合的权重方法&lt;br&gt;可供选择的组合权重方法有三种，&lt;br&gt;(a) 等权重方法，即组合中的每个股票具有同等的权重；&lt;br&gt;(b) 市值加权方法，即组合中的股票权重取决于股票的市值大小；&lt;br&gt;(c) 风格中性权重方法，即组合中的股票权重由股票的市值和股票所属风格在指数中所占的权重决定；&lt;/p&gt;&lt;p&gt;实际上，采用风格分位+市值加权，与采用普通分位+风格中性权重， 当指数权&lt;br&gt;&lt;/p&gt;&lt;p&gt;重与市值权重一致时，两种方法都能达到同样的风格中性效果。&lt;/p&gt;&lt;p&gt;&lt;br&gt;(4) 残余收益率方法&lt;br&gt;对风格影响的剔除，除了从上述标准化、分位数和权重三个角度考虑外，最后&lt;br&gt;一个方法就是直接从股票收益率中剔除所在风格板块的收益率。&lt;br&gt;下图说明了上述四种处理方式的关系，分位数、 标准化和残余收益率三种方法&lt;br&gt;是从影响 IC 角度影响因子的有效性，而权重是从收益率角度影响因子的有效&lt;br&gt;性。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-907287182d341e74d135f34fc3ab4603_r.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;578&quot; data-rawheight=&quot;248&quot; data-watermark=&quot;watermark&quot; data-original-src=&quot;v2-907287182d341e74d135f34fc3ab4603&quot; data-watermark-src=&quot;v2-458b4c3933f003dff0e33b502797c4f6&quot; data-private-watermark-src=&quot;&quot;&gt;&lt;p&gt;&lt;/p&gt;</description>
<author>量化家</author>
<guid isPermaLink="false">2018-07-17-39944861</guid>
<pubDate>Tue, 17 Jul 2018 00:00:00 +0800</pubDate>
</item>
<item>
<title>量化||择时</title>
<link>https://henix.github.io/feeds/zhuanlan.c_106548378/2018-07-13-39655070.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/39655070&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;b&gt;1、什么叫量化择时？&lt;/b&gt;&lt;/p&gt;&lt;p&gt;量化择时的本质是寻找一个或多个识别趋势的因子，然后用一个机械化的规则告诉你买卖时点，最简单的量化择时是利用均线系统，比如指数收盘价上穿20日均线，买入！下穿20日均线，则卖出！这样一种完全按照既定规则和指标办事的择时策略就是量化择时。事实上，任何一种持之以恒的单均线择时策略，长期来看一定是赚钱的，这是因为趋势整体是向上的，下穿均线离场又是一种风控保护。不过量化择时策略远远不限于传统的技术指标。任何价格曲线可以分解成两项：趋势项+噪音项，比如用分形几何、小波分析、傅里叶信号处理等复杂的数据处理方法去除非趋势项的噪音，这样就会让趋势项露出“尖尖角”，从而抓住趋势吃到“大头”。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-9b555813f01a70b2cae6c2a693a68d99_r.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;556&quot; data-rawheight=&quot;137&quot; data-watermark=&quot;watermark&quot; data-original-src=&quot;v2-9b555813f01a70b2cae6c2a693a68d99&quot; data-watermark-src=&quot;v2-fed4a397a5825a79f2e38d1211933e94&quot; data-private-watermark-src=&quot;&quot;&gt;&lt;p&gt;&lt;b&gt;2、量化择时等于技术分析吗？&lt;/b&gt;&lt;/p&gt;&lt;p&gt;我曾经听过一个说法，技术分析就是量化择时的一种。或者有人问我“你的择时模型是不是都是技术面的？”我的理解是技术分析不等于量化择时，两者甚至互相不是子集关系。&lt;/p&gt;&lt;p&gt;技术分析是自成体系的一个流派，帮助交易者选择较好进场或离场的时点，它基于三个假设：市场价格包含一切信息，价格沿趋势移动，历史会重演。每个人运用技术指标或形态得出的结论会一定是不同的，这也正是技术分析的魅力所在，看法不同大家才会成交，比如同样运用波浪理论：A认为目前处在第3浪，B可能觉得处在第5浪，C却认为在大1浪。&lt;/p&gt;&lt;p&gt;而量化择时策略不可能出现因人而异的情况。只要两个人所使用的因子、参数、和既定规则是一样的，两个人得到的买入信号或卖出信号发出日就是同一日。&lt;/p&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-a511ab5194a83f9a786e6df9c4d08518_r.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;320&quot; data-rawheight=&quot;197&quot; data-watermark=&quot;watermark&quot; data-original-src=&quot;v2-a511ab5194a83f9a786e6df9c4d08518&quot; data-watermark-src=&quot;v2-3759272690d0c3c2ea7644358e4862ba&quot; data-private-watermark-src=&quot;&quot;&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;3、胜率与赔率，“鱼与熊掌不可兼得”&lt;/b&gt;&lt;/p&gt;&lt;p&gt;择时策略从时间的维度看，可以分成日内择时、日频择时、周频择时等。简而言之，日内择时就是加工分钟甚至秒级别价、量信息，然后发出日内买卖信号；日频择时是每日收盘发出买卖信号，指导我下一个交易日的买卖操作；周频自然就是每周末发出信号指导下周的操作。除了日内择时外，几乎所有的日频、周频择时策略都难以突破“胜率与赔率，两者不可兼得”的魔咒！&lt;/p&gt;&lt;p&gt;高胜率低赔率的择时策略虽然一段时间内胜率不错，但每次都只赢一点点就走人，赔率显得很低，这就好比你认为某国家男足冲击世界杯未果，50多年以来大概率（只有2002年输过一次）你能够获胜，胜率奇高，但卖这样的足彩每次只能赚一点点，因为赔率很低；&lt;/p&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-2ca86fc136985b508ac133740ce22bfa_r.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;336&quot; data-rawheight=&quot;215&quot; data-watermark=&quot;watermark&quot; data-original-src=&quot;v2-2ca86fc136985b508ac133740ce22bfa&quot; data-watermark-src=&quot;v2-0fe2a095f7c9ff025291edb7d8fdde62&quot; data-private-watermark-src=&quot;&quot;&gt;&lt;p&gt;&lt;br&gt;而低胜率高频率的择时策略就很像买彩票，可能连续买了都没中奖，但亏损都很小，一旦买对一次，则牛逼了！如此一来赔率就会很高！所有依赖于均线、趋势线择时策略都必然是低胜率高赔率的策略，因为它们用下穿趋势线的风控代价保证了每次亏损的有限性，为的就是博到某次正确时满满地吃到一波趋势！&lt;/p&gt;&lt;p&gt;&lt;b&gt;4、你更在乎哪一点，信号次数与胜率的反向关系？&lt;/b&gt;&lt;/p&gt;&lt;p&gt;老天爷是公平的，有句老话叫：“不做不错，多做多错，该出手时就出手”。国际投资大师巴菲特、索罗斯一年就出手几次，但笔笔是狠招！所以开发量化择时策略时，我们必须兼顾信号次数的频繁性和胜率的关系，通常而言，信号越频繁，出错概率就越大，策略的胜率就会越低！下表就是某个择时策略，输入不同的参数得到不同的信号次数，随之而来的就是胜率的降低。&lt;/p&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-6bdc8207d73befd30ab6bf13f19db27c_r.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;276&quot; data-rawheight=&quot;208&quot; data-watermark=&quot;watermark&quot; data-original-src=&quot;v2-6bdc8207d73befd30ab6bf13f19db27c&quot; data-watermark-src=&quot;v2-74a298d9d0313c94ad555a59bec62508&quot; data-private-watermark-src=&quot;&quot;&gt;&lt;p&gt;&lt;br&gt;信号次数、胜率之间，你更在乎哪点？那就用不同的参数去做敏感性测试吧！&lt;/p&gt;&lt;p&gt;&lt;b&gt;5、日内择时，降低择时回撤的极致手法！&lt;/b&gt;&lt;/p&gt;&lt;p&gt;有别于量化选股+对冲的策略，量化择时策略是一个beta型的策略（大盘涨择时净值也涨，大盘跌择时净值也很难涨），因此它不可避免的有回撤。在第1问中的绩效表格里，你会发现简单的单均线择时策略大部分回撤都超过30%（因为上证综指在过去10年里的最大回撤都超过了70%），优秀一些的日频择时策略可以做到过去10年内的最大回撤20%以下，然而超过一个跌停板的回撤是无论如何无法避免的。于是你会遇见一个两个字，叫“瓶颈”。&lt;/p&gt;&lt;p&gt;任何瓶颈的突破本质上是维度的突破。爱因斯坦突破了牛顿的绝对时空观，把物理学推向新的高度；概率论把数学从确定性的研究推向了随机性的研究；微积分的诞生把有限的算术变成了无限的数学。而要在高赔率的前提下尽量提高胜率不可兼得的瓶颈，只能从时间的维度进行压缩，把日频择时策略“压缩”成日内择时策略。类似西蒙斯的文艺复兴基金等知名对冲基金，便也是依赖日内择时策略等高频交易策略。&lt;/p&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-c7d780ed65552e64fac7540d0a5d1357_r.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;328&quot; data-rawheight=&quot;202&quot; data-watermark=&quot;watermark&quot; data-original-src=&quot;v2-c7d780ed65552e64fac7540d0a5d1357&quot; data-watermark-src=&quot;v2-8c7ef3d145685c43ee85b38de1f950bb&quot; data-private-watermark-src=&quot;&quot;&gt;&lt;p&gt;&lt;br&gt; &lt;/p&gt;&lt;p&gt;&lt;b&gt;6、择时信号除了告诉你方向，还有什么吗？&lt;/b&gt;&lt;/p&gt;&lt;p&gt;好的量化择时信号器应该至少输出两个维度的信息：一个是多空方向（买入还是卖出），另一个是信号的强弱。为什么后一个信息也如此的重要？因为它能够指导您的仓位、资金管理，比如：在信号处于“很强”，分配50%的beta仓位；在信号处于“强”时，分配30%，在信号处于“极弱”时，宁愿放弃本次买入信号等等。再如某些量化择时策略是通过一个打分体系建立的，信号本身就是0-10分，那么在10分时您可以给予更多的多头仓位，而在0分时给予更多的空头仓位。这样的择时方法提供了更多的一个信息维度，而不是每次都不切合实际地假设满仓操作！&lt;/p&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-d046249a1d70b6848c7e5ddf337d54cc_r.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;280&quot; data-rawheight=&quot;208&quot; data-watermark=&quot;watermark&quot; data-original-src=&quot;v2-d046249a1d70b6848c7e5ddf337d54cc&quot; data-watermark-src=&quot;v2-9fea0de6934c266d22cfe78538d96740&quot; data-private-watermark-src=&quot;&quot;&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;7、量化择时与期权有神马关系吗？&lt;/b&gt;&lt;/p&gt;&lt;p&gt;回答是太有关系了！期权的价、量信息里处处蕴含着市场交易者对未来的预期看法。最常见运用期权信息得到的量化择时信号就是华尔街的对冲基金大佬们每天关注的VIX指数，这个指数就是由期权价格反推出来的，反映的是市场对标普500未来30天的恐慌程度。&lt;/p&gt;&lt;p&gt;下面先截取了1995.12-1999.12的VIX日线图，您会发现有两段处于明显的上升区间，一个是1997的亚洲金融危机，一个则是1998年长期资本管理公司破产。&lt;/p&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-e4d920ad2e4589ad7a55c8f161a9939c_r.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;432&quot; data-rawheight=&quot;229&quot; data-watermark=&quot;watermark&quot; data-original-src=&quot;v2-e4d920ad2e4589ad7a55c8f161a9939c&quot; data-watermark-src=&quot;v2-43c989e25abba2d07e8b6fa7403230d2&quot; data-private-watermark-src=&quot;&quot;&gt;&lt;p&gt;&lt;br&gt;下面再截取了2001.7-2002.6的VIX日线图，您会发现有一段处于明显的上升区间，它就发生在令人不寒而栗的美国9.11恐怖袭击事件的当月。&lt;/p&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-8036dcf6ec0feebe3b92467f2a284469_r.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;332&quot; data-rawheight=&quot;263&quot; data-watermark=&quot;watermark&quot; data-original-src=&quot;v2-8036dcf6ec0feebe3b92467f2a284469&quot; data-watermark-src=&quot;v2-6a29575158e7f9911eda3d0a657264c7&quot; data-private-watermark-src=&quot;&quot;&gt;&lt;p&gt;&lt;br&gt;下面再截取了2008.5-2009.4的VIX日线图，您会发现VIX指数有一段处于明显的上升区间，达到了史上最高的89.53！在此期间又发生了什么呢？您可能已经知道了~~~臭名昭著的2008年次贷危机，雷曼兄弟破产！&lt;/p&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-978817b3f007722b2763c650aa9ddd8c_r.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;432&quot; data-rawheight=&quot;276&quot; data-watermark=&quot;watermark&quot; data-original-src=&quot;v2-978817b3f007722b2763c650aa9ddd8c&quot; data-watermark-src=&quot;v2-ce61b9f1156a33fe68b7f29a2db75604&quot; data-private-watermark-src=&quot;&quot;&gt;&lt;p&gt;&lt;br&gt;最后，我们截取今年5月至今的VIX日线图，会发现也有两段陡峭上升的阶段，一个就是6.23英国不作就不会死的脱欧事件，另一个就是希拉里邮件门与特朗普的惊天大逆袭！&lt;/p&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-02691d77ab0a6d26f02b95a2aeeb20f9_r.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;440&quot; data-rawheight=&quot;254&quot; data-watermark=&quot;watermark&quot; data-original-src=&quot;v2-02691d77ab0a6d26f02b95a2aeeb20f9&quot; data-watermark-src=&quot;v2-a620c581d77fc25595346bd4266c4def&quot; data-private-watermark-src=&quot;&quot;&gt;&lt;p&gt;&lt;br&gt;我们举了这些活生生的案例，是为了得出这样的结论：当市场出现黑天鹅事件时，所有的交易者都会陷入恐慌，对未来风险（波动率）的预期会达到一个高值，于是VIX指数便扶摇而上。所以说，VIX指数被称为恐慌指数，是市场黑天鹅事件的预警器。&lt;/p&gt;&lt;p&gt;幸运的是，我们的证券市场上也有了自己VIX指数，叫做“中国波指”，它反映的是市场对50指数未来30天的波动率预期值。&lt;/p&gt;&lt;p&gt;不仅如此，除了波动率指数可以加入择时策略的因子库以外，还有诸如认购-认沽比之类的因子也可以帮助我们建立漂亮的量化择时策略。认购-认沽比通常定义为全部认购期权的成交量/全部认沽期权的成交量，该值越高则反映市场看涨气氛越浓厚，反之则看空气氛越浓厚。下面就是一个基于认购-认沽比等信息挖掘得出的择时模型，在固定收益资产与期权90-10搭配下的净值曲线。&lt;/p&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-aff5626132c065fc0fd533db9d333eee_r.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;400&quot; data-rawheight=&quot;212&quot; data-watermark=&quot;watermark&quot; data-original-src=&quot;v2-aff5626132c065fc0fd533db9d333eee&quot; data-watermark-src=&quot;v2-c95017bb4c4a6215d5bcca9380cca8f4&quot; data-private-watermark-src=&quot;&quot;&gt;&lt;p&gt;&lt;/p&gt;</description>
<author>量化家</author>
<guid isPermaLink="false">2018-07-13-39655070</guid>
<pubDate>Fri, 13 Jul 2018 00:00:00 +0800</pubDate>
</item>
<item>
<title>基于event-driven量化回测交易python开源框架</title>
<link>https://henix.github.io/feeds/zhuanlan.c_106548378/2018-07-11-39536634.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/39536634&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;title-image&quot;&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-4d2f51c7b2ca67418b7ff842f102b056_r.jpg&quot; alt=&quot;&quot;&gt;&lt;/div&gt;&lt;h2&gt;&lt;b&gt;AmazingQuant&lt;/b&gt;&lt;br&gt;&lt;/h2&gt;&lt;h2&gt;&lt;b&gt;1.简介&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/zhanggao2013/AmazingQuant&quot;&gt;https://github.com/zhanggao2013/AmazingQuant&lt;/a&gt; &lt;/p&gt;&lt;p&gt;AmazingQuant是一款基于event-driven的量化回测交易开源框架，下图是总体框架架构。&lt;/p&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-47a2203d5b890ce537c558e77882643d_r.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1537&quot; data-rawheight=&quot;1032&quot; data-watermark=&quot;watermark&quot; data-original-src=&quot;v2-47a2203d5b890ce537c558e77882643d&quot; data-watermark-src=&quot;v2-fd3f0eab53331717ac9e80a10a5ed0e9&quot; data-private-watermark-src=&quot;&quot;&gt;&lt;ul&gt;&lt;li&gt;data_center&lt;/li&gt;&lt;ul&gt;&lt;li&gt;to_mongoDB 存放行情、财务等各种数据到MongoDB的存储模块&lt;/li&gt;&lt;li&gt;get_data   策略中从数据库中取数据的接口模块&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;trade_center&lt;/li&gt;&lt;ul&gt;&lt;li&gt;mossion_engine   包含下单任务（event_order）和风控（event_risk_management）两部分的engine，分别完成下单前的检查和风控&lt;/li&gt;&lt;li&gt;broker_engine    分为回测时的simulate的broker（主要是event_deal）撮合成交和连接实盘交易CTP、xSpeed等接口两部分&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;strategy_center&lt;/li&gt;&lt;ul&gt;&lt;li&gt;bar_engine       在回测或者交易模式下，用`逐K线`的方式执行每一根bar的交易逻辑，可在日线、分钟线、分笔下运行&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;analysis_center&lt;/li&gt;&lt;ul&gt;&lt;li&gt;analysis_engine  对回测形成的交易记录进行分析和可视化，净值、年化收益、alpha、beta、回撤等指标，brison、Fama等经典模型的实现&lt;/li&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;h2&gt;&lt;b&gt;2.安装配置&lt;/b&gt;&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;MongoDB 3.4 &lt;br&gt;&lt;br&gt; 建议使用shard，配置启动项示例&lt;/li&gt;&lt;li&gt;pymongo &lt;br&gt;&lt;br&gt; python调用MongoDB&lt;/li&gt;&lt;li&gt;talib &lt;br&gt;&lt;br&gt; 技术指标计算库&lt;/li&gt;&lt;li&gt;anaconda &lt;br&gt;&lt;br&gt; python 3.5 的版本，如果大于3.5的版本，ctp的接口暂时不能用，因为编译问题，后续可以解决&lt;/li&gt;&lt;li&gt;Linux Ubuntu &lt;br&gt;&lt;br&gt; 开发环境是ubuntu，当然也可以在windows下用，但是数据库的配置和ctp等交易接口需要重新做&lt;/li&gt;&lt;li&gt;安装AmazingQuant&lt;br&gt;&lt;br&gt; pip install AmazingQuant  直接安装&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;&lt;b&gt;3.策略编写&lt;/b&gt;&lt;/h2&gt;&lt;code lang=&quot;text&quot;&gt;# -*- coding: utf-8 -*-

__author__ = &quot;gao&quot;

import numpy as np
import talib

# import strategy基类
from AmazingQuant.strategy_center.strategy import *

# import 交易模块
from AmazingQuant.trade_center.trade import Trade


# 继承strategy基类
class MaStrategy(StrategyBase):
    def initialize(self):
        # 设置运行模式，回测或者交易
        self.run_mode = RunMode.BACKTESTING.value
        # 设置回测资金账号
        self.account = [&quot;test0&quot;, &quot;test1&quot;]
        # 设置回测资金账号资金量
        self.capital = {&quot;test0&quot;: 2000000, &quot;test1&quot;: 1000}
        # 设置回测基准
        self.benchmark = &quot;000300.SH&quot;
        # 设置复权方式
        self.rights_adjustment = RightsAdjustment.NONE.value
        # 设置回测起止时间
        self.start = &quot;2015-01-11&quot;
        self.end = &quot;2016-01-16&quot;
        # 设置运行周期
        self.period = &quot;daily&quot;
        # 设置股票池
        self.universe = [&#39;000001.SZ&#39;, &#39;000002.SZ&#39;, &#39;000008.SZ&#39;, &#39;000060.SZ&#39;, &#39;000063.SZ&#39;, &#39;000069.SZ&#39;, &#39;000100.SZ&#39;,
                         &#39;000157.SZ&#39;, &#39;000166.SZ&#39;, &#39;000333.SZ&#39;, &#39;000338.SZ&#39;, &#39;000402.SZ&#39;, &#39;000413.SZ&#39;, &#39;000415.SZ&#39;,
                         &#39;000423.SZ&#39;, &#39;000425.SZ&#39;, &#39;000503.SZ&#39;, &#39;000538.SZ&#39;, &#39;000540.SZ&#39;, &#39;000559.SZ&#39;, &#39;000568.SZ&#39;,
                         &#39;000623.SZ&#39;, &#39;000625.SZ&#39;, &#39;000627.SZ&#39;, &#39;000630.SZ&#39;, &#39;000651.SZ&#39;, &#39;000671.SZ&#39;, &#39;000686.SZ&#39;,
                         &#39;000709.SZ&#39;, &#39;000723.SZ&#39;, &#39;000725.SZ&#39;, &#39;000728.SZ&#39;, &#39;000738.SZ&#39;, &#39;000750.SZ&#39;, &#39;000768.SZ&#39;,
                         &#39;000776.SZ&#39;, &#39;000783.SZ&#39;, &#39;000792.SZ&#39;, &#39;000826.SZ&#39;, &#39;000839.SZ&#39;, &#39;000858.SZ&#39;, &#39;000876.SZ&#39;,
                         &#39;000895.SZ&#39;, &#39;000898.SZ&#39;, &#39;000938.SZ&#39;, &#39;000959.SZ&#39;, &#39;000961.SZ&#39;, &#39;000963.SZ&#39;, &#39;000983.SZ&#39;,
                         &#39;001979.SZ&#39;, &#39;002007.SZ&#39;, &#39;002008.SZ&#39;, &#39;002024.SZ&#39;, &#39;002027.SZ&#39;, &#39;002044.SZ&#39;, &#39;002065.SZ&#39;,
                         &#39;002074.SZ&#39;, &#39;002081.SZ&#39;, &#39;002142.SZ&#39;, &#39;002146.SZ&#39;, &#39;002153.SZ&#39;, &#39;002174.SZ&#39;, &#39;002202.SZ&#39;,
                         &#39;002230.SZ&#39;, &#39;002236.SZ&#39;, &#39;002241.SZ&#39;, &#39;002252.SZ&#39;, &#39;002292.SZ&#39;, &#39;002294.SZ&#39;, &#39;002304.SZ&#39;,
                         &#39;002310.SZ&#39;, &#39;002352.SZ&#39;, &#39;002385.SZ&#39;, &#39;002411.SZ&#39;, &#39;002415.SZ&#39;, &#39;002424.SZ&#39;, &#39;002426.SZ&#39;,
                         &#39;002450.SZ&#39;, &#39;002456.SZ&#39;, &#39;002460.SZ&#39;, &#39;002465.SZ&#39;, &#39;002466.SZ&#39;, &#39;002468.SZ&#39;, &#39;002470.SZ&#39;,
                         &#39;002475.SZ&#39;, &#39;002500.SZ&#39;, &#39;002508.SZ&#39;, &#39;002555.SZ&#39;, &#39;002558.SZ&#39;, &#39;002572.SZ&#39;, &#39;002594.SZ&#39;,
                         &#39;002601.SZ&#39;, &#39;002602.SZ&#39;, &#39;002608.SZ&#39;, &#39;002624.SZ&#39;, &#39;002673.SZ&#39;, &#39;002714.SZ&#39;, &#39;002736.SZ&#39;,
                         &#39;002739.SZ&#39;, &#39;002797.SZ&#39;, &#39;002831.SZ&#39;, &#39;002839.SZ&#39;, &#39;002841.SZ&#39;, &#39;300003.SZ&#39;, &#39;300015.SZ&#39;,
                         &#39;300017.SZ&#39;, &#39;300024.SZ&#39;, &#39;300027.SZ&#39;, &#39;300033.SZ&#39;, &#39;300059.SZ&#39;, &#39;300070.SZ&#39;, &#39;300072.SZ&#39;,
                         &#39;300122.SZ&#39;, &#39;300124.SZ&#39;, &#39;300136.SZ&#39;, &#39;300144.SZ&#39;, &#39;300251.SZ&#39;, &#39;300315.SZ&#39;, &#39;600000.SH&#39;,
                         &#39;600008.SH&#39;, &#39;600009.SH&#39;, &#39;600010.SH&#39;, &#39;600011.SH&#39;, &#39;600015.SH&#39;, &#39;600016.SH&#39;, &#39;600018.SH&#39;,
                         &#39;600019.SH&#39;, &#39;600021.SH&#39;, &#39;600023.SH&#39;, &#39;600028.SH&#39;, &#39;600029.SH&#39;, &#39;600030.SH&#39;, &#39;600031.SH&#39;,
                         &#39;600036.SH&#39;, &#39;600038.SH&#39;, &#39;600048.SH&#39;, &#39;600050.SH&#39;, &#39;600061.SH&#39;, &#39;600066.SH&#39;, &#39;600068.SH&#39;,
                         &#39;600074.SH&#39;, &#39;600085.SH&#39;, &#39;600089.SH&#39;, &#39;600100.SH&#39;, &#39;600104.SH&#39;, &#39;600109.SH&#39;, &#39;600111.SH&#39;,
                         &#39;600115.SH&#39;, &#39;600118.SH&#39;, &#39;600153.SH&#39;, &#39;600157.SH&#39;, &#39;600170.SH&#39;, &#39;600177.SH&#39;, &#39;600188.SH&#39;,
                         &#39;600196.SH&#39;, &#39;600208.SH&#39;, &#39;600219.SH&#39;, &#39;600221.SH&#39;, &#39;600233.SH&#39;, &#39;600271.SH&#39;, &#39;600276.SH&#39;,
                         &#39;600297.SH&#39;, &#39;600309.SH&#39;, &#39;600332.SH&#39;, &#39;600340.SH&#39;, &#39;600352.SH&#39;, &#39;600362.SH&#39;, &#39;600369.SH&#39;,
                         &#39;600372.SH&#39;, &#39;600373.SH&#39;, &#39;600376.SH&#39;, &#39;600383.SH&#39;, &#39;600390.SH&#39;, &#39;600406.SH&#39;, &#39;600415.SH&#39;,
                         &#39;600436.SH&#39;, &#39;600482.SH&#39;, &#39;600485.SH&#39;, &#39;600489.SH&#39;, &#39;600498.SH&#39;, &#39;600518.SH&#39;, &#39;600519.SH&#39;,
                         &#39;600522.SH&#39;, &#39;600535.SH&#39;, &#39;600547.SH&#39;, &#39;600549.SH&#39;, &#39;600570.SH&#39;, &#39;600583.SH&#39;, &#39;600585.SH&#39;,
                         &#39;600588.SH&#39;, &#39;600606.SH&#39;, &#39;600637.SH&#39;, &#39;600649.SH&#39;, &#39;600660.SH&#39;, &#39;600663.SH&#39;, &#39;600674.SH&#39;,
                         &#39;600682.SH&#39;, &#39;600685.SH&#39;, &#39;600688.SH&#39;, &#39;600690.SH&#39;, &#39;600703.SH&#39;, &#39;600704.SH&#39;, &#39;600705.SH&#39;,
                         &#39;600739.SH&#39;, &#39;600741.SH&#39;, &#39;600795.SH&#39;, &#39;600804.SH&#39;, &#39;600816.SH&#39;, &#39;600820.SH&#39;, &#39;600827.SH&#39;,
                         &#39;600837.SH&#39;, &#39;600871.SH&#39;, &#39;600886.SH&#39;, &#39;600887.SH&#39;, &#39;600893.SH&#39;, &#39;600895.SH&#39;, &#39;600900.SH&#39;,
                         &#39;600909.SH&#39;, &#39;600919.SH&#39;, &#39;600926.SH&#39;, &#39;600958.SH&#39;, &#39;600959.SH&#39;, &#39;600977.SH&#39;, &#39;600999.SH&#39;,
                         &#39;601006.SH&#39;, &#39;601009.SH&#39;, &#39;601012.SH&#39;, &#39;601018.SH&#39;, &#39;601021.SH&#39;, &#39;601088.SH&#39;, &#39;601099.SH&#39;,
                         &#39;601111.SH&#39;, &#39;601117.SH&#39;, &#39;601118.SH&#39;, &#39;601155.SH&#39;, &#39;601163.SH&#39;, &#39;601166.SH&#39;, &#39;601169.SH&#39;,
                         &#39;601186.SH&#39;, &#39;601198.SH&#39;, &#39;601211.SH&#39;, &#39;601212.SH&#39;, &#39;601216.SH&#39;, &#39;601225.SH&#39;, &#39;601228.SH&#39;,
                         &#39;601229.SH&#39;, &#39;601288.SH&#39;, &#39;601318.SH&#39;, &#39;601328.SH&#39;, &#39;601333.SH&#39;, &#39;601336.SH&#39;, &#39;601375.SH&#39;,
                         &#39;601377.SH&#39;, &#39;601390.SH&#39;, &#39;601398.SH&#39;, &#39;601555.SH&#39;, &#39;601600.SH&#39;, &#39;601601.SH&#39;, &#39;601607.SH&#39;,
                         &#39;601608.SH&#39;, &#39;601611.SH&#39;, &#39;601618.SH&#39;, &#39;601628.SH&#39;, &#39;601633.SH&#39;, &#39;601668.SH&#39;, &#39;601669.SH&#39;,
                         &#39;601688.SH&#39;, &#39;601718.SH&#39;, &#39;601727.SH&#39;, &#39;601766.SH&#39;, &#39;601788.SH&#39;, &#39;601800.SH&#39;, &#39;601818.SH&#39;,
                         &#39;601857.SH&#39;, &#39;601866.SH&#39;, &#39;601872.SH&#39;, &#39;601877.SH&#39;, &#39;601878.SH&#39;, &#39;601881.SH&#39;, &#39;601888.SH&#39;,
                         &#39;601898.SH&#39;, &#39;601899.SH&#39;, &#39;601901.SH&#39;, &#39;601919.SH&#39;, &#39;601933.SH&#39;, &#39;601939.SH&#39;, &#39;601958.SH&#39;,
                         &#39;601966.SH&#39;, &#39;601985.SH&#39;, &#39;601988.SH&#39;, &#39;601989.SH&#39;, &#39;601991.SH&#39;, &#39;601992.SH&#39;, &#39;601997.SH&#39;,
                         &#39;601998.SH&#39;, &#39;603160.SH&#39;, &#39;603799.SH&#39;, &#39;603833.SH&#39;, &#39;603858.SH&#39;, &#39;603993.SH&#39;]

        # 设置在运行前是否缓存日线，分钟线等各个周期数据
        self.daily_data_cache = True
        print(self.universe)

        # 回测滑点设置，按固定值0.01,20-0.01 = 19.99;百分比0.01,20*(1-0.01) = 19.98;平仓时用&quot;+&quot;
        self.set_slippage(stock_type=StockType.STOCK.value, slippage_type=SlippageType.SLIPPAGE_FIX.value, value=0.01)

        # 回测股票手续费和印花税，卖出印花税，千分之一；开仓手续费，万分之三；平仓手续费，万分之三，最低手续费，５元
        # 沪市，卖出有万分之二的过户费，加入到卖出手续费
        self.set_commission(stock_type=StockType.STOCK_SH.value, tax=0.001, open_commission=0.0003,
                            close_commission=0.0003,
                            close_today_commission=0, min_commission=5)
        # 深市不加过户费
        self.set_commission(stock_type=StockType.STOCK_SZ.value, tax=0.001, open_commission=0.0003,
                            close_commission=0.0005,
                            close_today_commission=0, min_commission=5)

    def handle_bar(self, event):
        # 取当前bar的持仓情况
        available_position_dict = {}
        for position in Environment.bar_position_data_list:
            available_position_dict[position.instrument + &quot;.&quot; + position.exchange] = position.position - position.frozen
        # 当前bar的具体时间戳
        current_date = data_transfer.millisecond_to_date(millisecond=self.timetag, format=&quot;%Y-%m-%d&quot;)
        # 时间戳转换成int，方便后面取数据
        current_date_int = data_transfer.date_str_to_int(current_date)
        print(current_date)
        # 取数据实例
        data_class = GetData()
        # 循环遍历股票池
        for stock in self.universe:
            # 取当前股票的收盘价
            close_price = data_class.get_market_data(Environment.daily_data, stock_code=[stock], field=[&quot;close&quot;],
                                                     end=current_date)
            # print(self.start, current_date)
            close_array = np.array(close_price)
            if len(close_array) &amp;gt; 0:
                # 利用talib计算MA
                ma5 = talib.MA(np.array(close_price), timeperiod=5)
                ma20 = talib.MA(np.array(close_price), timeperiod=20)
                # print(type(close_price.keys()))
                # 过滤因为停牌没有数据
                if current_date_int in close_price.keys():
                    # 如果5日均线突破20日均线，并且没有持仓，则买入这只股票100股，以收盘价为指定价交易
                    if ma5[-1] &amp;gt; ma20[-1] and stock not in available_position_dict.keys():
                        Trade(self).order_shares(stock_code=stock, shares=100, price_type=&quot;fix&quot;,
                                                 order_price=close_price[current_date_int],
                                                 account=self.account[0])
                        print(&quot;buy&quot;, stock, 1, &quot;fix&quot;, close_price[current_date_int], self.account)
                    # 如果20日均线突破5日均线，并且有持仓，则卖出这只股票100股，以收盘价为指定价交易
                    elif ma5[-1] &amp;lt; ma20[-1] and stock in available_position_dict.keys():
                        Trade(self).order_shares(stock_code=stock, shares=-100, price_type=&quot;fix&quot;,
                                                 order_price=close_price[current_date_int],
                                                 account=self.account[0])
                        print(&quot;sell&quot;, stock, -1, &quot;fix&quot;, close_price[current_date_int], self.account)


if __name__ == &quot;__main__&quot;:
    # 测试运行完整个策略所需时间，目前没有做过多优化，
    # 300只股票，日线数据，一年的时间区间，4000多次交易记录，在我的虚拟机大概80s，换个性能稍好点的机器，应该会快很多
    from AmazingQuant.utils.performance_test import Timer

    time_test = Timer(True)
    with time_test:
        # 运行策略，设置是否保存委托，成交，资金，持仓
        MaStrategy().run(save_trade_record=True)
&lt;/code&gt;&lt;h2&gt;&lt;b&gt;4.回测结果分析&lt;/b&gt;&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;自动生成回测结果&lt;br&gt;&lt;br&gt;产生的委托，成交，资金，持仓的cvs文件写入到策略所在文件夹&lt;/li&gt;&lt;li&gt;自动生成回测报告&lt;br&gt;&lt;br&gt;回测报告是html格式，可在浏览器中打开查看，效果如下图： &lt;br&gt;&lt;br&gt;&lt;/li&gt;&lt;/ul&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-4319e7503d50d8a47999c5f12f04f8e5_r.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1196&quot; data-rawheight=&quot;811&quot; data-watermark=&quot;watermark&quot; data-original-src=&quot;v2-4319e7503d50d8a47999c5f12f04f8e5&quot; data-watermark-src=&quot;v2-96490f4f682e4aa2e6e2334ef2894cf1&quot; data-private-watermark-src=&quot;&quot;&gt;&lt;h2&gt;&lt;b&gt;5.实盘交易&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;目前已实现根据vnpy的方式封装的使用boost对CTP的C++接口进行python3.5的封装，后续将实现与broker_engine的对接&lt;/p&gt;&lt;h2&gt;&lt;b&gt;6.已实现和即将实现的功能&lt;/b&gt;&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;已实现&lt;/li&gt;&lt;li&gt;数据库搭建&lt;/li&gt;&lt;li&gt;读取数据&lt;/li&gt;&lt;li&gt;策略运行回测&lt;/li&gt;&lt;li&gt;回测交易记录的保存和分析&lt;/li&gt;&lt;li&gt;实盘CTP接口的封装&lt;/li&gt;&lt;li&gt;即将实现&lt;/li&gt;&lt;li&gt;各种数据的对接&lt;br&gt;&lt;br&gt;例如股票的分钟数据、股票财务数据、股票板块成分股、期货分钟数据、日线数据等&lt;/li&gt;&lt;li&gt;CTP等交易接口与broker_engine对接&lt;br&gt;&lt;br&gt;CTP、xSpeed等&lt;/li&gt;&lt;li&gt;对回测区间的每一根bar的交易和持仓情况可视化&lt;br&gt;&lt;/li&gt;&lt;li&gt;回测分析模块的丰富&lt;br&gt;&lt;br&gt;增加brison、FAMA等各种绩效归因模型的分析和可视化&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;&lt;b&gt;7.联系方式&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;欢迎加qq群讨论: 788279189&lt;br&gt;&lt;br&gt;我的qq：82045571&lt;/p&gt;&lt;p&gt;&lt;/p&gt;</description>
<author>zhanggao2013</author>
<guid isPermaLink="false">2018-07-11-39536634</guid>
<pubDate>Wed, 11 Jul 2018 00:00:00 +0800</pubDate>
</item>
<item>
<title>路遥知马力，日久见股心</title>
<link>https://henix.github.io/feeds/zhuanlan.c_106548378/2018-07-10-39437481.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/39437481&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;title-image&quot;&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-f697f574b4770447df833f52cac099c7_r.jpg&quot; alt=&quot;&quot;&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;用时间的成果反推，有时候最能洞见事物的本质。&lt;/b&gt;以往说技术分析，常讲技术分析是一种概率方法而不是确定方法。技术分析的本质，是通过保证多数时候赚钱少数时候亏钱，从而实现稳定盈利。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;但很多时候，基本面分析又何尝不是如此呢。&lt;/b&gt;因为你可能分析了公司的经营模式、高管素质、股东结构、财务状况等等，在深度总结了公司的优势、劣势、机遇和挑战后，信心十足地以为自己发现了一只大牛股。&lt;/p&gt;&lt;p&gt;不想，一朝黑天鹅，宣告你的所以分析成为泡影，甚至你之前所看到的一切都是假象。可能这只小牛股压根就是只庄股，甚至连会计都是用的假名。&lt;/p&gt;&lt;p&gt;此时也只能怪主力太狡猾，大股东太没良心，股市太黑暗，证监会保护不力，在挥刀割肉后，伤心离去。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;基本面分析也是有正确概率的。&lt;/b&gt;你不可能通过基本面分析，乃至高超的基本面分析，抓到所有牛股，且保证自己不踩一次雷，这个不现实。纵然分析得对，但对未来你一无所知，甚至那家公司的高管对公司的前景也只有憧憬而已，对于未来会怎样，同样一无所知。&lt;/p&gt;&lt;p&gt;你在用自己的钱博弈公司未来的时候，高管也在驾驭公司乘风破浪。商业竞争很残酷，你不知道你投资的公司会不会某一天业绩大变脸，乃至突然被ST，之后喜迎N个跌停板。公司高管也不知道会不会一不小心，就把公司驶到了沟里。上述两种情况很多。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;比尔.盖茨说过，微软离破产只有18个月。&lt;/b&gt;李彦宏也曾说，百度离破产只有三天。在公司的成长甚至是生存道路上，危机一直相伴。&lt;b&gt;公司从初创到壮大，经历的绝对不止九九八十一难。&lt;/b&gt;&lt;/p&gt;&lt;p&gt;但有一点毋庸置疑，你投资微软和百度的成功率，绝对比投资一家不知名公司的成功率要高，甚至高很多。&lt;/p&gt;&lt;p&gt;因为在创业路上，最终能壮大的公司，都是踩过无数坑之后，存活并站起来的公司。&lt;/p&gt;&lt;p&gt;行业龙头，更是从行业的搏杀中脱颖而出的优秀代表。即便以后它们还会遇到相似的困境，但它们大抵都有了战胜困境的决心和底气。从统计数据来讲也是如此，初创公司的死亡率超过9成，而商业巨头的倒下少之又少。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;再说到咱们的上市公司，之前听到过这种论调，说中国企业那么多，能上市都是优秀的公司。能上市，必然就有上市的道理。&lt;/p&gt;&lt;p&gt;对于这一点，我承认一半。&lt;/p&gt;&lt;p&gt;那一半是，企业能有小到大，本就不易。它可能是靠管理层和全体员工的拼搏，也可能是靠抓住了时代的机遇，也可能是掌握了得天独厚的资源。&lt;/p&gt;&lt;p&gt;不承认的一半是，&lt;b&gt;上市的原因很多，不一定是自身优秀，而先辈福蕴肯定不算自己优秀，且过去优秀不代表现在和未来优秀。&lt;/b&gt;咱们用上学来打比方，从小学升上初中可能代表着优秀，从初中升上高中可能也代表着优秀，从高中考上大学也能代表优秀，但从大学到完美就业也是优秀……但是这个人最终是否优秀，不能只通过一小段学生时代的表现，那不具有代表性。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;人生和投资一样，都是长跑，以前的优秀只能代表过去。&lt;/b&gt;如果把公司上市比喻成上大学的话，考上大学确实优秀，但考上大学后，它还是否继续奋进，又是另一回事了。&lt;/p&gt;&lt;p&gt;前段时间不还有人说，中国大学生太轻松太堕落了么，要把大学的学业加重，也是类似的道理。公司上市之后，确实轻松了。作业做得不好，公司没钱了，可以找股东融资嘛。连续不及格两年，濒临退学，第三年可以想想办法嘛。&lt;/p&gt;&lt;p&gt;由于已经考上大学了，自然学业上也就松懈了，再也没有了拼搏精神，这种情况也是超级多。由于已经上市，老板已经套现很多，后期减持更是利润丰厚，于是再也没有想要靠公司壮大赚钱的欲望，努力改善生活才是正理，这种状况更多。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;因此，不能单纯认为一个大学生就是优秀人才，得至少看过了他大一、大二的表现后再说。&lt;b&gt;不能简单认为一个上市公司就是优秀公司，至少得看它上市后几年的年报才能知道&lt;/b&gt;，看它业绩有没有松懈、滑坡、虚假，才能认定它是不是一家优秀的公司。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;公司从初创到上市很难，从新上市到稳健壮大，更难。&lt;/b&gt;但至少到上市这一层面，已经过滤掉了很多的公司了。而从收益上来讲，从新上市到壮大，需要翻很多倍，但从稳健壮大到更壮大，膨胀的程度却很有限。&lt;/p&gt;&lt;p&gt;所以很多人都喜欢小盘股，喜欢在中小创里面去挑选牛股。但正如上文所言，从新上市公司到很壮大这条路上，也有很多公司折戟，比如春兰股份。&lt;b&gt;当年的春兰空调多么出名，但今天，空调的巨头是格力&lt;/b&gt;。当初的康佳、长虹多么优秀，但今天A股市场已经没有了彩电巨头。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;投资新上市公司，命中率是不高的&lt;/b&gt;。正如文章开头说的，这也是基本面分析的概率性。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;话分两头，&lt;b&gt;最后说说基本面分析的高确定性，和 适合更多投资者的投资方法&lt;/b&gt;，&lt;b&gt;也就是投资巨头&lt;/b&gt;。因为巨头倒下的概率很低，且纵有这种可能，也可以通过适度的分散来降低这种风险，这是一种非常稳健的投资方法。&lt;/p&gt;&lt;p&gt;因为行业龙头都经过了时间的考验，有多年的好成绩打底，即使碰到恶劣的环境，他们也比很多公司更能适应。最明显的迹象就是，即使在最差的光景，行业龙头大多也能保持盈利。&lt;b&gt;那都是经验的财富，和踩过无数坑攒下的底气。&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;好了，这里已经告诉大家提高基本面分析成功率的方法了，下面贴一张图。蓝色部分代表的是机会点，图还没做完，先贴一贴（个人思考，仅供参考，欢迎交流）。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-49706f5c61a3b2c19780ce14a3cb4af5_r.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;558&quot; data-rawheight=&quot;153&quot; data-watermark=&quot;watermark&quot; data-original-src=&quot;v2-49706f5c61a3b2c19780ce14a3cb4af5&quot; data-watermark-src=&quot;v2-7dd2c2ba6d88fd01dc1acd638eaf4f07&quot; data-private-watermark-src=&quot;&quot;&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;br&gt;PS：最近为大家准备了一套投资书籍，如果有感兴趣的朋友，&lt;b&gt;可以公举号关注：股知录&lt;/b&gt;，回复关键词“投资书籍” 领取&lt;/p&gt;&lt;p&gt;&lt;/p&gt;</description>
<author>歌弦</author>
<guid isPermaLink="false">2018-07-10-39437481</guid>
<pubDate>Tue, 10 Jul 2018 00:00:00 +0800</pubDate>
</item>
<item>
<title>贸易战与量化交易</title>
<link>https://henix.github.io/feeds/zhuanlan.c_106548378/2018-07-07-39235808.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/39235808&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;中美贸易冲突持续发酵，原来美国是对中国340亿美元商品征收关税，现在特朗普又狮子打开头要求对5000亿美元商品征税，可见没完没了。&lt;/p&gt;&lt;p&gt;美国最近经济发展不错，股市涨的好，失业率跌的好，但由于特朗普的政策几乎没有一个落地的，而且按照惯例新总统前两年的政绩一般算旧总统的，因此现在的成绩可以看成是奥巴马政策延续的结果。&lt;/p&gt;&lt;p&gt;其实很简单的道理：美国失业率2010年突破10%之后，到奥巴马离任时下降到4%左右，特朗普这两年顺势倒3.9%，即使创最近十几年新低，但正常逻辑来说这算是奥巴马的功劳。不排除一些人逻辑不大正常。&lt;/p&gt;&lt;p&gt;比如像小布什执政期间，2002-2007这5年大牛市，保守派说这是小布什的功劳；然后2007、2008来了个次贷危机，然后保守派说这是克林顿的错。这个逻辑确实有点绕——正常来说，如果克林顿宽松的贷款政策导致了2008的危机，但2002-2007的繁荣也同样是宽松贷款政策的结果；换一句话，如果小布什觉得这个政策有问题，他完全可以在共和党控制两院的情况下废除它。&lt;/p&gt;&lt;p&gt;&lt;b&gt;所以，正常逻辑，2002-2007的繁荣很大程度上是克林顿的功劳；但2007、2008的金融危机，小布什难辞其咎。&lt;/b&gt;&lt;/p&gt;&lt;p&gt;其实我发现很多做量化交易的人，意识形态过于浓厚，失去了客观的判断力和研究能力，这样子的人做交易是相当危险的。&lt;/p&gt;&lt;p&gt;比如分析贸易战，它的起因无外乎三种情况：&lt;/p&gt;&lt;p&gt;1.这是美国跟中国的根本矛盾使然，无论谁当总统都会干；&lt;/p&gt;&lt;p&gt;2.这是共和党为了自身底层白人蓝领选票使然，换了民主党就没有贸易战了；&lt;/p&gt;&lt;p&gt;3.这是特朗普个人所为，换一个总统，哪怕还是共和党，也不会打；&lt;/p&gt;&lt;p&gt;我们一个一个来看。要知道，奥巴马这8年，每年给中国送4000亿美元顺差，8年下来，中国外汇储备3万多亿美元。所以，并不是每个总统都会打贸易战。特朗普自己也说，之前的总统对中国过于友好，他要把过去送的钱拿回来。&lt;/p&gt;&lt;p&gt;对于第2点，客观上是存在的，特朗普也说过雇美国人用美国货，因此更多是共和党从自身党派利益出发，来打这个贸易战。&lt;/p&gt;&lt;p&gt;对于第3点，则更加显然。其实特朗普政府内部也有几股势力，有的对中国友好一些，有的对中国强硬一些。但由于特朗普本人对中国比较强硬，所以目前强硬派占上风。因此，换个总统，哪怕还是共和党，这种力度都会有所下降。&lt;/p&gt;&lt;p&gt;&lt;b&gt;因此，斗争的对象，不应该是整个美国，毕竟民主党是无辜的。斗争的焦点更应该是共和党，特别是特朗普。&lt;/b&gt;&lt;/p&gt;&lt;p&gt;但不少量化从业人员思维逻辑感人，非得说是中美之间不可调和的矛盾，拉民主党下水，这就不对了。&lt;/p&gt;&lt;p&gt;话说回来，贸易战打下来，中国股市大幅下挫，倒是让很多股票类产品净值大幅下滑，不管对冲不对冲，似乎都大幅下滑。但现在貌似也似乎没有见底的迹象。说实话，人民币也大幅度贬值，国家四处缺钱，债券要还利息的，股票反而是低成本融资，因此，股市为国民经济将继续输血。&lt;/p&gt;&lt;p&gt;既然如此，股票这么难做，还是做期货好了。由于特朗普反复无常，也导致商品市场波动剧烈，增加了赚钱的机会。很多这些基本面都难以把握，量化反而有一定优势。因此，新入行者，不妨考虑交易期货。&lt;/p&gt;&lt;p&gt;这年头，赚点钱不容易。听说还要个税改革，明减暗升。找工作的时候，则更应该看重确定的基本工资而不是虚无的奖金，毕竟现在奖金的税率是打进工资交的，将会非常高，公司大概率递延12个月发。那还不如确定的工资好了。从这个角度，私募的吸引力大幅下降，毕竟人家喜欢说“工资只是零花钱”，意味着奖金打税非常严重。&lt;/p&gt;&lt;p&gt;我拉的6群也有400人左右，里面有不少公司HR和猎头，海内外都有，欢迎大家加我微信aaliwei91入群。&lt;/p&gt;</description>
<author>babyquant</author>
<guid isPermaLink="false">2018-07-07-39235808</guid>
<pubDate>Sat, 07 Jul 2018 00:00:00 +0800</pubDate>
</item>
<item>
<title>转发外资自营高频交易急招C++码农职位（上海）</title>
<link>https://henix.github.io/feeds/zhuanlan.c_106548378/2018-07-05-39103735.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/39103735&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;摘要：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;超高薪酬，秒杀国内所有本土知乎量化第一梯队；&lt;/li&gt;&lt;li&gt;超长假期，20天带薪年假；&lt;/li&gt;&lt;li&gt;超轻松工作，不加班;&lt;/li&gt;&lt;li&gt;超多福利：国外旅游、医疗保险等&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;我只是友情转发，义务帮朋友收简历，下面那个qq邮箱是我的。&lt;/p&gt;&lt;p&gt;----------------------------------------------------------------&lt;/p&gt;&lt;p&gt;招聘【中/高级C++开发工程师】 | 高频交易--上海&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;#C++#交易系统#香港市场交易#高频交易&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;XXX是一家有活力的美国自营交易公司, 成立于2011年，总共200人，是美国最大的期权做市商之一。上海团队成立于2014年，成员全部来自名校：清华，北大，交大，浙大，复旦等，有来自Morgan Stanley,百度,Intel, Nvidia,华为等。目前主要负责香港市场股票，期货，期权和加密数字货币的交易。也在积极拓展亚洲其他市场交易。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;✅你对高频交易有兴趣吗？&lt;/p&gt;&lt;p&gt;✅你对自动化交易有兴趣吗？&lt;/p&gt;&lt;p&gt;✅你对高性能系统有极致追求吗？&lt;/p&gt;&lt;p&gt;✅你对加密数字货币交易感兴趣吗？&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;XXX招募：&lt;/p&gt;&lt;p&gt;【中/高级C++开发工程师】&lt;/p&gt;&lt;p&gt;📍技术要求：C++11，C++,多线程，smart pointer, 模版，TCP/ UDP,Linux, 英文流利,3年以上经验&lt;/p&gt;&lt;p&gt;📍职能：开发高性能交易系统，研发交易策略,底层架构设计与开发,链接交易所&lt;/p&gt;&lt;p&gt;📍福利：有竞争力的薪资，20天带薪年假，不加班，年度海外旅游，商业医疗保险,午餐补贴，文化氛围简单、精英、极客&lt;/p&gt;&lt;p&gt;📍英文简历投递至：407427850 &lt;a class=&quot;member_mention&quot; href=&quot;http://www.zhihu.com/people/9f9be6962a0ca7b05e254a5818171a64&quot; data-hash=&quot;9f9be6962a0ca7b05e254a5818171a64&quot; data-hovercard=&quot;p$b$9f9be6962a0ca7b05e254a5818171a64&quot;&gt;@qq.com&lt;/a&gt; &lt;/p&gt;&lt;p&gt;地点：浦东世博园&lt;/p&gt;</description>
<author>babyquant</author>
<guid isPermaLink="false">2018-07-05-39103735</guid>
<pubDate>Thu, 05 Jul 2018 00:00:00 +0800</pubDate>
</item>
</channel>
</rss>
