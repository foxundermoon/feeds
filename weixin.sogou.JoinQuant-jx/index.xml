<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:media="http://search.yahoo.com/mrss/">
<channel>
<title>聚宽量化实验室</title>
<link>https://henix.github.io/feeds/weixin.sogou.JoinQuant-jx/</link>
<description>用数学+编程,驾驭金融市场波动. 汇集最优质量化投资模型,和最勤奋聪明的大脑.</description>
<language>zh-cn</language>
<lastBuildDate>Thu, 24 Jan 2019 12:19:35 +0800</lastBuildDate>
<item>
<title>机器学习在市场微观结构和高频交易中的应用</title>
<link>https://henix.github.io/feeds/weixin.sogou.JoinQuant-jx/2019-01-23-1000000092.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?timestamp=1548303572&amp;amp;src=3&amp;amp;ver=1&amp;amp;signature=SlGAs0tUtyjPK5B5ILqEBbDaeuxqfhEqIaxTj8NVG0vxKEW7RGCZsxViZqsaSRafz8OS*KAWo4NpiBJDOx0PXkyCEOx0H9wGOrpv5GIq-MByV6nwM8PfaQE7EjcGYxR8SNjjig*VOCP-JO8-o42x6yeWOM9pZztv06*33lpG1Hg=&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;div id=&quot;js_top_ad_area&quot; class=&quot;top_banner&quot;&gt;&lt;/div&gt;&lt;div class=&quot;rich_media_inner&quot;&gt;

        
        
        &lt;div id=&quot;page-content&quot; class=&quot;rich_media_area_primary&quot;&gt;
          &lt;div class=&quot;rich_media_area_primary_inner&quot;&gt;
                                    
                        

            &lt;div id=&quot;img-content&quot;&gt;

                
                &lt;h2 class=&quot;rich_media_title&quot; id=&quot;activity-name&quot;&gt;
                    
                    
                    机器学习在市场微观结构和高频交易中的应用

                                                                                &lt;/h2&gt;
                &lt;div id=&quot;meta_content&quot; class=&quot;rich_media_meta_list&quot;&gt;
                                                            &lt;span id=&quot;copyright_logo&quot; class=&quot;rich_media_meta rich_media_meta_text meta_tag_text&quot;&gt;原创：&lt;/span&gt;
                                                            &lt;span class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;
                                                张瀚升（译）
                                            &lt;/span&gt;
                                        
                                        &lt;span class=&quot;rich_media_meta rich_media_meta_nickname&quot; id=&quot;profileBt&quot;&gt;
                      &lt;a href=&quot;javascript:void(0);&quot; id=&quot;js_name&quot;&gt;
                        聚宽量化实验室                      &lt;/a&gt;
                      &lt;div id=&quot;js_profile_qrcode&quot; class=&quot;profile_container&quot; style=&quot;display:none;&quot;&gt;
                          &lt;div class=&quot;profile_inner&quot;&gt;
                              &lt;strong class=&quot;profile_nickname&quot;&gt;聚宽量化实验室&lt;/strong&gt;
                              &lt;img class=&quot;profile_avatar&quot; id=&quot;js_profile_qrcode_img&quot; src=&quot;&quot; alt=&quot;&quot;&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;微信号&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;JoinQuant-jx&lt;/span&gt;
                              &lt;/p&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;功能介绍&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;用数学+编程，驾驭金融市场波动。 汇集最优质量化投资模型，和最勤奋聪明的大脑。&lt;/span&gt;
                              &lt;/p&gt;
                              
                          &lt;/div&gt;
                          &lt;span class=&quot;profile_arrow_wrp&quot; id=&quot;js_profile_arrow_wrp&quot;&gt;
                              &lt;i class=&quot;profile_arrow arrow_out&quot;&gt;&lt;/i&gt;
                              &lt;i class=&quot;profile_arrow arrow_in&quot;&gt;&lt;/i&gt;
                          &lt;/span&gt;
                      &lt;/div&gt;
                    &lt;/span&gt;


                    &lt;em id=&quot;publish_time&quot; class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;&lt;/em&gt;





                &lt;/div&gt;
                
                
                
                
                                                
                                                                
                                
                
                &lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    

                    
                    
                    &lt;p style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;&lt;strong style=&quot;text-align: center;white-space: normal;&quot;&gt;&lt;img class=&quot; __bg_gif&quot; data-backh=&quot;124&quot; data-backw=&quot;558&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_gif/ZZTd2u8ycXibDM6MY1CKPZH6IwxyWUeKlfbgiahCVnsEygjPWkwGczyGemVPbTZHg6blIUyPIashqscFCtHia13mQ/640&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.2222222222222222&quot; data-type=&quot;gif&quot; data-w=&quot;900&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/ZZTd2u8ycXibDM6MY1CKPZH6IwxyWUeKlfbgiahCVnsEygjPWkwGczyGemVPbTZHg6blIUyPIashqscFCtHia13mQ/640?&quot; style=&quot;box-sizing: border-box !important;overflow-wrap: break-word !important;width: 542.188px !important;visibility: visible !important;&quot;&gt;&lt;/strong&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;br&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;br&gt;&lt;/strong&gt;&lt;/p&gt;&lt;h2 mpa-is-content=&quot;t&quot; style=&quot;margin: 5px;padding-right: 10px;padding-left: 10px;font-weight: bold;white-space: normal;max-width: 100%;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);border-left: 5px solid rgb(54, 116, 201);line-height: 32px;color: rgb(54, 116, 201);border-top-color: rgb(54, 116, 201);border-bottom-color: rgb(54, 116, 201);border-right-color: rgb(54, 116, 201);box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;1、介&lt;/strong&gt;&lt;strong style=&quot;letter-spacing: 0.544px;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;绍&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　本文介绍了机器学习在市场微观结构数据和高频交易中的应用问题。机器学习是计算机科学一个充满活力的领域，它借鉴了统计学、复杂计算、人工智能、控制理论和许多其他学科的模型和方法。&lt;strong&gt;机器学习主要用于从大数据集中推断出良好的预测模型，因此机器学习可以很好地解决高频交易中包括交易执行和寻找alpha出现的问题。&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　现有关于机器学习在高频交易中的应用的研究较少，因此，我们围绕几个案例展开。这些案例包括：&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;ul style=&quot;list-style-type: disc;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;通过强化学习优化交易&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;根据订单状态预测价格变动&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;暗池中的智能订单路由的机器学习&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2 mpa-is-content=&quot;t&quot; style=&quot;margin: 5px;padding-right: 10px;padding-left: 10px;font-weight: bold;white-space: normal;max-width: 100%;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);border-left: 5px solid rgb(54, 116, 201);line-height: 32px;color: rgb(54, 116, 201);border-top-color: rgb(54, 116, 201);border-bottom-color: rgb(54, 116, 201);border-right-color: rgb(54, 116, 201);box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;2、机器学习中的高频数据&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　目前，对于高频交易的定义仍然是主观的，对其所包含的如持有期、订单类型和策略等概念缺乏一个广泛认同的共识。然而，大多数高频交易的技术面处理都认为，高频交易的数据往往是非常细粒度的。通常来讲，这些数据是直接来自交易所的微观结构数据，详细描述了每一次下单、执行和取消，从而可以基于历史数据做到几乎完全重建整个订单。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　&lt;strong&gt;微观结构数据面临的两大挑战是其规模和解释。&lt;/strong&gt;在规模方面，类似于苹果（AAPL）等高流动性股票，一天的微观结构数据要以千兆字节计算，存储此数据需要压缩并使用大量存储空间。但这些仅仅是技术上的挑战，解释方面的挑战更为重要。微观数据结构包含哪些有用的信息？应用机器学习，我们可以从这些非常细粒度的、层级较低的数据中提取哪些对于构建预测模型有用的特征或变量？&lt;/p&gt;&lt;p&gt; &lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2 mpa-is-content=&quot;t&quot; style=&quot;margin: 5px;padding-right: 10px;padding-left: 10px;font-weight: bold;white-space: normal;max-width: 100%;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);border-left: 5px solid rgb(54, 116, 201);line-height: 32px;color: rgb(54, 116, 201);border-top-color: rgb(54, 116, 201);border-bottom-color: rgb(54, 116, 201);border-right-color: rgb(54, 116, 201);box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;3、通过强化学习优化交易&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　本文的第一个案例研究考察了机器学习在最基本的基于微观结构数据的算法交易问题中的应用，即优化交易执行。最简单的形式：某只股票，比如苹果（AAPL），交易量是V，时间范围或者说交易步骤数为T。目标是在交易步骤数T内买入V股股票，同时最小化支出。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　我们可以观察到，在这个模型中，任何交易策略都是基于状态的。最基本的状态用符号（v, t）来表示，其中v表示余下的需要买入的股数，v ≤ V；t表示余下的交易步数，t≤T。如果我们处于v较小t较大的状态，说明已经购买了目标量的大部分，我们会考虑用更低的价格购买剩余的股票。如果我们处于v较大t较小的状态，说明我们的时间不多了，目标量还有大部分需要购买，所以应该开始跨越价差、提高流动性，以此来尽快达成目标，代价就是更高的支出。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　&lt;strong&gt;强化学习起源于控制理论，是机器学习的一个分支&lt;/strong&gt;，专门用于从数据中学习这种基于动态状态的策略。强化学习的应用步骤如下：&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;ul style=&quot;list-style-type: disc;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;标记一个状态空间，其元素表示我们将在其中选择操作的可变条件。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;标记每个状态的可行操作。本例中，这些操作包括以不同价格为所有剩余的股票量下限价订单。因此我们在任何时候都将只有一个未完成的订单，但是将根据当前状态重新设定该订单。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;从历史数据中以概率的形式识别我们的行为所产生的影响。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;确定一个奖励函数或成本函数，该函数反映了从给定状态采取给定操作的预期回报。在本例中，来自给定状态的限价订单的成本是订单执行的最终支出。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;学习最优策略的算法，即从状态到行动的映射——最小化训练集的经验成本（购买股票的支出）。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;通过测试集来评估算法的性能。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;　　为了评估强化学习算法，我们将一次性提交策略作为基准进行对比。一次性提交策略是在交易开始时，以某个价格p为整个目标量V下一个限价单，并且不修改所有T步骤。在交易结束时，如果有剩余量v，则对剩余的股票下达指令，以达到购买V股票的目标。图一展示了强化学习的性能。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.4013605442176871&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRLeRxzMT8qzZID8KicgcZsWQsicuDhpnWmZOeFrK1UH1tr9FtROk7fJzoQbwDQEziaHXvJ4IKaPRSbQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;882&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　在这个图中，比较了强化学习与一次性提交策略的性能差异，我们用交易成本来衡量。黑色的柱表示一次性提交策略，灰色和白色的柱表示强化学习策略。其中T表示总步数，I表示目标量分为I级，I越大，剩余目标量v越大。横轴表示目标量T和交易步骤数T。可以看到，强化学习的性能明显优于一次性提交策略。目标交易量越大、交易周期越短，交易成本就越高。还可以看到，I越大，交易成本越低。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　图二是强化学习的可视化结果展示。X轴为剩余目标量v，数值越大，剩余目标量越大；Y轴为剩余步骤数t，数值越大，剩余步骤数越多；Z轴为最佳行动，数值越大，行动越积极。我们假设v分为8个等级，t分为8个等级，这时探寻不同状态下的（v，t）所对应的最佳行动。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.26693629929221435&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRLeRxzMT8qzZID8KicgcZsW75BXiaGcCYhDd4h4sibPkZdV09Vib8bibESXIqtsQS4VABbgtsTE33gR9Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;989&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　结论就像前面讨论的一样，当库存高企、时间快要用完时，我们会更积极地行动；当库存很低，而时间还在，我们就会寻求价格的改善。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　到目前为止，我们很少使用微观结构数据。&lt;strong&gt;但是机器学习通常涉及到搜索改进的特性或状态变量，这些特性或状态变量允许学习的策略基于更多的信息，从而提高性能。&lt;/strong&gt;在这里，我们列出了一些可能与优化执行问题相关的特性：&lt;span style=&quot;font-family:宋体;&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:宋体;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;ul style=&quot;list-style-type: disc;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;买卖价差：表示当前订单中买卖价格之间的差值。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;买卖不平衡数量：出价时的股票数量减去卖出时的股票数量。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;签署的交易量：表示在最后15秒买入的股票数量减去在最后15秒卖出的股票数量。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;直接成本：我们在接到市场指令后立即购买剩余股份的成本。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;　　我们使用强化学习方法对上述四个特性进行了检验。&lt;strong&gt;四个特性中的三个都对降低交易成本有显著的改进&lt;/strong&gt;，只有买卖不平衡数量看起来不是特别显著。因此，我们也检验了添加这三个特性所获得的改进百分比，具体结果如下表所示。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.23401162790697674&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRLeRxzMT8qzZID8KicgcZsWVVCLCjNmPQ5UCASj59UicgwdoK62M95jKfsyicWvib0RBswDEePalmeLA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;688&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　图三展示了买卖价差和直接成本对最佳行动的影响。X轴为买卖价差，用Spread Size表示，数值越大，表示价差越大；Y轴为直接成本，用Immediate Cost表示，数值越大，表示直接成本越高；Z轴为最优行动，用Optimal Action表示，数值越大，表示行动越积极。&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.3411167512690355&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRLeRxzMT8qzZID8KicgcZsW2bicwtHG0meLah5iaKdAa5HWZTicexHWibdQE8AgYJLsYNmXzUPiblLXlfA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;985&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　结论与我们所预期一致，当价差较大或购买股票的直接成本较低时，我们就会采取更积极的操作。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2 mpa-is-content=&quot;t&quot; style=&quot;margin: 5px;padding-right: 10px;padding-left: 10px;font-weight: bold;white-space: normal;max-width: 100%;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);border-left: 5px solid rgb(54, 116, 201);line-height: 32px;color: rgb(54, 116, 201);border-top-color: rgb(54, 116, 201);border-bottom-color: rgb(54, 116, 201);border-right-color: rgb(54, 116, 201);box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;4、通过订单状态预测价格变动&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　当然，人们自然会问，类似的方法能否得到一个基于状态的盈利模型。这个模型可以自己决定何时交易以及如何交易。从模型的概念上我们可以将工作分为两个部分：&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;ul style=&quot;list-style-type: disc;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;开发能够可靠预测某些状态价格走势的功能。这里的“可靠”不是指高准确度，而是指我们的盈利能够刚好超过我们的亏损。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;开发用于交易的学习策略，在足够低的交易成本下捕捉这种可预测性和alpha。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;　　值得注意的是，现在我们必须首先找到有利可图的预测信号，然后希望它们不会被交易成本抹去。不同于第三节，对于alpha来说，动量信号可能要重要得多，因此，我们采用以下特征进行实验：&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;ul style=&quot;list-style-type: disc;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;买卖价差：同第三节。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;价格：衡量最近执行价格的方向变动的特征。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;聪明的价格：中间价格的变化，其中的平均买入价和卖出价是根据它们的交易量加权。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;交易标志：在最近的执行中，衡量买家或卖家是否更频繁地越过价差的特征。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;买卖不平衡数量：同第三节。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;签署的交易量：同第三节。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;　　为了便于分析与讨论，我们简化了假设，只考虑学习算法中可用的两类理想化的操作：在买卖中点买入1股，并持有该头寸t秒，再在这一时点，在中点卖出该头寸；相反，我们在中点卖出，然后在t秒后买入。需要注意的是，在中点执行的假设下，这两种操作中的一种必定是有超额收益的——如果中点增大，则在t秒后买入和卖出；如果中点降低，则反向操作。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　该方法可总结如下：&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;ul style=&quot;list-style-type: disc;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;对19支股票，根据历史数据进行订单重构。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;在每个交易机会中，计算当前状态（上述的6个微观结构特征）的值，并通过订单模拟上述两种操作（先买后卖，先卖后买），将利润或损失制成表，以计算中点移动。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;使用2008年的数据进行训练。对状态空间中的每一种状态，计算训练期间每次访问的两种行为的累计收益。将行为和状态的映射定义为策略，定义为在状态下能让训练集取得最大利润的所有行动集。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;使用2009年的数据进行测试。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;　　图四展示了19支股票学习的行为与特性之间的相关性。这19支股票包括：AAPL，ADBE，AMGN，AMZN，BIIB，CELG，COST，CSCO，DELL，EBAY，ESRX，GILD，GOOG，INTC，MSFT，ORCL，QCOM，SCHW，YHOO。Z轴为行动，+1表示买入，-1表示卖出。特征的顺序为买卖价差、价格、聪明的价格、交易标志、买卖不平衡数量和签署的交易量。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.9874551971326165&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRLeRxzMT8qzZID8KicgcZsWlhrfOITibiaUEQvLQ9OZwzwlsZ2Nl8yJC9PKhWJgxP8gEBiczSvmueL1A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;558&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　然而，值得强调的是，将策略投射到单一的特征上时，并不能让我们正确地认识到特征之间相互作用的微妙之处。例如，如果我们不是对一个具有高价值的特征进行条件设置，而是对几个具有高价值的特征进行条件设置，得到的相关性会比任何单独的特征都要强得多，这一点在图五进行了展示。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;img data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRLeRxzMT8qzZID8KicgcZsWCDySiaauZsywwvaKicLoibVf1bMTh1a484mvfcic1JM3NngibIGOVBLveeg/640?wx_fmt=png&quot; data-type=&quot;png&quot; style=&quot;text-align: justify;&quot; class=&quot;&quot; data-ratio=&quot;0.9576271186440678&quot; data-w=&quot;708&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.9576271186440678&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRLeRxzMT8qzZID8KicgcZsWCDySiaauZsywwvaKicLoibVf1bMTh1a484mvfcic1JM3NngibIGOVBLveeg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;708&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　图五中，红柱表示对全部六个特征进行学习得到的测试集盈利能力，蓝柱表示的是对单一特征进行学习。至此，我们可以认为：&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;ul style=&quot;list-style-type: disc;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;strong&gt;使用所有六个特征的盈利能力通常比使用单个特征要好。&lt;/strong&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;聪明的价格这一特征似乎是最好的单一特征。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;买卖价差似乎是一个用处不大的功能，但在少数几支股票上确实具有显著的盈利能力。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;　　那么我们可以基于此做些什么呢？我们看到了两种可能性。首先，我们可以用限价订单进行交易，以此试图避免支付价差。这无疑是一个富有成效的方向。第二，我们可以寻找或设计更好的特性，这些特性将带来更大的可预测性，足以克服交易成本。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　现在应该清楚了，机器学习方法提供了难得的盈利途径。市场竞争激烈，很难找到真正的利润来源。话虽如此，本节依旧是在试图寻找潜在的利润来源，通过定义状态空间，检验特征及其相互作用等等。这应该是一名宽客工作的一部分，这样我们至少可以在这些问题上有共同语言。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2 mpa-is-content=&quot;t&quot; style=&quot;margin: 5px;padding-right: 10px;padding-left: 10px;font-weight: bold;white-space: normal;max-width: 100%;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);border-left: 5px solid rgb(54, 116, 201);line-height: 32px;color: rgb(54, 116, 201);border-top-color: rgb(54, 116, 201);border-bottom-color: rgb(54, 116, 201);border-right-color: rgb(54, 116, 201);box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;5、暗池中的智能订单路由机器学习&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　在我们最后一个案例中，我们将探讨使用机器学习的方法来解决智能订单路由（SOR）在暗池中的问题。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　在最简单的暗池机制中，订单信息只包含给定名称的交易量和交易方向（买入或卖出），没有具体的价格。订单按照到达的顺序在市场上排队，最先到达的订单排在队列的最前面。只要市场是流动的，交易就会发生。例如，假设在给定某个时刻，买入队列为空，卖出队列由一个1000股和一个250股的订单组成。如果一个1600股的新买单到达，将立即针对未执行的卖单执行1250股交易，然后买入队列将包含剩余的350股订单，卖出队列将为空。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　从数据和机器学习的角度看，暗池和与其对立的公开市场之间有两个关键的区别：&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;ul style=&quot;list-style-type: disc;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;与公开市场的微观结构数据不同，在暗池中，人们只能访问自己的订单和交易数据，而不能访问整个交易群体。因此，在第三节和第四节中度量市场活动、买卖压力、流动性失衡等特征不再可用。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;在向暗池提交订单时，我们只知道我们的订单是否（部分）得到了执行，而不知道如果我们要求更多，可能会获得多少流动性。例如，假设我们提交了10000股的订单，如果我们知道5000股已经被执行，那么我们知道另一边只有5000股。然而，如果所有的10000股都被执行，那么任何大于10000股的订单也都可能被执行。&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　现在我们准备使用更数学的方法来定义SOR问题。我们假设有n个独立的暗池可用（在撰写本文时n ＞ 30，仅在美国），我们假设这些池为给定的股票提供了不同的流动性。例如，一个池可能更好地快速可靠地执行小订单，而另一个可能大概率执行大量订单。我们通过可用股票的概率分布对这些流动性进行建模。我们假设在向池i提交量的订单时，会以概率执行随机的数量。因此，按照上述机制，SOR问题可以形式化为：给定购买的总体目标V，我们应该如何将V划分为V1，V2，Vn……，，分别提交到暗池1，2，……，n，其中&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.611764705882353&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRLeRxzMT8qzZID8KicgcZsWorVIENa6ayugVcFRbpkcz8zQA1dglpCekAuwBB318srYVx2EYkrMzQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;85&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;，目标函数是最大化期望执行量。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　在我们对SOR问题的形式化过程中，如果我们了解概率的分布，那最大化期望执行量就可以有一个最优解。我们将即将分配的每一股分配到执行该股边际概率最大的池中，通过这种方式，处理所有的V股，并确定每个池i的最终分配量。这就是贪婪分配算法的原理。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　对于SOR的机器学习源于这样一个事实：&lt;strong&gt;我们不知道概率的分布，必须从执行数据中学习并近似地拟合它们。&lt;/strong&gt;我们已经开发出了一个针对暗池问题的学习算法，该算法在n个池的提交订单中学习最优提交策略，总结如下：&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;ul style=&quot;list-style-type: disc;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;对于每一个池，提供一个近似的概率来拟合未知的。对于近似的概率，我有一些默认值。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;使用Kaplan-Meier方法估计模型参数。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;为每个所需的交易量V来执行，每个提交的分配都会得到一个观察到的执行量。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;使用新的执行数据重复上述过程。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;　　图六展示了上述算法的结果。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.3396029258098224&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRLeRxzMT8qzZID8KicgcZsWKT2erHfvOTibczhrOfcnycETtgQ82wtHa3sSy5QLeTFnjSom2XeEicQg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;957&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　图六中，&lt;strong&gt;红色的曲线为我们的学习算法结果，蓝色的线为自适应启发式算法得到的结果，绿色的线为基准。&lt;/strong&gt;可以看到，虽然在某些时候，自适应启发式算法也可以接近真正的最优值，但在其他时候，它偏离了最优值。而且，在每种情况下，我们的学习算法（强化学习算法）都优于这个简单的启发式算法。&lt;/p&gt;&lt;p&gt; &lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2 mpa-is-content=&quot;t&quot; style=&quot;margin: 5px;padding-right: 10px;padding-left: 10px;font-weight: bold;white-space: normal;max-width: 100%;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);border-left: 5px solid rgb(54, 116, 201);line-height: 32px;color: rgb(54, 116, 201);border-top-color: rgb(54, 116, 201);border-bottom-color: rgb(54, 116, 201);border-right-color: rgb(54, 116, 201);box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;6、结论&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　最后是我们得出的一些结论：&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;ul style=&quot;list-style-type: disc;&quot; class=&quot; list-paddingleft-2&quot;&gt;&lt;li&gt;&lt;p&gt;机器学习不提供盈利或改进执行的简单途径，但确实通过历史数据为交易优化提供了&lt;strong&gt;强大且有原则的框架&lt;/strong&gt;。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;自始至终，我们都强调了特征设计对机器学习方法成功的重要性。&lt;strong&gt;如果没有有用的特征，学习永远不会成功&lt;/strong&gt;，如果没有正确地表达或优化这些特征，学习甚至可能失败。&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;为了获得最好的结果，有时需要进行各种微调。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.44590780809031044&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRLeRxzMT8qzZID8KicgcZsWyaknGrwanWPexs1uMn1yzbZA9GFhicWh0nzX8Eo7hechibOiabwzpkW5Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1063&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt; &lt;/p&gt;&lt;p&gt;　　回复“&lt;span style=&quot;color: rgb(255, 41, 65);&quot;&gt;机器学习和高频交易&lt;/span&gt;”即可获取原文。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);text-align: center;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;img class=&quot; __bg_gif&quot; data-backh=&quot;556&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/zEy1aCmAZQRLdpTXYOswDgyjlZMzJr3YZQFNaDd3pIAtWRVkFJSK7ezf2iafDzabFgIqzSNXRlvT8slRNWCZhiaA/0?wx_fmt=jpeg&quot; data-copyright=&quot;0&quot; data-cropselx1=&quot;12&quot; data-cropselx2=&quot;351&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;339&quot; data-ratio=&quot;0.9344444444444444&quot; data-s=&quot;300,640&quot; data-type=&quot;gif&quot; data-w=&quot;900&quot; height=&quot;542&quot; width=&quot;694&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/zEy1aCmAZQS5mRKwGwhQpWA8wKXpKTbcUwUgKuqM0OADcR1IT2z0AhW2eQMyibaV77UibB4V0XKCAengxnHYRz9w/640?wx_fmt=gif&quot; style=&quot;width: 528.047px;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible !important;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;margin-right: 8px;margin-left: 8px;white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);text-align: center;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;max-width: 100%;color: inherit;font-family: inherit;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;欢迎关注&lt;/span&gt;&lt;span style=&quot;max-width: 100%;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;max-width: 100%;color: inherit;font-family: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;『&lt;/span&gt;&lt;strong style=&quot;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;聚宽量化实验室&lt;/strong&gt;&lt;span style=&quot;max-width: 100%;color: inherit;font-family: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;』&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;
                &lt;/div&gt;
                &lt;script nonce=&quot;1803275134&quot; type=&quot;text/javascript&quot;&gt;
                    var first_sceen__time = (+new Date());

                    if (&quot;&quot; == 1 &amp;&amp; document.getElementById(&#39;js_content&#39;)) {
                        document.getElementById(&#39;js_content&#39;).addEventListener(&quot;selectstart&quot;,function(e){ e.preventDefault(); });
                    }

                    
                    (function(){
                        if (navigator.userAgent.indexOf(&quot;WindowsWechat&quot;) != -1){
                            var link = document.createElement(&#39;link&#39;);
                            var head = document.getElementsByTagName(&#39;head&#39;)[0];
                            link.rel = &#39;stylesheet&#39;;
                            link.type = &#39;text/css&#39;;
                            link.href = &quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/winwx435ee6.css&quot;;
                            head.appendChild(link);
                        }
                    })();
                &lt;/script&gt;

                
                &lt;div class=&quot;ct_mpda_wrp&quot; id=&quot;js_sponsor_ad_area&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;
                
                
                &lt;div class=&quot;read-more__area&quot; id=&quot;js_more_read_area&quot; style=&quot;display:none;&quot;&gt;
                    
                &lt;/div&gt;

                
                                &lt;div class=&quot;reward_area tc reward_area_primary&quot; id=&quot;js_preview_reward_author&quot; style=&quot;display:none;&quot;&gt;
                    &lt;div class=&quot;reward-avatar&quot; style=&quot;display: none;&quot; id=&quot;js_preview_reward_author_avatar&quot;&gt;
                        &lt;img src=&quot;&quot; alt=&quot;&quot; id=&quot;js_preview_reward_author_head&quot;&gt;
                    &lt;/div&gt;
                    
                                        &lt;div class=&quot;reward-author&quot; id=&quot;js_preview_reward_author_name&quot;&gt;张瀚升（译）&lt;/div&gt;
                                        &lt;p class=&quot;reward_tips&quot; id=&quot;js_preview_reward_author_wording&quot; style=&quot;display:none;&quot;&gt;&lt;/p&gt;
                    &lt;p&gt;
                        &lt;a class=&quot;reward_button&quot; id=&quot;js_preview_reward_author_link&quot; href=&quot;##&quot;&gt;&lt;span id=&quot;js_preview_reward_link_text&quot;&gt;赞赏&lt;/span&gt;&lt;/a&gt;
                    &lt;/p&gt;
                &lt;/div&gt;

                &lt;div class=&quot;reward_qrcode_area reward_area tc&quot; id=&quot;js_preview_reward_qrcode&quot; style=&quot;display:none;&quot;&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;长按二维码向我转账&lt;/p&gt;
                    &lt;p id=&quot;js_preview_reward_ios_wording&quot; class=&quot;reward_tips&quot; style=&quot;display:none;&quot;&gt;&lt;/p&gt;
                    &lt;span class=&quot;reward_qrcode_img_wrp&quot;&gt;&lt;img class=&quot;reward_qrcode_img&quot; src=&quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_reward_qrcode.2x42f400.png&quot;&gt;&lt;/span&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;受苹果公司新规定影响，微信 iOS 版的赞赏功能被关闭，可通过二维码转账支持公众号。&lt;/p&gt;
                &lt;/div&gt;
                                
                
                            &lt;/div&gt;
                                    
                        


                        
            &lt;ul id=&quot;js_hotspot_area&quot; class=&quot;article_extend_area&quot;&gt;&lt;/ul&gt;


            

            


&lt;div class=&quot;rich_media_tool&quot; id=&quot;js_toobar3&quot;&gt;

        &lt;div id=&quot;js_read_area3&quot; class=&quot;media_tool_meta tips_global_primary meta_primary&quot; style=&quot;display:none;&quot;&gt;阅读 &lt;span id=&quot;readNum3&quot;&gt;&lt;/span&gt;&lt;/div&gt;

    &lt;span style=&quot;display:none;&quot; class=&quot;media_tool_meta meta_extra meta_praise&quot; id=&quot;like_old&quot;&gt;
        &lt;i class=&quot;icon_praise_gray&quot;&gt;&lt;/i&gt;&lt;span class=&quot;praise_num&quot; id=&quot;likeNum_old&quot;&gt;&lt;/span&gt;
    &lt;/span&gt;

    &lt;span style=&quot;display:none;&quot; class=&quot;media_tool_meta meta_extra meta_like&quot; id=&quot;like3&quot;&gt;
        &lt;button class=&quot;like_btn&quot; id=&quot;js_like_btn&quot;&gt; 
          好看&lt;span class=&quot;like_num&quot; id=&quot;likeNum3&quot;&gt;&lt;/span&gt;
        &lt;/button&gt;
    &lt;/span&gt;

    &lt;div id=&quot;js_like_educate&quot; style=&quot;display:none&quot;&gt;
        &lt;div class=&quot;weui-mask&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;weui-dialog weui-dialog_haokan&quot;&gt;
        &lt;div class=&quot;weui-dialog__hd&quot;&gt;&lt;strong class=&quot;weui-dialog__title&quot; id=&quot;educate_title&quot;&gt;已推荐到看一看&lt;/strong&gt;&lt;/div&gt;
        &lt;div class=&quot;weui-dialog__bd&quot;&gt;
          &lt;img class=&quot;pic_haokan&quot; src=&quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_haokan42f400.png&quot;&gt;
            你的朋友可以在“发现”-“看一看”看到你认为好看的文章。        &lt;/div&gt;
        &lt;div class=&quot;weui-dialog__ft&quot; id=&quot;educate_btn&quot; style=&quot;display: none&quot;&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_default&quot; id=&quot;js_cancel&quot;&gt;取消&lt;/a&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_confirm&quot;&gt;推荐&lt;/a&gt;
        &lt;/div&gt;
        &lt;div class=&quot;weui-dialog__ft&quot; id=&quot;educate_btn2&quot; style=&quot;display: none&quot;&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_acknowledge&quot;&gt;我知道了&lt;/a&gt;
        &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;div id=&quot;js_unlike_educate&quot; style=&quot;display:none&quot;&gt;
        &lt;div class=&quot;weui-mask&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;weui-dialog&quot;&gt;
        
        &lt;div class=&quot;weui-dialog__bd&quot;&gt;
            已取消，“好看”想法已同步删除        &lt;/div&gt;
        &lt;div class=&quot;weui-dialog__ft&quot;&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_unlike_know&quot;&gt;知道了&lt;/a&gt;
        &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    
    &lt;/div&gt;


&lt;div class=&quot;like_comment_wrp&quot; id=&quot;js_a_like_comment&quot; style=&quot;display: none;&quot;&gt;
  &lt;div class=&quot;like_comment_inner&quot;&gt;
    &lt;div class=&quot;like_comment_hd&quot; style=&quot;display:none&quot; id=&quot;js_like_title&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;like_comment_bd&quot;&gt;
      &lt;div class=&quot;tips_global_primary like_comment_tips&quot;&gt;
        &lt;i class=&quot;weui-icon-success&quot;&gt;&lt;/i&gt;已推荐到看一看&lt;a href=&quot;javascript:;&quot; class=&quot;like_comment_share_link&quot; id=&quot;js_a_like_comment_share&quot;&gt;和朋友分享想法&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;like_comment_ft&quot;&gt;
      &lt;span id=&quot;js_a_like_comment_msg&quot; class=&quot;like_comment_msg&quot; style=&quot;visibility:hidden&quot;&gt;最多200字，当前共&lt;span id=&quot;js_a_like_current_cnt&quot;&gt;&lt;/span&gt;字&lt;/span&gt;
      &lt;button class=&quot;like_comment_btn&quot; disabled id=&quot;js_a_like_confirm&quot;&gt;发送&lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;div id=&quot;js_like_toast&quot; style=&quot;display: none;&quot;&gt;
  &lt;div class=&quot;weui-mask_transparent&quot;&gt;&lt;/div&gt;
  &lt;div class=&quot;weui-toast&quot;&gt;
    &lt;i class=&quot;weui-icon-success-no-circle weui-icon_toast&quot;&gt;&lt;/i&gt;
    &lt;p class=&quot;weui-toast__content&quot; id=&quot;js_toast_msg&quot;&gt;已发送&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;


&lt;div style=&quot;display: none;&quot; id=&quot;js_b_comment_panel&quot; class=&quot;like_comment_primary_pop&quot;&gt;
  &lt;div class=&quot;like_comment_primary_wrp&quot; id=&quot;js_b_wrp&quot;&gt;
    &lt;div class=&quot;like_comment_primary_inner&quot;&gt;
      &lt;div class=&quot;like_comment_primary_hd&quot;&gt;
        &lt;h4 class=&quot;like_comment_primary_title&quot;&gt;
          朋友将在看一看看到        &lt;/h4&gt;
        &lt;button id=&quot;js_b_like_confirm&quot; class=&quot;like_comment_primary_btn&quot;&gt;确定&lt;/button&gt;
      &lt;/div&gt;
      &lt;div id=&quot;js_b_comment_text_first&quot; class=&quot;like_comment_primary_bd&quot;&gt;
        &lt;span class=&quot;tips_global_primary&quot;&gt;
          分享你的想法...        &lt;/span&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;like_comment_primary_mask&quot; id=&quot;js_mask_1&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div style=&quot;display: none;&quot; id=&quot;js_b_comment_final&quot;&gt;
  &lt;div class=&quot;like_comment_primary_wrp editing&quot; id=&quot;js_comment_wrp&quot;&gt;
    &lt;div class=&quot;like_comment_primary_inner&quot;&gt;
      &lt;div class=&quot;like_comment_primary_hd&quot;&gt;
        &lt;button class=&quot;like_comment_primary_cancel&quot; id=&quot;js_b_comment_cancel&quot;&gt;取消&lt;/button&gt;
        &lt;h4 class=&quot;like_comment_primary_title&quot;&gt; 分享想法到看一看 &lt;/h4&gt;
        &lt;button class=&quot;like_comment_primary_btn&quot; id=&quot;js_b_comment_confirm&quot;&gt;确定&lt;/button&gt;
      &lt;/div&gt;
      &lt;div class=&quot;like_comment_primary_bd&quot;&gt;
        &lt;textarea class=&quot;like_comment_textarea weui-textarea&quot; placeholder=&quot;分享你的想法...&quot; id=&quot;js_b_comment_text_second&quot;&gt;&lt;/textarea&gt;
      &lt;/div&gt;
      &lt;span class=&quot;like_comment_msg&quot; id=&quot;js_b_like_comment_msg&quot; style=&quot;visibility: hidden;&quot;&gt;最多200字，当前共&lt;span id=&quot;js_b_like_current_cnt&quot;&gt;&lt;/span&gt;字&lt;/span&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;like_comment_primary_mask&quot; id=&quot;js_mask_2&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div id=&quot;js_loading&quot; style=&quot; display: none;&quot;&gt;
    &lt;div class=&quot;weui-mask_transparent&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;weui-toast&quot;&gt;
        &lt;i class=&quot;weui-loading weui-icon_toast&quot;&gt;&lt;/i&gt;
        &lt;p class=&quot;weui-toast__content&quot;&gt;发送中&lt;/p&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div id=&quot;js_fail&quot; style=&quot;display:none&quot;&gt;
    &lt;div class=&quot;weui-mask&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;weui-dialog&quot;&gt;
    &lt;div class=&quot;weui-dialog__bd&quot;&gt;
        网络异常，请稍后重试    &lt;/div&gt;
    &lt;div class=&quot;weui-dialog__ft&quot;&gt;
      &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_fail_inform&quot;&gt;知道了&lt;/a&gt;
    &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;



                        &lt;div class=&quot;rich_media_tool&quot; id=&quot;js_sg_bar&quot;&gt;

                                
            &lt;/div&gt;
                      &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class=&quot;rich_media_area_primary sougou&quot; id=&quot;sg_tj&quot; style=&quot;display:none&quot;&gt;&lt;/div&gt;


        
        &lt;div class=&quot;rich_media_area_extra&quot;&gt;
          &lt;div class=&quot;rich_media_area_extra_inner&quot;&gt;
              
              &lt;div id=&quot;js_share_appmsg&quot;&gt;
              &lt;/div&gt;

              
                            &lt;div class=&quot;mpda_bottom_container&quot; id=&quot;js_bottom_ad_area&quot;&gt;&lt;/div&gt;
                            
              &lt;div id=&quot;js_iframetest&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;
                            
                            
              &lt;div class=&quot;rich_media_extra rich_media_extra_discuss&quot; id=&quot;js_cmt_container&quot; style=&quot;display:none&quot;&gt;
                

                
                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_friend_cmt_area&quot; style=&quot;display:none&quot;&gt;
                  
                  
                  
                &lt;/div&gt;

                                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_cmt_area&quot; style=&quot;display:none&quot;&gt;
                &lt;/div&gt;
                              &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        
        &lt;div id=&quot;js_pc_qr_code&quot; class=&quot;qr_code_pc_outer&quot; style=&quot;display:none;&quot;&gt;
            &lt;div class=&quot;qr_code_pc_inner&quot;&gt;
                &lt;div class=&quot;qr_code_pc&quot;&gt;
                    &lt;img id=&quot;js_pc_qr_code_img&quot; class=&quot;qr_code_pc_img&quot;&gt;
                    &lt;p&gt;微信扫一扫&lt;br&gt;关注该公众号&lt;/p&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;</description>
<author>张瀚升（译）</author>
<guid isPermaLink="false">2019-01-23-1000000092</guid>
<pubDate>Wed, 23 Jan 2019 00:00:00 +0800</pubDate>
</item>
<item>
<title>黄金避险有效？量化实测黄金资产与A股轮动真实收益</title>
<link>https://henix.github.io/feeds/weixin.sogou.JoinQuant-jx/2019-01-21-1000000091.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?timestamp=1548303572&amp;amp;src=3&amp;amp;ver=1&amp;amp;signature=SlGAs0tUtyjPK5B5ILqEBbDaeuxqfhEqIaxTj8NVG0vxKEW7RGCZsxViZqsaSRafz8OS*KAWo4NpiBJDOx0PXm2ZNfOJlwIrhqYcn7BkiJtuXO*wAylheZSOeKlRPEtJLN3IwbLZI8oF2kTRz37k67yp784CvPON9uUpeANrFUA=&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;div id=&quot;js_top_ad_area&quot; class=&quot;top_banner&quot;&gt;&lt;/div&gt;&lt;div class=&quot;rich_media_inner&quot;&gt;

        
        
        &lt;div id=&quot;page-content&quot; class=&quot;rich_media_area_primary&quot;&gt;
          &lt;div class=&quot;rich_media_area_primary_inner&quot;&gt;
                                    
                        

            &lt;div id=&quot;img-content&quot;&gt;

                
                &lt;h2 class=&quot;rich_media_title&quot; id=&quot;activity-name&quot;&gt;
                    
                    
                    黄金避险有效？量化实测黄金资产与A股轮动真实收益

                                                                                &lt;/h2&gt;
                &lt;div id=&quot;meta_content&quot; class=&quot;rich_media_meta_list&quot;&gt;
                                                            &lt;span id=&quot;copyright_logo&quot; class=&quot;rich_media_meta rich_media_meta_text meta_tag_text&quot;&gt;原创：&lt;/span&gt;
                                                            &lt;span class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;
                                                张绍勇
                                            &lt;/span&gt;
                                        
                                        &lt;span class=&quot;rich_media_meta rich_media_meta_nickname&quot; id=&quot;profileBt&quot;&gt;
                      &lt;a href=&quot;javascript:void(0);&quot; id=&quot;js_name&quot;&gt;
                        聚宽量化实验室                      &lt;/a&gt;
                      &lt;div id=&quot;js_profile_qrcode&quot; class=&quot;profile_container&quot; style=&quot;display:none;&quot;&gt;
                          &lt;div class=&quot;profile_inner&quot;&gt;
                              &lt;strong class=&quot;profile_nickname&quot;&gt;聚宽量化实验室&lt;/strong&gt;
                              &lt;img class=&quot;profile_avatar&quot; id=&quot;js_profile_qrcode_img&quot; src=&quot;&quot; alt=&quot;&quot;&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;微信号&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;JoinQuant-jx&lt;/span&gt;
                              &lt;/p&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;功能介绍&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;用数学+编程，驾驭金融市场波动。 汇集最优质量化投资模型，和最勤奋聪明的大脑。&lt;/span&gt;
                              &lt;/p&gt;
                              
                          &lt;/div&gt;
                          &lt;span class=&quot;profile_arrow_wrp&quot; id=&quot;js_profile_arrow_wrp&quot;&gt;
                              &lt;i class=&quot;profile_arrow arrow_out&quot;&gt;&lt;/i&gt;
                              &lt;i class=&quot;profile_arrow arrow_in&quot;&gt;&lt;/i&gt;
                          &lt;/span&gt;
                      &lt;/div&gt;
                    &lt;/span&gt;


                    &lt;em id=&quot;publish_time&quot; class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;&lt;/em&gt;





                &lt;/div&gt;
                
                
                
                
                                                
                                                                
                                
                
                &lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    

                    
                    
                    &lt;p&gt;&lt;strong style=&quot;text-align: center;white-space: normal;&quot;&gt;&lt;img class=&quot; __bg_gif&quot; data-backh=&quot;124&quot; data-backw=&quot;558&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_gif/ZZTd2u8ycXibDM6MY1CKPZH6IwxyWUeKlfbgiahCVnsEygjPWkwGczyGemVPbTZHg6blIUyPIashqscFCtHia13mQ/640&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.2222222222222222&quot; data-type=&quot;gif&quot; data-w=&quot;900&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/ZZTd2u8ycXibDM6MY1CKPZH6IwxyWUeKlfbgiahCVnsEygjPWkwGczyGemVPbTZHg6blIUyPIashqscFCtHia13mQ/640?&quot; style=&quot;box-sizing: border-box !important;overflow-wrap: break-word !important;width: 542.188px !important;visibility: visible !important;&quot;&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　通过持有黄金避险，是长期以来资产配置领域的话题。有古话&lt;strong&gt;“盛世藏古董，乱世藏黄金”&lt;/strong&gt;就是说明这个道理，国际经济环境中，投资者一般都认同：一旦经济进入低迷期，股票、房地产、原油、期货等大宗商品等财富形式呈现大幅缩水，此时买入黄金很有必要。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　虽然黄金自身的使用价值已经越来越小，且黄金的国际储藏的货币属性已经黯然失色，但黄金作为保值避险资产功能依然受到市场青睐。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.6719242902208202&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRUauGNs7Y0fzSQIOLba8hy4cF2jY7Z9PVyjJicpz7A3JdNd2KToM6Er2PPdS4JF3yPe4NP1iabRhOQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;634&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　今天我们带着疑问和假设，通过聚宽平台取一些资产数据，试图分析黄金的避险价值。历史上金的最高价格出现在11年，其中在11年9月份国际金价达到1922美元一盎司，然后价格开始回落一蹶不振，所以很多人担心黄金已经失去贮存价值和保值能力。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　但是在关键时间点上，以国内资产为例，&lt;strong&gt;黄金能否对冲国内股票资产下跌风险？&lt;/strong&gt;这也是今天我们要关注的问题。除了静态持有黄金和股票之外，我们甚至想到了，能否在股票空仓期，买入黄金，带来更好的收益增强。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2 mpa-is-content=&quot;t&quot; style=&quot;margin: 5px;padding-right: 10px;padding-left: 10px;font-weight: bold;white-space: normal;max-width: 100%;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);border-left: 5px solid rgb(54, 116, 201);line-height: 32px;color: rgb(54, 116, 201);border-top-color: rgb(54, 116, 201);border-bottom-color: rgb(54, 116, 201);border-right-color: rgb(54, 116, 201);box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;一&lt;/strong&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;、静态持有黄金收益&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;&lt;br&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　因为国内黄金期货上市时间较短，和纽约CMX不同（CMX金通过文华财经等软件可以取到1987年的数据），我们的黄金期货于2008年初上市。&lt;/p&gt;&lt;p&gt; &lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.48081841432225064&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRUauGNs7Y0fzSQIOLba8hyNekko5GymygoKlARDTmn03CJic1Yjln1IQfGx6HbgDRuuGDXwpyBb7w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1564&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　通过&lt;strong&gt;简单的一行代码&lt;/strong&gt;，即可在聚宽平台调取上海期货交易所的黄金期货价格，这里我们选择AU8888指数合约进行展示，获取过去3000个交易日的close收盘价字段，足矣覆盖2008年初时间段。&lt;/p&gt;&lt;p&gt; &lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.31432360742705573&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRUauGNs7Y0fzSQIOLba8hyAwa7icNglKSgbs8XeOInYPELG7FwSmWgZmY6Rib0utVZXMDD3M2kbJDA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;754&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;然后绘图观察结果如下：&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.32154882154882153&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRUauGNs7Y0fzSQIOLba8hyBu4FUTtia1HvN07S4nddRaarEWAaiaw6J9brTD63nEDKQaXicHr3m8SGw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;594&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.5447698744769874&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRUauGNs7Y0fzSQIOLba8hyiaay7rdUibFX8PHhZ0PCI7YdCVZ4pCmthCFuG3ZXFsJJSGc1C0pOw9bQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1195&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　如果从黄金上市开始，我们就持有黄金，收益如何？这需要对数据做净值化处理，得到结论如下：&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.3700384122919334&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRUauGNs7Y0fzSQIOLba8hyWAZWeh8aPLib5nrkhmLmtxvajiaYIRNcybibeiclVuLjGFic1ePzLwNj4ng/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;781&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.49942857142857144&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRUauGNs7Y0fzSQIOLba8hyDiamEyX7OgibVmN7M7KKJYQjib0ThkPSomBiczMtH4p5t28KrSUHm2Lsiaw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;875&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　果然如我们所预料，&lt;strong&gt;黄金资产比起股票资产，还是要保值很多的&lt;/strong&gt;。虽然是期货价格，但是以不加杠杆的形式，持有和账户价值相等的期货价值多单，就等价于持有现货资产。持有黄金带来了大概1.3倍左右的收益，持有沪深300指数，即使是通过ETF追踪，也仅能获得不足0.6倍收益，这种持有方式不仅亏损，回撤还比较严重。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2 mpa-is-content=&quot;t&quot; style=&quot;margin: 5px;padding-right: 10px;padding-left: 10px;font-weight: bold;white-space: normal;max-width: 100%;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);border-left: 5px solid rgb(54, 116, 201);line-height: 32px;color: rgb(54, 116, 201);border-top-color: rgb(54, 116, 201);border-bottom-color: rgb(54, 116, 201);border-right-color: rgb(54, 116, 201);box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;二&lt;/strong&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;、黄金和主要大类资产长期相关性&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　黄金具有天然的避险属性，其价格走势跟市场的避险情绪正相关。自从1974年开始，黄金和美国十年期国债之间的65日移动相关曲线平均值为0，也就是说，&lt;strong&gt;通常这二者没有任何相关性&lt;/strong&gt;。&lt;/p&gt;&lt;p&gt; &lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.5089605734767025&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRUauGNs7Y0fzSQIOLba8hyXR20yLfQ9EDoVhk5RKLibUvTDYs86fialqyxE7k9CSibbdDUlls252icaA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;558&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　美国10年期通胀保值债券（TIPS）的收益率就是长期国债收益率扣除通胀预期后的值，是长期实际利率水平的一个度量。黄金价格与长期实际利率的负相关关系非常明显。这种负相关关系并不难理解：当实际利率较低时，代表经济情况较弱，市场有避险需求，&lt;strong&gt;有利于金价的上涨&lt;/strong&gt;；当实际利率较高时，代表经济环境不错，&lt;strong&gt;风险偏好提升就不利于黄金价格&lt;/strong&gt;。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　针对黄金这种金融资产配置中的重要大类资产，聚宽之前也做过一些研究，其中&lt;a href=&quot;http://mp.weixin.qq.com/s?__biz=MzI0MjE2MjE2MA==&amp;amp;mid=2716577672&amp;amp;idx=1&amp;amp;sn=b01a8112339fc6280c6dac321ad66af1&amp;amp;chksm=cd1f8f17fa680601d2905419589b851412d80ee4bb8653183db3841f118f3b0ee44c1caca351&amp;amp;scene=21#wechat_redirect&quot; target=&quot;_blank&quot; data-linktype=&quot;2&quot;&gt;《主成分风险平价PCRP模型》&lt;/a&gt;中，我们做了一些资产收益率和相关性测试如下：&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　沪深300、中证500、恒生指数、标普500、纳斯达克指数、富时100、法国CAC50、德国DAX、日经225、上证5年国债、上证企债、中信沪金商品指数、布伦特原油等多种类资产，涵盖全球主要股票市场、国内债券、国内外商品等。选取2009年1月至2018年9月期间上述指数的收盘价数据，并统一以A股市场交易日为准。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.7465277777777778&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRUauGNs7Y0fzSQIOLba8hyuBAG24dYMPFrnSY1lpW8NebxSqYQ8R7nNrZ0ToFSazOI24LPXUbnsA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;864&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　可以看到黄金和几个股票指数的相关性，&lt;strong&gt;集中在正负0.04左右&lt;/strong&gt;，可谓是非常低的相关性了，当然也没有体现出显著负相关，这是略微有点遗憾的。债券和原油，和黄金的相关性也比较低，所以在整体资产配置中，黄金是有一定价值的。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.555045871559633&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRUauGNs7Y0fzSQIOLba8hyicCujD5oCSs7RtUcZlY8Uwn6hhWetASmU69fLibDLhtbuZsteic8t9dYg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;872&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　通过&lt;strong&gt;完全数理推算的Risk Parity（风险平价）模型资产权重图&lt;/strong&gt;可以看到，以波动率和相关性进行分析，黄金和几大类资产，在一个等风险贡献的测试中，依然可以拥有大概超过5%的配置权重（最顶部的红色区域，长期被组合所配置），在债券称王的资产配置模型中，黄金能够取得稳定权重，&lt;strong&gt;这样的表现非常不错&lt;/strong&gt;。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　我们还可以发现，在Risk Parity（风险平价）模型中，几个主要国家股票指数配置份额之和，大概才能和黄金等价。说明了黄金资产的稀缺性。很难想象我们大部分交易者，之前主要都是以交易或持有股票ETF基金为主。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2 mpa-is-content=&quot;t&quot; style=&quot;margin: 5px;padding-right: 10px;padding-left: 10px;font-weight: bold;white-space: normal;max-width: 100%;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);border-left: 5px solid rgb(54, 116, 201);line-height: 32px;color: rgb(54, 116, 201);border-top-color: rgb(54, 116, 201);border-bottom-color: rgb(54, 116, 201);border-right-color: rgb(54, 116, 201);box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;三、黄金与A股，择时持有，是否有超额收益&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;&lt;br&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　我们撰写了一个简单的A股择时与选股模型。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　选股逻辑是使用PB_ROE指标，试图选择到ROE较高，且PB较低的股票，该因子是众多基本面因子中较为简单有效的，也是有足够经济学意义支撑的。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　择时逻辑是光大证券提出的&lt;strong&gt;比较经典和稳定的日频RSRS系统&lt;/strong&gt;，通过对高低点做线性回归，得到beta，然后对beta做布林带突破交易，实际上是对上波动和下波动进行趋势交易。&lt;/p&gt;&lt;p&gt; &lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.33480176211453744&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRUauGNs7Y0fzSQIOLba8hyybkicSPAAnYPZiaTsF1goQb6UKVQSrE4pl428Y7uHDblnN9JKfn3vQsw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1135&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;上图是RSRS系统空仓期，持有黄金ETF的绩效&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.32717678100263853&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRUauGNs7Y0fzSQIOLba8hycpB8Af50h6OqVIytKswul4KWwMz1ylHicq6n7coicTBgzMjU94IrZApA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1137&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;上图是RSRS系统在空仓期，持有现金（什么都不做）的绩效&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　&lt;strong&gt;是不是有点出乎所有人意料？&lt;/strong&gt;我们如果在卖出股票之后，将所有现金换为黄金ETF，是A股场内最大的一只ETF基金，并没有显著收益提升，甚至还有收益下降（从357%下降到352%），夏普比率也随之下降。这说明两个问题：&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　A、RSRS系统的择时已经足够精准，或者说RSRS系统对于大盘高低点的判断还算理想，已经回避了较大的下跌。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　B、RSRS系统要求空仓的时间段，是股票下跌的时间段，但是并非是黄金上涨的时间段，黄金和股票体现出了低相关，并不是负相关（敲黑板：这里很重要）。所以应该寻找和A股更多负相关的资产，比如说我们测试了纳指ETF基金，追踪纳斯达克指数。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.32863436123348017&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRUauGNs7Y0fzSQIOLba8hyerbHTtFIV5gxawXdoATk0xUaQVQR13tTicEQMlibxRkLAhGCPNnkSeOg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1135&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　在历史上几个&lt;strong&gt;A股停滞不前的阶段，美股都高歌猛进&lt;/strong&gt;，说明了短期金融资本在两国股市之间的资金互相抽离是比较明显的，特别是2018年，当A股下跌时候，通过全力做多美股，可以带来较好收益，但是也应该意识到，纳指ETF毕竟是股票型指数，不是无风险收益的避险资产，所以回撤较大，且未来充满不确定性。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;　　&lt;/strong&gt;&lt;/p&gt;&lt;h2 mpa-is-content=&quot;t&quot; style=&quot;margin: 5px;padding-right: 10px;padding-left: 10px;font-weight: bold;white-space: normal;max-width: 100%;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);border-left: 5px solid rgb(54, 116, 201);line-height: 32px;color: rgb(54, 116, 201);border-top-color: rgb(54, 116, 201);border-bottom-color: rgb(54, 116, 201);border-right-color: rgb(54, 116, 201);box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;总结：黄金谨慎择时，积极配置&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　总而言之，黄金作为一种优秀的特殊金融资产，近几年来表现只能说差强人意。&lt;strong&gt;对于操作避险情绪，投资者们需要更为清醒的头脑，因为黄金价格本身也是波动的，也有持有风险&lt;/strong&gt;。除非经济危机的破坏程度超乎预期，否则，黄金方面也很难有太多的价格支持。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　实际上各类金融研究已经发现了黄金的这个缺陷，在金本位之后，通货膨胀将不可避免地吞噬掉的财富，黄金赶不上通胀。事实上，黄金退出流通之后，它除了作为装饰品之外，几乎没有其他作用。但是这并不妨碍我们积极配资这种资产，来平衡其他资产的波动率。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　股神巴菲特在2009年谈到：从现在直到将来，黄金对你什么用也没有，只不过你看着它它看着你罢了，就像是一只不会下蛋的母鸡，只会坐在那里，还要不停地吃东西，黄金需要保险费用、保管费用等等。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.5269286754002911&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQT2OZszZGhOfeR66gG5eFY0mEaoyvOtGXdh06xCjPib9eQHdjhIjqQuc1XN7ffsgs4EicKuwibemzvxA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;687&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.6241900647948164&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQT2OZszZGhOfeR66gG5eFY0vc9nJEMPBCATnvUQ2GgmiaiapBDr0N7yGD8YY6qO0Pa4XubAzDZmezEw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;926&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　但是我们通过观察黄金ETF的成交量发现，它在近几年显著放大，这说明了国内金融市场投资者越来越清醒地发现，需要进行多资产配置才能有效控制市场风险，&lt;strong&gt;而黄金和各类资产的低相关性，虽然难以通过择时切换持有，却为配置打下基础&lt;/strong&gt;。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　点击&lt;span style=&quot;color: rgb(255, 41, 65);&quot;&gt;阅读原文&lt;/span&gt;，进入本文所涉及到的RSRS择时股指与黄金模型。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);text-align: center;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;img class=&quot; __bg_gif&quot; data-backh=&quot;556&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/zEy1aCmAZQRLdpTXYOswDgyjlZMzJr3YZQFNaDd3pIAtWRVkFJSK7ezf2iafDzabFgIqzSNXRlvT8slRNWCZhiaA/0?wx_fmt=jpeg&quot; data-copyright=&quot;0&quot; data-cropselx1=&quot;12&quot; data-cropselx2=&quot;351&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;339&quot; data-ratio=&quot;0.9344444444444444&quot; data-s=&quot;300,640&quot; data-type=&quot;gif&quot; data-w=&quot;900&quot; height=&quot;542&quot; width=&quot;694&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/zEy1aCmAZQS5mRKwGwhQpWA8wKXpKTbcUwUgKuqM0OADcR1IT2z0AhW2eQMyibaV77UibB4V0XKCAengxnHYRz9w/640?wx_fmt=gif&quot; style=&quot;width: 528.047px;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible !important;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;margin-right: 8px;margin-left: 8px;white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);text-align: center;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;max-width: 100%;color: inherit;font-family: inherit;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;欢迎关注&lt;/span&gt;&lt;span style=&quot;max-width: 100%;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;max-width: 100%;color: inherit;font-family: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;『&lt;/span&gt;&lt;strong style=&quot;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;聚宽量化实验室&lt;/strong&gt;&lt;span style=&quot;max-width: 100%;color: inherit;font-family: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;』&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;
                &lt;/div&gt;
                &lt;script nonce=&quot;1953820690&quot; type=&quot;text/javascript&quot;&gt;
                    var first_sceen__time = (+new Date());

                    if (&quot;&quot; == 1 &amp;&amp; document.getElementById(&#39;js_content&#39;)) {
                        document.getElementById(&#39;js_content&#39;).addEventListener(&quot;selectstart&quot;,function(e){ e.preventDefault(); });
                    }

                    
                    (function(){
                        if (navigator.userAgent.indexOf(&quot;WindowsWechat&quot;) != -1){
                            var link = document.createElement(&#39;link&#39;);
                            var head = document.getElementsByTagName(&#39;head&#39;)[0];
                            link.rel = &#39;stylesheet&#39;;
                            link.type = &#39;text/css&#39;;
                            link.href = &quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/winwx435ee6.css&quot;;
                            head.appendChild(link);
                        }
                    })();
                &lt;/script&gt;

                
                &lt;div class=&quot;ct_mpda_wrp&quot; id=&quot;js_sponsor_ad_area&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;
                
                
                &lt;div class=&quot;read-more__area&quot; id=&quot;js_more_read_area&quot; style=&quot;display:none;&quot;&gt;
                    
                &lt;/div&gt;

                
                                &lt;div class=&quot;reward_area tc reward_area_primary&quot; id=&quot;js_preview_reward_author&quot; style=&quot;display:none;&quot;&gt;
                    &lt;div class=&quot;reward-avatar&quot; style=&quot;display: none;&quot; id=&quot;js_preview_reward_author_avatar&quot;&gt;
                        &lt;img src=&quot;&quot; alt=&quot;&quot; id=&quot;js_preview_reward_author_head&quot;&gt;
                    &lt;/div&gt;
                    
                                        &lt;div class=&quot;reward-author&quot; id=&quot;js_preview_reward_author_name&quot;&gt;张绍勇&lt;/div&gt;
                                        &lt;p class=&quot;reward_tips&quot; id=&quot;js_preview_reward_author_wording&quot; style=&quot;display:none;&quot;&gt;&lt;/p&gt;
                    &lt;p&gt;
                        &lt;a class=&quot;reward_button&quot; id=&quot;js_preview_reward_author_link&quot; href=&quot;##&quot;&gt;&lt;span id=&quot;js_preview_reward_link_text&quot;&gt;赞赏&lt;/span&gt;&lt;/a&gt;
                    &lt;/p&gt;
                &lt;/div&gt;

                &lt;div class=&quot;reward_qrcode_area reward_area tc&quot; id=&quot;js_preview_reward_qrcode&quot; style=&quot;display:none;&quot;&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;长按二维码向我转账&lt;/p&gt;
                    &lt;p id=&quot;js_preview_reward_ios_wording&quot; class=&quot;reward_tips&quot; style=&quot;display:none;&quot;&gt;&lt;/p&gt;
                    &lt;span class=&quot;reward_qrcode_img_wrp&quot;&gt;&lt;img class=&quot;reward_qrcode_img&quot; src=&quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_reward_qrcode.2x42f400.png&quot;&gt;&lt;/span&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;受苹果公司新规定影响，微信 iOS 版的赞赏功能被关闭，可通过二维码转账支持公众号。&lt;/p&gt;
                &lt;/div&gt;
                                
                
                            &lt;/div&gt;
                                    
                        


                        
            &lt;ul id=&quot;js_hotspot_area&quot; class=&quot;article_extend_area&quot;&gt;&lt;/ul&gt;


            

            


&lt;div class=&quot;rich_media_tool&quot; id=&quot;js_toobar3&quot;&gt;

        &lt;a class=&quot;media_tool_meta meta_primary&quot; id=&quot;js_view_source&quot; href=&quot;##&quot;&gt;阅读原文&lt;/a&gt;
        &lt;div id=&quot;js_read_area3&quot; class=&quot;media_tool_meta tips_global_primary meta_primary&quot; style=&quot;display:none;&quot;&gt;阅读 &lt;span id=&quot;readNum3&quot;&gt;&lt;/span&gt;&lt;/div&gt;

    &lt;span style=&quot;display:none;&quot; class=&quot;media_tool_meta meta_extra meta_praise&quot; id=&quot;like_old&quot;&gt;
        &lt;i class=&quot;icon_praise_gray&quot;&gt;&lt;/i&gt;&lt;span class=&quot;praise_num&quot; id=&quot;likeNum_old&quot;&gt;&lt;/span&gt;
    &lt;/span&gt;

    &lt;span style=&quot;display:none;&quot; class=&quot;media_tool_meta meta_extra meta_like&quot; id=&quot;like3&quot;&gt;
        &lt;button class=&quot;like_btn&quot; id=&quot;js_like_btn&quot;&gt; 
          好看&lt;span class=&quot;like_num&quot; id=&quot;likeNum3&quot;&gt;&lt;/span&gt;
        &lt;/button&gt;
    &lt;/span&gt;

    &lt;div id=&quot;js_like_educate&quot; style=&quot;display:none&quot;&gt;
        &lt;div class=&quot;weui-mask&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;weui-dialog weui-dialog_haokan&quot;&gt;
        &lt;div class=&quot;weui-dialog__hd&quot;&gt;&lt;strong class=&quot;weui-dialog__title&quot; id=&quot;educate_title&quot;&gt;已推荐到看一看&lt;/strong&gt;&lt;/div&gt;
        &lt;div class=&quot;weui-dialog__bd&quot;&gt;
          &lt;img class=&quot;pic_haokan&quot; src=&quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_haokan42f400.png&quot;&gt;
            你的朋友可以在“发现”-“看一看”看到你认为好看的文章。        &lt;/div&gt;
        &lt;div class=&quot;weui-dialog__ft&quot; id=&quot;educate_btn&quot; style=&quot;display: none&quot;&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_default&quot; id=&quot;js_cancel&quot;&gt;取消&lt;/a&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_confirm&quot;&gt;推荐&lt;/a&gt;
        &lt;/div&gt;
        &lt;div class=&quot;weui-dialog__ft&quot; id=&quot;educate_btn2&quot; style=&quot;display: none&quot;&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_acknowledge&quot;&gt;我知道了&lt;/a&gt;
        &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;div id=&quot;js_unlike_educate&quot; style=&quot;display:none&quot;&gt;
        &lt;div class=&quot;weui-mask&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;weui-dialog&quot;&gt;
        
        &lt;div class=&quot;weui-dialog__bd&quot;&gt;
            已取消，“好看”想法已同步删除        &lt;/div&gt;
        &lt;div class=&quot;weui-dialog__ft&quot;&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_unlike_know&quot;&gt;知道了&lt;/a&gt;
        &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    
    &lt;/div&gt;


&lt;div class=&quot;like_comment_wrp&quot; id=&quot;js_a_like_comment&quot; style=&quot;display: none;&quot;&gt;
  &lt;div class=&quot;like_comment_inner&quot;&gt;
    &lt;div class=&quot;like_comment_hd&quot; style=&quot;display:none&quot; id=&quot;js_like_title&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;like_comment_bd&quot;&gt;
      &lt;div class=&quot;tips_global_primary like_comment_tips&quot;&gt;
        &lt;i class=&quot;weui-icon-success&quot;&gt;&lt;/i&gt;已推荐到看一看&lt;a href=&quot;javascript:;&quot; class=&quot;like_comment_share_link&quot; id=&quot;js_a_like_comment_share&quot;&gt;和朋友分享想法&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;like_comment_ft&quot;&gt;
      &lt;span id=&quot;js_a_like_comment_msg&quot; class=&quot;like_comment_msg&quot; style=&quot;visibility:hidden&quot;&gt;最多200字，当前共&lt;span id=&quot;js_a_like_current_cnt&quot;&gt;&lt;/span&gt;字&lt;/span&gt;
      &lt;button class=&quot;like_comment_btn&quot; disabled id=&quot;js_a_like_confirm&quot;&gt;发送&lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;div id=&quot;js_like_toast&quot; style=&quot;display: none;&quot;&gt;
  &lt;div class=&quot;weui-mask_transparent&quot;&gt;&lt;/div&gt;
  &lt;div class=&quot;weui-toast&quot;&gt;
    &lt;i class=&quot;weui-icon-success-no-circle weui-icon_toast&quot;&gt;&lt;/i&gt;
    &lt;p class=&quot;weui-toast__content&quot; id=&quot;js_toast_msg&quot;&gt;已发送&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;


&lt;div style=&quot;display: none;&quot; id=&quot;js_b_comment_panel&quot; class=&quot;like_comment_primary_pop&quot;&gt;
  &lt;div class=&quot;like_comment_primary_wrp&quot; id=&quot;js_b_wrp&quot;&gt;
    &lt;div class=&quot;like_comment_primary_inner&quot;&gt;
      &lt;div class=&quot;like_comment_primary_hd&quot;&gt;
        &lt;h4 class=&quot;like_comment_primary_title&quot;&gt;
          朋友将在看一看看到        &lt;/h4&gt;
        &lt;button id=&quot;js_b_like_confirm&quot; class=&quot;like_comment_primary_btn&quot;&gt;确定&lt;/button&gt;
      &lt;/div&gt;
      &lt;div id=&quot;js_b_comment_text_first&quot; class=&quot;like_comment_primary_bd&quot;&gt;
        &lt;span class=&quot;tips_global_primary&quot;&gt;
          分享你的想法...        &lt;/span&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;like_comment_primary_mask&quot; id=&quot;js_mask_1&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div style=&quot;display: none;&quot; id=&quot;js_b_comment_final&quot;&gt;
  &lt;div class=&quot;like_comment_primary_wrp editing&quot; id=&quot;js_comment_wrp&quot;&gt;
    &lt;div class=&quot;like_comment_primary_inner&quot;&gt;
      &lt;div class=&quot;like_comment_primary_hd&quot;&gt;
        &lt;button class=&quot;like_comment_primary_cancel&quot; id=&quot;js_b_comment_cancel&quot;&gt;取消&lt;/button&gt;
        &lt;h4 class=&quot;like_comment_primary_title&quot;&gt; 分享想法到看一看 &lt;/h4&gt;
        &lt;button class=&quot;like_comment_primary_btn&quot; id=&quot;js_b_comment_confirm&quot;&gt;确定&lt;/button&gt;
      &lt;/div&gt;
      &lt;div class=&quot;like_comment_primary_bd&quot;&gt;
        &lt;textarea class=&quot;like_comment_textarea weui-textarea&quot; placeholder=&quot;分享你的想法...&quot; id=&quot;js_b_comment_text_second&quot;&gt;&lt;/textarea&gt;
      &lt;/div&gt;
      &lt;span class=&quot;like_comment_msg&quot; id=&quot;js_b_like_comment_msg&quot; style=&quot;visibility: hidden;&quot;&gt;最多200字，当前共&lt;span id=&quot;js_b_like_current_cnt&quot;&gt;&lt;/span&gt;字&lt;/span&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;like_comment_primary_mask&quot; id=&quot;js_mask_2&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div id=&quot;js_loading&quot; style=&quot; display: none;&quot;&gt;
    &lt;div class=&quot;weui-mask_transparent&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;weui-toast&quot;&gt;
        &lt;i class=&quot;weui-loading weui-icon_toast&quot;&gt;&lt;/i&gt;
        &lt;p class=&quot;weui-toast__content&quot;&gt;发送中&lt;/p&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div id=&quot;js_fail&quot; style=&quot;display:none&quot;&gt;
    &lt;div class=&quot;weui-mask&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;weui-dialog&quot;&gt;
    &lt;div class=&quot;weui-dialog__bd&quot;&gt;
        网络异常，请稍后重试    &lt;/div&gt;
    &lt;div class=&quot;weui-dialog__ft&quot;&gt;
      &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_fail_inform&quot;&gt;知道了&lt;/a&gt;
    &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;



                        &lt;div class=&quot;rich_media_tool&quot; id=&quot;js_sg_bar&quot;&gt;

                                &lt;a class=&quot;media_tool_meta meta_primary&quot; href=&quot;https://www.joinquant.com/post/16353&quot; target=&quot;_blank&quot;&gt;阅读原文&lt;/a&gt;
                                
            &lt;/div&gt;
                      &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class=&quot;rich_media_area_primary sougou&quot; id=&quot;sg_tj&quot; style=&quot;display:none&quot;&gt;&lt;/div&gt;


        
        &lt;div class=&quot;rich_media_area_extra&quot;&gt;
          &lt;div class=&quot;rich_media_area_extra_inner&quot;&gt;
              
              &lt;div id=&quot;js_share_appmsg&quot;&gt;
              &lt;/div&gt;

              
                            &lt;div class=&quot;mpda_bottom_container&quot; id=&quot;js_bottom_ad_area&quot;&gt;&lt;/div&gt;
                            
              &lt;div id=&quot;js_iframetest&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;
                            
                            
              &lt;div class=&quot;rich_media_extra rich_media_extra_discuss&quot; id=&quot;js_cmt_container&quot; style=&quot;display:none&quot;&gt;
                

                
                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_friend_cmt_area&quot; style=&quot;display:none&quot;&gt;
                  
                  
                  
                &lt;/div&gt;

                                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_cmt_area&quot; style=&quot;display:none&quot;&gt;
                &lt;/div&gt;
                              &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        
        &lt;div id=&quot;js_pc_qr_code&quot; class=&quot;qr_code_pc_outer&quot; style=&quot;display:none;&quot;&gt;
            &lt;div class=&quot;qr_code_pc_inner&quot;&gt;
                &lt;div class=&quot;qr_code_pc&quot;&gt;
                    &lt;img id=&quot;js_pc_qr_code_img&quot; class=&quot;qr_code_pc_img&quot;&gt;
                    &lt;p&gt;微信扫一扫&lt;br&gt;关注该公众号&lt;/p&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;</description>
<author>张绍勇</author>
<guid isPermaLink="false">2019-01-21-1000000091</guid>
<pubDate>Mon, 21 Jan 2019 00:00:00 +0800</pubDate>
</item>
<item>
<title>怀念ETF之父约翰•博格 揭开ETF低费率与全球规模扩张之谜</title>
<link>https://henix.github.io/feeds/weixin.sogou.JoinQuant-jx/2019-01-17-1000000090.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?timestamp=1548303572&amp;amp;src=3&amp;amp;ver=1&amp;amp;signature=SlGAs0tUtyjPK5B5ILqEBbDaeuxqfhEqIaxTj8NVG0vxKEW7RGCZsxViZqsaSRafz8OS*KAWo4NpiBJDOx0PXl6LBAIaGo2FtE5Kocsd7kywyHhq*A2o9N6BCYIbfN1TNa-3q0cpRRPm2aQOY5fLzLAOcyCuUH9VIzPpGMjKPWw=&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;div id=&quot;js_top_ad_area&quot; class=&quot;top_banner&quot;&gt;&lt;/div&gt;&lt;div class=&quot;rich_media_inner&quot;&gt;

        
        
        &lt;div id=&quot;page-content&quot; class=&quot;rich_media_area_primary&quot;&gt;
          &lt;div class=&quot;rich_media_area_primary_inner&quot;&gt;
                                    
                        

            &lt;div id=&quot;img-content&quot;&gt;

                
                &lt;h2 class=&quot;rich_media_title&quot; id=&quot;activity-name&quot;&gt;
                    
                    
                    怀念ETF之父约翰•博格 揭开ETF低费率与全球规模扩张之谜

                                                                                &lt;/h2&gt;
                &lt;div id=&quot;meta_content&quot; class=&quot;rich_media_meta_list&quot;&gt;
                                                            &lt;span id=&quot;copyright_logo&quot; class=&quot;rich_media_meta rich_media_meta_text meta_tag_text&quot;&gt;原创：&lt;/span&gt;
                                                            &lt;span class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;
                                                聚宽社区
                                            &lt;/span&gt;
                                        
                                        &lt;span class=&quot;rich_media_meta rich_media_meta_nickname&quot; id=&quot;profileBt&quot;&gt;
                      &lt;a href=&quot;javascript:void(0);&quot; id=&quot;js_name&quot;&gt;
                        聚宽量化实验室                      &lt;/a&gt;
                      &lt;div id=&quot;js_profile_qrcode&quot; class=&quot;profile_container&quot; style=&quot;display:none;&quot;&gt;
                          &lt;div class=&quot;profile_inner&quot;&gt;
                              &lt;strong class=&quot;profile_nickname&quot;&gt;聚宽量化实验室&lt;/strong&gt;
                              &lt;img class=&quot;profile_avatar&quot; id=&quot;js_profile_qrcode_img&quot; src=&quot;&quot; alt=&quot;&quot;&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;微信号&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;JoinQuant-jx&lt;/span&gt;
                              &lt;/p&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;功能介绍&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;用数学+编程，驾驭金融市场波动。 汇集最优质量化投资模型，和最勤奋聪明的大脑。&lt;/span&gt;
                              &lt;/p&gt;
                              
                          &lt;/div&gt;
                          &lt;span class=&quot;profile_arrow_wrp&quot; id=&quot;js_profile_arrow_wrp&quot;&gt;
                              &lt;i class=&quot;profile_arrow arrow_out&quot;&gt;&lt;/i&gt;
                              &lt;i class=&quot;profile_arrow arrow_in&quot;&gt;&lt;/i&gt;
                          &lt;/span&gt;
                      &lt;/div&gt;
                    &lt;/span&gt;


                    &lt;em id=&quot;publish_time&quot; class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;&lt;/em&gt;





                &lt;/div&gt;
                
                
                
                
                                                
                                                                
                                
                
                &lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    

                    
                    
                    &lt;p style=&quot;text-align: center;&quot;&gt;&lt;strong style=&quot;text-align: center;white-space: normal;&quot;&gt;&lt;img class=&quot; __bg_gif&quot; data-backh=&quot;124&quot; data-backw=&quot;558&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_gif/ZZTd2u8ycXibDM6MY1CKPZH6IwxyWUeKlfbgiahCVnsEygjPWkwGczyGemVPbTZHg6blIUyPIashqscFCtHia13mQ/640&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.2222222222222222&quot; data-type=&quot;gif&quot; data-w=&quot;900&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/ZZTd2u8ycXibDM6MY1CKPZH6IwxyWUeKlfbgiahCVnsEygjPWkwGczyGemVPbTZHg6blIUyPIashqscFCtHia13mQ/640?&quot; style=&quot;box-sizing: border-box !important;overflow-wrap: break-word !important;width: 542.188px !important;visibility: visible !important;&quot;&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　就在2019年1月16日，先锋集团创始人，&lt;strong&gt;指数基金之父约翰-伯格John Bogle&lt;/strong&gt;，于当地时间本周三去世，享年89岁。约翰博格先生创办了先锋基金，发行了世界上第一档指数型基金（后衍生成为ETF交易型开放式指数基金） ──Vanguard 500 Index Fund，他所倡导的指数基金投资原则给无数的中小投资者指明了方向。&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;1.1776061776061777&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRUauGNs7Y0fzSQIOLba8hyBiaSuyicXuAl8vruLvqLkibkMrlKgXqmdjRDHtzjnIu3libbdNblou5gmg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;259&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt; &lt;/p&gt;&lt;h2 mpa-is-content=&quot;t&quot; style=&quot;margin: 5px;padding-right: 10px;padding-left: 10px;font-weight: bold;white-space: normal;max-width: 100%;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);border-left: 5px solid rgb(54, 116, 201);line-height: 32px;color: rgb(54, 116, 201);border-top-color: rgb(54, 116, 201);border-bottom-color: rgb(54, 116, 201);border-right-color: rgb(54, 116, 201);box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;一、&lt;/strong&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;低成本——先锋集团ETF的投资杀器&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　约翰-伯格John Bogle先生的投资核心观点是为投资者提供被动追踪指数的低成本基金产品，&lt;strong&gt;他并非否认主动管理的价值&lt;/strong&gt;，但是在他看来，越来越成熟的金融市场，获取alpha超额收益的机会越低，因此要降低管理成本，&lt;strong&gt;把更多收益留给投资人&lt;/strong&gt;。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　“股神”巴菲特也始终推崇ETF投资，认为相比于对冲基金或其他复杂投资方式，ETF更适合一般投资者。从1993年到2008年，巴菲特多次公开推荐ETF，其中两次巴菲特明确推荐Vanguard旗下的指数基金。巴菲特在2003年致股东的信中说：“那些成本费率非常低的指数基金，在产品设计上是非常适合投资者的，我认为，对于大多数想要投资股票的人来说，成本费率低的指数基金是最理想的选择。”&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt; &lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;1&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRUauGNs7Y0fzSQIOLba8hy6gkAU0NJuSM5pmgRCTfKRgjvgahOwibB57XrHamoSUL8lBnqIpBeYwg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;354&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　Vanguard旗下产品的平均费率仅为0.11%，远低于晨星统计数据中的除Vanguard之外产品的平均费率0.62%。作为低成本投资的领导者，Vanguard集团于1976年在美国推出首只ETF，从而开创了低成本指数投资的新纪元；随后，Vanguard集团将指数投资的专长又扩展至ETF方面。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2 mpa-is-content=&quot;t&quot; style=&quot;margin: 5px;padding-right: 10px;padding-left: 10px;font-weight: bold;white-space: normal;max-width: 100%;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);border-left: 5px solid rgb(54, 116, 201);line-height: 32px;color: rgb(54, 116, 201);border-top-color: rgb(54, 116, 201);border-bottom-color: rgb(54, 116, 201);border-right-color: rgb(54, 116, 201);box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;二、&lt;/strong&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;ETF在中国和全球的发展现状&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;&lt;br&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　现在中国国内已有32家基金公司发行了170只左右ETF产品，规模达4500亿元。海证券交易所相关人士认为，与全球1400余只ETF、总规模4.7万亿美元相比，国内的规模仍很小，但发展空间广阔。他表示，未来将从多个方面推动ETF发展，包括加大产品创新、引入互联网交易平台来拓宽投资人基础等。创新方面将重点推动跨市场的ETF、绿色债ETF、国企改革ETF等。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt; &lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.45989304812834225&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRUauGNs7Y0fzSQIOLba8hyUGtEyY2P0FIAspP87CCmanTWCFQc8ra2b9DnGYrfj4VfMnSib09gfVg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;748&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　全球ETP市场（主要为ETF和少量的ETC、ETN产品）进一步发展壮大，ETP数量突破6354只，总规模达4.75万亿美元，实现了数量和规模的快速增长。自2008年以来，ETP连续10年持续实现资金净流入。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　其中2017年资金流入6330亿美元，相比2016年提高了67%，创造了年度资金流入新记录。这缘于ETP产品种类日益丰富，能够满足投资者多样化的投资需求。即使在避险的环境中，也会有固定收益、商品、黄金、大类资产配置以及低风险策略等大量的产品可供选择。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2 mpa-is-content=&quot;t&quot; style=&quot;margin: 5px;padding-right: 10px;padding-left: 10px;font-weight: bold;white-space: normal;max-width: 100%;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);border-left: 5px solid rgb(54, 116, 201);line-height: 32px;color: rgb(54, 116, 201);border-top-color: rgb(54, 116, 201);border-bottom-color: rgb(54, 116, 201);border-right-color: rgb(54, 116, 201);box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;三、&lt;/strong&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;ETF未来会进一步攻城略池吗？&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;&lt;br&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　值得一提的是，2018年虽然是权益市场灾年（特别是针对中国市场），但是ETF申购规模依然激增。因为从投资者类别来看，目前大额申购ETF的资金主要是一些相对长线的资金入市，如保险机构、FOF基金以及部分私募基金。同时，资金积极流入ETF是长期看多的信号，随着市场的持续下跌，部分指数的投资价值凸显，虽然短期内市场仍可能受到一些悲观情绪影响，但从中长期来看已经具备很高的配置价值。而且有机构分析了中国ETF的持有人，发现一个显著的变化是，在ETF投资中，个人投资者的比重大幅提升，说明我们的个人投资者也更加明智。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　这个结果给我们带来很多启示，那么在市场更加成熟的海外，情况如何？其实2018年初，世界上诞生的第一只ETF，也是目前世界上规模最大的ETF——SPDR标普500指数ETF资产管理规模已经超过3000亿美元的大关。1993年1月，其成立之日的资产规模仅为650万美元，25年间资产规模飙涨了4万多倍。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　翻阅美股近 200 年的历史，长期能持续战胜市场的投资经理几乎屈指可数。这里所说的市场，正是每个国家的股票交易市场所发布的综合指数。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.3861788617886179&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRUauGNs7Y0fzSQIOLba8hyicd1jfhyzfTo0KN61OLicFADIxPSlkvwLfY8UFY7Ejew1xLjKLEGLFbg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1230&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　在中国，最大的指数公司就是中证指数有限公司（China Securities Index Co.,Ltd），它通过固定而严格的规则，定期编制和更新在全国乃至海外市场具有影响力的全市场统一指数，将不合格的上市公司剔除指数，将优秀和新达标的公司放入指数，&lt;strong&gt;以保证在指数范围内的股票都是基本面健康的公司，避免了较大的企业经营风险对于中小投资者的伤害。&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　所以指数自身，通过完善的法律制度（特别是严格的IPO规则和退市制度），通过指数编订公司的尽职尽责，自然拥有超越全市场的收益，指数投资虽然是被动投资，但是它确实在创造价值。相对应的，ETF追踪指数，也就获取了价值。但是其真正的更大规模价值，依然来自于市场的逐步有效，带来的主动投资管理大面积跑输指数，以及主动投资基金公司的高收费，对于投资者权益的掠夺。通过和主动投资的高度损耗对比，ETF被动投资拥有了长期价值。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　我们查阅资料发现，早在Vanguard诞生20多年前的1951年，约翰-伯格John Bogle从普林斯顿大学毕业，其毕业论文，是通过对比当时的主动管理型基金和指数之间的最终差异，发现大多数主动管理型基金并没有跑赢指数，且极个别跑赢指数的基金又因为相对高昂的费用，导致最终还是败给了简单的指数化投资。在之后几十年的职业生涯中，约翰•博格先生就像指数化投资的传教士一样，&lt;strong&gt;不厌其烦的重复强调着低成本的重要性&lt;/strong&gt;。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　巴菲特（Warren Buffet）曾经在1996年伯克希尔哈撒韦的年报中提到：“严格来讲，投资的成本至关重要，投资共同基金要承担的各种费用（主要是支付给基金管理人的费用），平均为100个基点，这笔费用将可能最终减少投资者至少10%的收益。” 然而约翰•博格先生通过自己的研究发现，市场中很多共同基金真实的总费用有时可能高达200个基点，套用巴菲特的评论也就是会“减少投资者至少20%的投资收益”。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2 mpa-is-content=&quot;t&quot; style=&quot;margin: 5px;padding-right: 10px;padding-left: 10px;font-weight: bold;white-space: normal;max-width: 100%;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);border-left: 5px solid rgb(54, 116, 201);line-height: 32px;color: rgb(54, 116, 201);border-top-color: rgb(54, 116, 201);border-bottom-color: rgb(54, 116, 201);border-right-color: rgb(54, 116, 201);box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;四、&lt;/strong&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;盛极而衰——会是ETF的未来之路吗？&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;&lt;br&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　ETF也并非是市场的稳定器，这需要区分行情对待，当市场风平浪静的时候，ETF和被动投资的不断壮大吸收了市场的流动性，从而一定程度上导致波动性降低。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　当市场发生恐慌的时候，没有人愿意接盘ETF份额，大家竞相赎回ETF份额，导致ETF不断自动卖出一揽子股票。当市场恐慌ETF大量被赎回时，对指数的踩踏冲击程度不言而喻。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　华尔街见闻分析认为：ETF成为市场主流的后果之一是价格发现功能将彻底消失，系统性风险也将不断累积。曾有基金经理称ETF是市场面临的“大规模杀伤性武器”，不仅导致了股票价格的扭曲，也带来了巨大抛售风险。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt; &lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.5645161290322581&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRUauGNs7Y0fzSQIOLba8hyr43V3dNLlwWiafOTmaAW7vCuldW1dAyTTQ0W49qh5nlTCj2iaJzv4Fag/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;558&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;图片：2月5日，交易员在美国纽约证券交易所工作。纽约股市三大股指5日大幅下挫，其中道琼斯指数大跌逾1100点（新华网图）&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　摩根大通分析师Nikolaos认为，ETF或许不像“大杀器”那么恐怖，但是毫无疑问在市场出现下行时会起到推波助澜作用。在被动投资大到一定程度后，随着有经验的主动型基金管理人被挤出市场，市场效率也将大幅降低。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　但是短期内，我们还难以看到这一天。贝莱德公司的一份报告认为，未来ETF的增长仍会集中在美国和欧洲市场。这主要是因为当地的投资者对于投资成本更为敏感，而在债市缺乏流动性的背景下，ETF成为首选替代品。贝莱德总裁拉里•芬克表示，&lt;strong&gt;ETF规模将在未来5年内增长到12万亿美元&lt;/strong&gt;。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　ETF的规模不能过度膨胀，目前美国等国股票市场已经出现这一端倪，&lt;strong&gt;我们正在静待一个零界点&lt;/strong&gt;，股票市场的“流动性状况疲软”可能已经在此之前有所警示，市场正变得越来越容易受到ETF大幅波动的影响。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;参考资料：&lt;/p&gt;&lt;p&gt;[1] 中证指数——2017年全球ETF发展报告  &lt;/p&gt;&lt;p&gt;[2] 第一财经——ETF之父约翰•博格离世，他的一生携被动投资风靡全球 &lt;/p&gt;&lt;p&gt;[3] 先锋领航Vanguard——指数化投资规则一：选择低成本基金&lt;/p&gt;&lt;p&gt;[4] 华尔街见闻——ETF大时代！全球最大ETF资产规模超3000亿美元&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;
                &lt;/div&gt;
                &lt;script nonce=&quot;1910252551&quot; type=&quot;text/javascript&quot;&gt;
                    var first_sceen__time = (+new Date());

                    if (&quot;&quot; == 1 &amp;&amp; document.getElementById(&#39;js_content&#39;)) {
                        document.getElementById(&#39;js_content&#39;).addEventListener(&quot;selectstart&quot;,function(e){ e.preventDefault(); });
                    }

                    
                    (function(){
                        if (navigator.userAgent.indexOf(&quot;WindowsWechat&quot;) != -1){
                            var link = document.createElement(&#39;link&#39;);
                            var head = document.getElementsByTagName(&#39;head&#39;)[0];
                            link.rel = &#39;stylesheet&#39;;
                            link.type = &#39;text/css&#39;;
                            link.href = &quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/winwx430b95.css&quot;;
                            head.appendChild(link);
                        }
                    })();
                &lt;/script&gt;

                
                &lt;div class=&quot;ct_mpda_wrp&quot; id=&quot;js_sponsor_ad_area&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;
                
                
                &lt;div class=&quot;read-more__area&quot; id=&quot;js_more_read_area&quot; style=&quot;display:none;&quot;&gt;
                    
                &lt;/div&gt;

                
                                &lt;div class=&quot;reward_area tc reward_area_primary&quot; id=&quot;js_preview_reward_author&quot; style=&quot;display:none;&quot;&gt;
                    &lt;div class=&quot;reward-avatar&quot; style=&quot;display: none;&quot; id=&quot;js_preview_reward_author_avatar&quot;&gt;
                        &lt;img src=&quot;&quot; alt=&quot;&quot; id=&quot;js_preview_reward_author_head&quot;&gt;
                    &lt;/div&gt;
                    
                                        &lt;div class=&quot;reward-author&quot; id=&quot;js_preview_reward_author_name&quot;&gt;聚宽社区&lt;/div&gt;
                                        &lt;p class=&quot;reward_tips&quot; id=&quot;js_preview_reward_author_wording&quot; style=&quot;display:none;&quot;&gt;&lt;/p&gt;
                    &lt;p&gt;
                        &lt;a class=&quot;reward_button&quot; id=&quot;js_preview_reward_author_link&quot; href=&quot;##&quot;&gt;&lt;span id=&quot;js_preview_reward_link_text&quot;&gt;赞赏&lt;/span&gt;&lt;/a&gt;
                    &lt;/p&gt;
                &lt;/div&gt;

                &lt;div class=&quot;reward_qrcode_area reward_area tc&quot; id=&quot;js_preview_reward_qrcode&quot; style=&quot;display:none;&quot;&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;长按二维码向我转账&lt;/p&gt;
                    &lt;p id=&quot;js_preview_reward_ios_wording&quot; class=&quot;reward_tips&quot; style=&quot;display:none;&quot;&gt;&lt;/p&gt;
                    &lt;span class=&quot;reward_qrcode_img_wrp&quot;&gt;&lt;img class=&quot;reward_qrcode_img&quot; src=&quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_reward_qrcode.2x42f400.png&quot;&gt;&lt;/span&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;受苹果公司新规定影响，微信 iOS 版的赞赏功能被关闭，可通过二维码转账支持公众号。&lt;/p&gt;
                &lt;/div&gt;
                                
                
                            &lt;/div&gt;
                                    
                        &lt;div class=&quot;article_modify_area tips_global_primary article_modify_area_primary&quot;&gt;
              文章已于&lt;span id=&quot;js_modify_time&quot;&gt;&lt;/span&gt;修改            &lt;/div&gt;
                        


                        
            &lt;ul id=&quot;js_hotspot_area&quot; class=&quot;article_extend_area&quot;&gt;&lt;/ul&gt;


            

            


&lt;div class=&quot;rich_media_tool&quot; id=&quot;js_toobar3&quot;&gt;

        &lt;div id=&quot;js_read_area3&quot; class=&quot;media_tool_meta tips_global_primary meta_primary&quot; style=&quot;display:none;&quot;&gt;阅读 &lt;span id=&quot;readNum3&quot;&gt;&lt;/span&gt;&lt;/div&gt;

    &lt;span style=&quot;display:none;&quot; class=&quot;media_tool_meta meta_extra meta_praise&quot; id=&quot;like_old&quot;&gt;
        &lt;i class=&quot;icon_praise_gray&quot;&gt;&lt;/i&gt;&lt;span class=&quot;praise_num&quot; id=&quot;likeNum_old&quot;&gt;&lt;/span&gt;
    &lt;/span&gt;

    &lt;span style=&quot;display:none;&quot; class=&quot;media_tool_meta meta_extra meta_like&quot; id=&quot;like3&quot;&gt;
        &lt;button class=&quot;like_btn&quot; id=&quot;js_like_btn&quot;&gt; 
          好看&lt;span class=&quot;like_num&quot; id=&quot;likeNum3&quot;&gt;&lt;/span&gt;
        &lt;/button&gt;
    &lt;/span&gt;

    &lt;div id=&quot;js_like_educate&quot; style=&quot;display:none&quot;&gt;
        &lt;div class=&quot;weui-mask&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;weui-dialog weui-dialog_haokan&quot;&gt;
        &lt;div class=&quot;weui-dialog__hd&quot;&gt;&lt;strong class=&quot;weui-dialog__title&quot; id=&quot;educate_title&quot;&gt;已推荐到看一看&lt;/strong&gt;&lt;/div&gt;
        &lt;div class=&quot;weui-dialog__bd&quot;&gt;
          &lt;img class=&quot;pic_haokan&quot; src=&quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_haokan42f400.png&quot;&gt;
            你的朋友可以在“发现”-“看一看”看到你认为好看的文章。        &lt;/div&gt;
        &lt;div class=&quot;weui-dialog__ft&quot; id=&quot;educate_btn&quot; style=&quot;display: none&quot;&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_default&quot; id=&quot;js_cancel&quot;&gt;取消&lt;/a&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_confirm&quot;&gt;推荐&lt;/a&gt;
        &lt;/div&gt;
        &lt;div class=&quot;weui-dialog__ft&quot; id=&quot;educate_btn2&quot; style=&quot;display: none&quot;&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_acknowledge&quot;&gt;我知道了&lt;/a&gt;
        &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;div id=&quot;js_unlike_educate&quot; style=&quot;display:none&quot;&gt;
        &lt;div class=&quot;weui-mask&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;weui-dialog&quot;&gt;
        
        &lt;div class=&quot;weui-dialog__bd&quot;&gt;
            已取消，“好看”想法已同步删除        &lt;/div&gt;
        &lt;div class=&quot;weui-dialog__ft&quot;&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_unlike_know&quot;&gt;知道了&lt;/a&gt;
        &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    
    &lt;/div&gt;


&lt;div class=&quot;like_comment_wrp&quot; id=&quot;js_a_like_comment&quot; style=&quot;display: none;&quot;&gt;
  &lt;div class=&quot;like_comment_inner&quot;&gt;
    &lt;div class=&quot;like_comment_hd&quot; style=&quot;display:none&quot; id=&quot;js_like_title&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;like_comment_bd&quot;&gt;
      &lt;div class=&quot;tips_global_primary like_comment_tips&quot;&gt;
        &lt;i class=&quot;weui-icon-success&quot;&gt;&lt;/i&gt;已推荐到看一看&lt;a href=&quot;javascript:;&quot; class=&quot;like_comment_share_link&quot; id=&quot;js_a_like_comment_share&quot;&gt;和朋友分享想法&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;like_comment_ft&quot;&gt;
      &lt;span id=&quot;js_a_like_comment_msg&quot; class=&quot;like_comment_msg&quot; style=&quot;visibility:hidden&quot;&gt;最多200字，当前共&lt;span id=&quot;js_a_like_current_cnt&quot;&gt;&lt;/span&gt;字&lt;/span&gt;
      &lt;button class=&quot;like_comment_btn&quot; disabled id=&quot;js_a_like_confirm&quot;&gt;发送&lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;div id=&quot;js_like_toast&quot; style=&quot;display: none;&quot;&gt;
  &lt;div class=&quot;weui-mask_transparent&quot;&gt;&lt;/div&gt;
  &lt;div class=&quot;weui-toast&quot;&gt;
    &lt;i class=&quot;weui-icon-success-no-circle weui-icon_toast&quot;&gt;&lt;/i&gt;
    &lt;p class=&quot;weui-toast__content&quot; id=&quot;js_toast_msg&quot;&gt;已发送&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;


&lt;div style=&quot;display: none;&quot; id=&quot;js_b_comment_panel&quot; class=&quot;like_comment_primary_pop&quot;&gt;
  &lt;div class=&quot;like_comment_primary_wrp&quot; id=&quot;js_b_wrp&quot;&gt;
    &lt;div class=&quot;like_comment_primary_inner&quot;&gt;
      &lt;div class=&quot;like_comment_primary_hd&quot;&gt;
        &lt;h4 class=&quot;like_comment_primary_title&quot;&gt;
          朋友将在看一看看到        &lt;/h4&gt;
        &lt;button id=&quot;js_b_like_confirm&quot; class=&quot;like_comment_primary_btn&quot;&gt;确定&lt;/button&gt;
      &lt;/div&gt;
      &lt;div id=&quot;js_b_comment_text_first&quot; class=&quot;like_comment_primary_bd&quot;&gt;
        &lt;span class=&quot;tips_global_primary&quot;&gt;
          分享你的想法...        &lt;/span&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;like_comment_primary_mask&quot; id=&quot;js_mask_1&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div style=&quot;display: none;&quot; id=&quot;js_b_comment_final&quot;&gt;
  &lt;div class=&quot;like_comment_primary_wrp editing&quot; id=&quot;js_comment_wrp&quot;&gt;
    &lt;div class=&quot;like_comment_primary_inner&quot;&gt;
      &lt;div class=&quot;like_comment_primary_hd&quot;&gt;
        &lt;button class=&quot;like_comment_primary_cancel&quot; id=&quot;js_b_comment_cancel&quot;&gt;取消&lt;/button&gt;
        &lt;h4 class=&quot;like_comment_primary_title&quot;&gt; 分享想法到看一看 &lt;/h4&gt;
        &lt;button class=&quot;like_comment_primary_btn&quot; id=&quot;js_b_comment_confirm&quot;&gt;确定&lt;/button&gt;
      &lt;/div&gt;
      &lt;div class=&quot;like_comment_primary_bd&quot;&gt;
        &lt;textarea class=&quot;like_comment_textarea weui-textarea&quot; placeholder=&quot;分享你的想法...&quot; id=&quot;js_b_comment_text_second&quot;&gt;&lt;/textarea&gt;
      &lt;/div&gt;
      &lt;span class=&quot;like_comment_msg&quot; id=&quot;js_b_like_comment_msg&quot; style=&quot;visibility: hidden;&quot;&gt;最多200字，当前共&lt;span id=&quot;js_b_like_current_cnt&quot;&gt;&lt;/span&gt;字&lt;/span&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;like_comment_primary_mask&quot; id=&quot;js_mask_2&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div id=&quot;js_loading&quot; style=&quot; display: none;&quot;&gt;
    &lt;div class=&quot;weui-mask_transparent&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;weui-toast&quot;&gt;
        &lt;i class=&quot;weui-loading weui-icon_toast&quot;&gt;&lt;/i&gt;
        &lt;p class=&quot;weui-toast__content&quot;&gt;发送中&lt;/p&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div id=&quot;js_fail&quot; style=&quot;display:none&quot;&gt;
    &lt;div class=&quot;weui-mask&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;weui-dialog&quot;&gt;
    &lt;div class=&quot;weui-dialog__bd&quot;&gt;
        网络异常，请稍后重试    &lt;/div&gt;
    &lt;div class=&quot;weui-dialog__ft&quot;&gt;
      &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_fail_inform&quot;&gt;知道了&lt;/a&gt;
    &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;



                        &lt;div class=&quot;rich_media_tool&quot; id=&quot;js_sg_bar&quot;&gt;

                                
            &lt;/div&gt;
                      &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class=&quot;rich_media_area_primary sougou&quot; id=&quot;sg_tj&quot; style=&quot;display:none&quot;&gt;&lt;/div&gt;


        
        &lt;div class=&quot;rich_media_area_extra&quot;&gt;
          &lt;div class=&quot;rich_media_area_extra_inner&quot;&gt;
              
              &lt;div id=&quot;js_share_appmsg&quot;&gt;
              &lt;/div&gt;

              
                            &lt;div class=&quot;mpda_bottom_container&quot; id=&quot;js_bottom_ad_area&quot;&gt;&lt;/div&gt;
                            
              &lt;div id=&quot;js_iframetest&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;
                            
                            
              &lt;div class=&quot;rich_media_extra rich_media_extra_discuss&quot; id=&quot;js_cmt_container&quot; style=&quot;display:none&quot;&gt;
                

                
                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_friend_cmt_area&quot; style=&quot;display:none&quot;&gt;
                  
                  
                  
                &lt;/div&gt;

                                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_cmt_area&quot; style=&quot;display:none&quot;&gt;
                &lt;/div&gt;
                              &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        
        &lt;div id=&quot;js_pc_qr_code&quot; class=&quot;qr_code_pc_outer&quot; style=&quot;display:none;&quot;&gt;
            &lt;div class=&quot;qr_code_pc_inner&quot;&gt;
                &lt;div class=&quot;qr_code_pc&quot;&gt;
                    &lt;img id=&quot;js_pc_qr_code_img&quot; class=&quot;qr_code_pc_img&quot;&gt;
                    &lt;p&gt;微信扫一扫&lt;br&gt;关注该公众号&lt;/p&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;</description>
<author>聚宽社区</author>
<guid isPermaLink="false">2019-01-17-1000000090</guid>
<pubDate>Thu, 17 Jan 2019 00:00:00 +0800</pubDate>
</item>
<item>
<title>分钟K线重构+ATR自适应通道 期货CTA多品种模型分享</title>
<link>https://henix.github.io/feeds/weixin.sogou.JoinQuant-jx/2019-01-16-1000000089.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?timestamp=1548303572&amp;amp;src=3&amp;amp;ver=1&amp;amp;signature=SlGAs0tUtyjPK5B5ILqEBbDaeuxqfhEqIaxTj8NVG0vxKEW7RGCZsxViZqsaSRafz8OS*KAWo4NpiBJDOx0PXmXHuMPMYxlsuqAjtlXNqQMIgqvW9L8*zRnuVv1THfqMEaLXdqnfVnOuwA-9JW*OwCJuUQXTh*enVKX35TqGN7g=&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;div id=&quot;js_top_ad_area&quot; class=&quot;top_banner&quot;&gt;&lt;/div&gt;&lt;div class=&quot;rich_media_inner&quot;&gt;

        
        
        &lt;div id=&quot;page-content&quot; class=&quot;rich_media_area_primary&quot;&gt;
          &lt;div class=&quot;rich_media_area_primary_inner&quot;&gt;
                                    
                        

            &lt;div id=&quot;img-content&quot;&gt;

                
                &lt;h2 class=&quot;rich_media_title&quot; id=&quot;activity-name&quot;&gt;
                    
                    
                    分钟K线重构+ATR自适应通道 期货CTA多品种模型分享

                                                                                &lt;/h2&gt;
                &lt;div id=&quot;meta_content&quot; class=&quot;rich_media_meta_list&quot;&gt;
                                                            &lt;span id=&quot;copyright_logo&quot; class=&quot;rich_media_meta rich_media_meta_text meta_tag_text&quot;&gt;原创：&lt;/span&gt;
                                                            &lt;span class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;
                                                张绍勇
                                            &lt;/span&gt;
                                        
                                        &lt;span class=&quot;rich_media_meta rich_media_meta_nickname&quot; id=&quot;profileBt&quot;&gt;
                      &lt;a href=&quot;javascript:void(0);&quot; id=&quot;js_name&quot;&gt;
                        聚宽量化实验室                      &lt;/a&gt;
                      &lt;div id=&quot;js_profile_qrcode&quot; class=&quot;profile_container&quot; style=&quot;display:none;&quot;&gt;
                          &lt;div class=&quot;profile_inner&quot;&gt;
                              &lt;strong class=&quot;profile_nickname&quot;&gt;聚宽量化实验室&lt;/strong&gt;
                              &lt;img class=&quot;profile_avatar&quot; id=&quot;js_profile_qrcode_img&quot; src=&quot;&quot; alt=&quot;&quot;&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;微信号&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;JoinQuant-jx&lt;/span&gt;
                              &lt;/p&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;功能介绍&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;用数学+编程，驾驭金融市场波动。 汇集最优质量化投资模型，和最勤奋聪明的大脑。&lt;/span&gt;
                              &lt;/p&gt;
                              
                          &lt;/div&gt;
                          &lt;span class=&quot;profile_arrow_wrp&quot; id=&quot;js_profile_arrow_wrp&quot;&gt;
                              &lt;i class=&quot;profile_arrow arrow_out&quot;&gt;&lt;/i&gt;
                              &lt;i class=&quot;profile_arrow arrow_in&quot;&gt;&lt;/i&gt;
                          &lt;/span&gt;
                      &lt;/div&gt;
                    &lt;/span&gt;


                    &lt;em id=&quot;publish_time&quot; class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;&lt;/em&gt;





                &lt;/div&gt;
                
                
                
                
                                                
                                                                
                                
                
                &lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    

                    
                    
                    &lt;p style=&quot;text-align: center;&quot;&gt;&lt;strong style=&quot;text-align: center;white-space: normal;&quot;&gt;&lt;img class=&quot; __bg_gif&quot; data-backh=&quot;124&quot; data-backw=&quot;558&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_gif/ZZTd2u8ycXibDM6MY1CKPZH6IwxyWUeKlfbgiahCVnsEygjPWkwGczyGemVPbTZHg6blIUyPIashqscFCtHia13mQ/640&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.2222222222222222&quot; data-type=&quot;gif&quot; data-w=&quot;900&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/ZZTd2u8ycXibDM6MY1CKPZH6IwxyWUeKlfbgiahCVnsEygjPWkwGczyGemVPbTZHg6blIUyPIashqscFCtHia13mQ/640?&quot; style=&quot;box-sizing: border-box !important;overflow-wrap: break-word !important;width: 542.188px !important;visibility: visible !important;&quot;&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　今天我们构建的量化模型，尝试用python搭建，首先它把数据拆分重构，使用15分钟或者更低颗粒度的K线，重构成为1小时线或者半日线。然后在重构的K线上，搭建ATR自适应通道交易模型。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　如果说后半部分模型开发是很多软件都可以做的，前半部分就并非如此了。我们要以每天中午12点，下午15点为切分点，&lt;strong&gt;把每天的时间序列切分成3段。&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　让我们从最简单的模型本体交易逻辑开始讲。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2 mpa-is-content=&quot;t&quot; style=&quot;margin: 5px;padding-right: 10px;padding-left: 10px;font-weight: bold;white-space: normal;max-width: 100%;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);border-left: 5px solid rgb(54, 116, 201);line-height: 32px;color: rgb(54, 116, 201);border-top-color: rgb(54, 116, 201);border-bottom-color: rgb(54, 116, 201);border-right-color: rgb(54, 116, 201);box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;一、模型本体——ATR自适应通道&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　很多做期货动量交易的人都明白，通道突破类策略是典型的趋势策略，这类策略指导构建的交易模型也比较简单清晰，并且将标准差等波动率表达方式考虑到模型中，有助于提升绩效。这里说的提升绩效，一方面是通过通道的中轨确定大致方向，另一方面是通过标准差等波动率指标，确认通道宽度。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.5653409090909091&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQQRNpC0iclibOLe0XjtY7NQKrQO1DowXYW0Ix41ibBqRyzTuDQU7duwXex3SxRgQ26AVYt23wCXn0IyA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;704&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　首当其中的就是布林带，这个经典指标已经几十年被使用，基本上没人敢说这套系统不能用，但是它毕竟太过于古老，需要改进，这是共识。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　&lt;strong&gt;典型的通道突破类策略是Aberration，实际上就是布林带，它被翻译理解为“失常、离开正路、越轨”等含义&lt;/strong&gt;。该模型在均线上，构建了上下两个通道，通过波动率高低调节通道大小，如果价格突破上轨，就做多，如果价格突破下轨，就做空，价格回到中轨平仓，达到一定的自适应突破效果。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　它的原理是这样：&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;// 中轨AverageMA，此处的Length是计算均线的窗口期&lt;/p&gt;&lt;p&gt;AverageMA = Average(Close1,Length);&lt;/p&gt;&lt;p&gt;// 价格序列的标准差&lt;/p&gt;&lt;p&gt;StdValue = StandardDev(Close1,Length);&lt;/p&gt;&lt;p&gt;// 上轨和下轨，此处的StdDev是标准差倍数&lt;/p&gt;&lt;p&gt;UpperBand = Avema StdDev StdValue;&lt;/p&gt;&lt;p&gt;LowerBand = Avema - StdDev StdValue;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　今天的改进针对标准差部分，我们发现ATR比标准差更能够反应波动率的真伪，毕竟ATR采用的时间序列信息含量更高。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　标准差是一个统计工具，不再叙述。ATR概念由威尔德（J. Welles Wilder）1978年于《New Concepts in Technical Trading Systems》书中提出，它取一定时间周期内的价格波动幅度的移动平均值，和你看到的网络上的注解不同，它并不是主要用于研判买卖时机，也不是做什么反趋势指标，它能感知到波动率。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　海通证券测试了ATR和标准差的性能差异，这四种情况虽然特殊，但是以极端方式，体现了&lt;strong&gt;标准差和ATR的区别&lt;/strong&gt;。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.5781710914454278&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQS5mRKwGwhQpWA8wKXpKTbcFcREcgha3qDhHNooiadVNHHproeZAyUFeBicGr4qaE8apQLl6ib94rw5Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1017&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.5740922473012757&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQS5mRKwGwhQpWA8wKXpKTbc2nh6Lazkiam1Lxdq90qQhN84NKGPdoS6okUm0HVUicv9vvQGXy3vNIicg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1019&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.5731108930323847&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQS5mRKwGwhQpWA8wKXpKTbc99MCwg0WyPoHQg6rosb4ElVPx4urLEawkqoJ6CxYHl3EiaONbfBl2AQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1019&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.5656370656370656&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQS5mRKwGwhQpWA8wKXpKTbc4B4eKQczp8xba1bBxicrXuUBDsW7u0h5GH0zbnvFibteLX8t7taAslNw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1036&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　图1，标准差的表现力更强，因为价格确实出现了波动幅度变化。&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　图2，和研报观点相同，ATR可以稳定的保持着较高的水平，能对新的价格运行方向上的波动状态进行有效的刻画，但是标准差不行。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　图3，标准差在适应新趋势时又一次表现出对趋势逆转时波动率提升的错误描述，它在新趋势刚开始出现时先缓慢下降，此时很容易造成通道类突破系统做出错误判断。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　图4，很罕见的情况，但是ATR采用了最高最低价，而标准差没有，所以它对于波动率的分析显然错了。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　所以，我们要使用ATR改进布林带了，改进完的这套系统，应该被称作&lt;strong&gt;肯特纳通道&lt;/strong&gt;，网上会有很多资料，这里使用公众号《量化投资训练营》的结果，来体现两者的细微差距。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　我们关闭掉模型中其他条件，仅以布林带或者说使用ATR为逻辑的Keltner Band（肯特钠通道）作为开平仓条件进行测试。测试目标是螺纹钢RB000，2010年开始指数合约，沪深300指数2010年开始时间序列。频率都在1小时。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　为了公平起见，参数统一为20周日ATR或者标准差。且为了得到均等的参数面绩效，我们令中轨周期参数Length在30~200之间波动，间隔5,。令Offset上下轨宽度参数在1~3之间波动，间隔0.5.。这样既可得到一个约180组绩效。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　TOP组的意思是取按净利润排列，前30个绩效。ALL组的意思是所有绩效。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.5948795180722891&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQS5mRKwGwhQpWA8wKXpKTbceFaPSRXPoib5Fgibfv1jHMsnBVDlsGE953uo70mB4ibDAVICr8J7UIrJQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;664&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;螺纹钢参数面测试结果&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.6005961251862891&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQS5mRKwGwhQpWA8wKXpKTbcaLAtMLSt5wVZibWjicCLrricFXMLVh4QDicBWO6hcth0xDRhx7QFRswPLQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;671&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;沪深300参数面测试结果&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　经过测试发现，商品期货上性能差异不够明显，但是到了股指方面，ATR的优势进一步显现。这其中最核心的因素恰巧是交易次数，带来的绩效IR提升，这里我们定义的IR和信息广度有关，我们认为信号数量是对于绩效可信度的考察方式。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　ATR通道，在螺纹钢和沪深300指数上，信号数量是标准差的1.14倍和1.05倍，且同时绩效略好，所以导致这里定义的绩效IR = 绩效*SQRT（交易次数）差别更显著。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　该部分逻辑，使用python语言撰写效果如下：&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;pre style=&#39;box-sizing: border-box;padding: 10px 20px;margin-top: 0px;margin-bottom: 1.1em;overflow: auto;font-family: &quot;Source Code Pro&quot;, monospace;font-size: 0.9em;line-height: 1.6;word-break: break-word;overflow-wrap: break-word;background-color: rgb(245, 245, 245);border-width: 0px;border-style: initial;border-color: initial;border-radius: 5px;text-align: start;outline: none !important;&#39;&gt;&lt;code style=&#39;box-sizing: border-box;font-family: &quot;Source Code Pro&quot;, monospace;font-size: inherit;color: inherit;border-radius: 0px;white-space: pre-wrap;outline: none !important;background-color: transparent !important;&#39;&gt;&lt;span class=&quot;hljs-comment&quot; style=&quot;box-sizing: border-box;color: rgb(136, 136, 136);outline: none !important;&quot;&gt;# ATR计算  &lt;/span&gt;
        g.low = g.AM[IndexFuture].exportArray(&lt;span class=&quot;hljs-string&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);outline: none !important;&quot;&gt;&#39;low&#39;&lt;/span&gt;)[-g.TodayBar[IndexFuture]*g.Window&lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;-1&lt;/span&gt;:]
        g.high = g.AM[IndexFuture].exportArray(&lt;span class=&quot;hljs-string&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);outline: none !important;&quot;&gt;&#39;high&#39;&lt;/span&gt;)[-g.TodayBar[IndexFuture]*g.Window&lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;-1&lt;/span&gt;:]
        g.close = g.AM[IndexFuture].exportArray(&lt;span class=&quot;hljs-string&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);outline: none !important;&quot;&gt;&#39;close&#39;&lt;/span&gt;)[-g.TodayBar[IndexFuture]*g.Window&lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;-1&lt;/span&gt;:]        &lt;span class=&quot;hljs-comment&quot; style=&quot;box-sizing: border-box;color: rgb(136, 136, 136);outline: none !important;&quot;&gt;# 为了防止ATR误算，如果出现大面积的空数据，则不计算ATR&lt;/span&gt;
        &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;in&lt;/span&gt; g.close:            &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;pass&lt;/span&gt;
        &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;else&lt;/span&gt;:
            g.ATR[IndexFuture] = talib.ATR(g.high,g.low,g.close, timeperiod = g.TodayBar[IndexFuture]*g.Window)[&lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;-1&lt;/span&gt;]
            print(g.ATR[IndexFuture])            &lt;span class=&quot;hljs-comment&quot; style=&quot;box-sizing: border-box;color: rgb(136, 136, 136);outline: none !important;&quot;&gt;# 布林带计算&lt;/span&gt;
            g.MidLine = g.close[-g.Window*g.TodayBar[IndexFuture]:].mean()
            g.BollUp = g.MidLine   g.offset*g.ATR[IndexFuture]
            g.BollDown = g.MidLine - g.offset*g.ATR[IndexFuture]            &lt;span class=&quot;hljs-comment&quot; style=&quot;box-sizing: border-box;color: rgb(136, 136, 136);outline: none !important;&quot;&gt;# 交易信号计算&lt;/span&gt;
            &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;if&lt;/span&gt; g.close[&lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;-1&lt;/span&gt;] &amp;gt; g.BollUp:
                g.Cross = &lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;1&lt;/span&gt;
            &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;elif&lt;/span&gt; g.close[&lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;-1&lt;/span&gt;] &amp;lt; g.BollDown:
                g.Cross = &lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;-1&lt;/span&gt;
            &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;else&lt;/span&gt;:
                g.Cross = &lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;0&lt;/span&gt;

            &lt;span class=&quot;hljs-comment&quot; style=&quot;box-sizing: border-box;color: rgb(136, 136, 136);outline: none !important;&quot;&gt;#判断交易信号：布林带突破 可二次入场条件成立&lt;/span&gt;
            &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;if&lt;/span&gt;  g.Cross == &lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;and&lt;/span&gt; g.Reentry_long == &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;False&lt;/span&gt;:
                g.Signal = &lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;1&lt;/span&gt;
            &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;elif&lt;/span&gt; g.Cross == &lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;-1&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;and&lt;/span&gt; g.Reentry_short == &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;False&lt;/span&gt;:
                g.Signal = &lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;-1&lt;/span&gt;
            &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;else&lt;/span&gt;:
                g.Signal = &lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;0&lt;/span&gt;
            &lt;span class=&quot;hljs-comment&quot; style=&quot;box-sizing: border-box;color: rgb(136, 136, 136);outline: none !important;&quot;&gt;# 执行交易&lt;/span&gt;
            Trade(context,RealFuture,IndexFuture)            &lt;span class=&quot;hljs-comment&quot; style=&quot;box-sizing: border-box;color: rgb(136, 136, 136);outline: none !important;&quot;&gt;# 运行防止充入模块&lt;/span&gt;
            Dont_Re_entry(context,IndexFuture,ins)            &lt;span class=&quot;hljs-comment&quot; style=&quot;box-sizing: border-box;color: rgb(136, 136, 136);outline: none !important;&quot;&gt;# 计数器 1&lt;/span&gt;
            g.Times[IndexFuture]  = &lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;1&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　需要注意的是，我们肯定要在模型中放入止损逻辑，也肯定要放入止损后的防止重入逻辑，这两部分大家应该都熟悉了。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　还有一个重点变量计算：TodayBar，它可以帮助我们获取每天的bar数量，以此来得到均线的参数，ATR的参数。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;pre style=&#39;box-sizing: border-box;padding: 10px 20px;margin-top: 0px;margin-bottom: 1.1em;overflow: auto;font-family: &quot;Source Code Pro&quot;, monospace;font-size: 0.9em;line-height: 1.6;word-break: break-word;overflow-wrap: break-word;background-color: rgb(245, 245, 245);border-width: 0px;border-style: initial;border-color: initial;border-radius: 5px;text-align: start;outline: none !important;&#39;&gt;&lt;code style=&#39;box-sizing: border-box;font-family: &quot;Source Code Pro&quot;, monospace;font-size: inherit;color: inherit;border-radius: 0px;white-space: pre-wrap;outline: none !important;background-color: transparent !important;&#39;&gt;&lt;span class=&quot;hljs-comment&quot; style=&quot;box-sizing: border-box;color: rgb(136, 136, 136);outline: none !important;&quot;&gt;# 吊灯止损模块（追踪止损）&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;span class=&quot;hljs-function&quot; style=&quot;box-sizing: border-box;outline: none !important;&quot;&gt;&lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);font-weight: bold;outline: none !important;&quot;&gt;TrailingStop&lt;/span&gt;&lt;span class=&quot;hljs-params&quot; style=&quot;box-sizing: border-box;outline: none !important;&quot;&gt;(context,RealFuture,IndexFuture)&lt;/span&gt;:&lt;/span&gt;

    &lt;span class=&quot;hljs-comment&quot; style=&quot;box-sizing: border-box;color: rgb(136, 136, 136);outline: none !important;&quot;&gt;# 仓位状态&lt;/span&gt;
    long_positions = context.portfolio.long_positions
    short_positions = context.portfolio.short_positions    &lt;span class=&quot;hljs-comment&quot; style=&quot;box-sizing: border-box;color: rgb(136, 136, 136);outline: none !important;&quot;&gt;# 多头进场后最高价 空头进场后最低价&lt;/span&gt;
    g.HighPrice[IndexFuture] = max(g.HighPrice[IndexFuture],g.close[&lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;-1&lt;/span&gt;])
    g.LowPrice[IndexFuture] = min(g.LowPrice[IndexFuture],g.close[&lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;-1&lt;/span&gt;])    &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;if&lt;/span&gt; RealFuture &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;in&lt;/span&gt; long_positions.keys():        &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;if&lt;/span&gt; long_positions[RealFuture].total_amount &amp;gt; &lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;0&lt;/span&gt;:            &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;if&lt;/span&gt; g.HighPrice[IndexFuture]:                &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;if&lt;/span&gt; g.close[&lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;-1&lt;/span&gt;]  &amp;lt; g.HighPrice[IndexFuture]  - g.NATRstop*g.ATR[IndexFuture]:
                    log.info(&lt;span class=&quot;hljs-string&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);outline: none !important;&quot;&gt;&#39;多头止损:\t&#39;&lt;/span&gt;    RealFuture)
                    order_target(RealFuture,&lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;0&lt;/span&gt;,side = &lt;span class=&quot;hljs-string&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);outline: none !important;&quot;&gt;&#39;long&#39;&lt;/span&gt;)
                    g.Reentry_long = &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;True&lt;/span&gt;

    &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;if&lt;/span&gt; RealFuture &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;in&lt;/span&gt; short_positions.keys():        &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;if&lt;/span&gt; short_positions[RealFuture].total_amount &amp;gt; &lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;0&lt;/span&gt;:            &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;if&lt;/span&gt; g.LowPrice[IndexFuture]:                &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;if&lt;/span&gt; g.close[&lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;-1&lt;/span&gt;]  &amp;gt; g.LowPrice[IndexFuture]   g.NATRstop*g.ATR[IndexFuture]:
                    log.info(&lt;span class=&quot;hljs-string&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);outline: none !important;&quot;&gt;&#39;空头止损:\t&#39;&lt;/span&gt;   RealFuture)
                    order_target(RealFuture,&lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;0&lt;/span&gt;,side = &lt;span class=&quot;hljs-string&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);outline: none !important;&quot;&gt;&#39;short&#39;&lt;/span&gt;)
                    g.Reentry_short = &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;True&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　还有就是移仓换月，我在比较早的帖子里已经写了它的逻辑，大家可以通过源码理解，其实不难，但是刚开始写确实有难度，&lt;strong&gt;好在以后聚宽会把这部分做成官方函数&lt;/strong&gt;，各位就不用费心思写了。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2 mpa-is-content=&quot;t&quot; style=&quot;margin: 5px;padding-right: 10px;padding-left: 10px;font-weight: bold;white-space: normal;max-width: 100%;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);border-left: 5px solid rgb(54, 116, 201);line-height: 32px;color: rgb(54, 116, 201);border-top-color: rgb(54, 116, 201);border-bottom-color: rgb(54, 116, 201);border-right-color: rgb(54, 116, 201);box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;二、数据重构——分钟线拼接为半日线&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　数据重构是量化交易中的重要工作，我觉得有这样几个原因：&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　1、大部分交易者在关键时间点上发单，会产生交易拥挤。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　2、很多K线并不是我们想要的长度，因为其时间含金量不同。比如夜盘从21点到某些品种的凌晨2点半，交易清淡，但是依然占据等时间划分的K线并不科学。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　3、除了改变时间颗粒度之外，还可以通过成交量、波动率等方法，重构K线，带来非常意外的超额收益。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　这些功能，基本上是传统的期货软件不具备的，它们都需要使用更精密地编程语言完成，python就是这样一个工具，这里有它的价值，也是我们和身边很多朋友都要转移到python平台上开发交易策略的原因。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　我们可以在【研究】平台打印出某品种的15分钟K线看看效果：&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.5751565762004175&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQS5mRKwGwhQpWA8wKXpKTbcCCJ4885s1dvZ7dsPOTXmvfaC07NzoibPZicIPZ5E3h1orUplibFCf8Q3A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;958&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　之后我们和聚宽技术客服沟通了解到：&lt;strong&gt;使用get_bars函数能够更好地获取到每天都是9点开始的数据&lt;/strong&gt;，这样使用较大粒度的K线，如1小时线，也可以完成拼接，且效率更高。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　这套模型中，我们首先在DataPrepare函数中，读取了15分钟K线，每次取50个样本进入之后要介绍的ArrayManager模块。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;pre style=&#39;box-sizing: border-box;padding: 10px 20px;margin-top: 0px;margin-bottom: 1.1em;overflow: auto;font-family: &quot;Source Code Pro&quot;, monospace;font-size: 0.9em;line-height: 1.6;word-break: break-word;overflow-wrap: break-word;background-color: rgb(245, 245, 245);border-width: 0px;border-style: initial;border-color: initial;border-radius: 5px;text-align: start;outline: none !important;&#39;&gt;&lt;code style=&#39;box-sizing: border-box;font-family: &quot;Source Code Pro&quot;, monospace;font-size: inherit;color: inherit;border-radius: 0px;white-space: pre-wrap;outline: none !important;background-color: transparent !important;&#39;&gt;g.LastPrice[IndexFuture] = attribute_history(IndexFuture,&lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;50&lt;/span&gt;, unit=&lt;span class=&quot;hljs-string&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);outline: none !important;&quot;&gt;&#39;15m&#39;&lt;/span&gt;,fields = [&lt;span class=&quot;hljs-string&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);outline: none !important;&quot;&gt;&#39;close&#39;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);outline: none !important;&quot;&gt;&#39;open&#39;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);outline: none !important;&quot;&gt;&#39;high&#39;&lt;/span&gt;,&lt;span class=&quot;hljs-string&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);outline: none !important;&quot;&gt;&#39;low&#39;&lt;/span&gt;])&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;　　&lt;strong&gt;然后构建了类ArrayManager&lt;/strong&gt;，该模块用于拼接K线的类，该策略基于不均匀的K线完成，在固定时间输出bar（日内，如早盘收盘时）。而当前平台未推出该功能，因而自定义ArrayManager类来实现，完整代码在模型中可看到。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;pre style=&#39;box-sizing: border-box;padding: 10px 20px;margin-top: 0px;margin-bottom: 1.1em;overflow: auto;font-family: &quot;Source Code Pro&quot;, monospace;font-size: 0.9em;line-height: 1.6;word-break: break-word;overflow-wrap: break-word;background-color: rgb(245, 245, 245);border-width: 0px;border-style: initial;border-color: initial;border-radius: 5px;text-align: start;outline: none !important;&#39;&gt;&lt;code style=&#39;box-sizing: border-box;font-family: &quot;Source Code Pro&quot;, monospace;font-size: inherit;color: inherit;border-radius: 0px;white-space: pre-wrap;outline: none !important;background-color: transparent !important;&#39;&gt;&lt;span class=&quot;hljs-class&quot; style=&quot;box-sizing: border-box;outline: none !important;&quot;&gt;&lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;hljs-title&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);font-weight: bold;outline: none !important;&quot;&gt;ArrayManager&lt;/span&gt;(&lt;span class=&quot;hljs-title&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);font-weight: bold;outline: none !important;&quot;&gt;object&lt;/span&gt;):&lt;/span&gt;

    &lt;span class=&quot;hljs-comment&quot; style=&quot;box-sizing: border-box;color: rgb(136, 136, 136);outline: none !important;&quot;&gt;# 初始化函数，设定基准等等&lt;/span&gt;
    &lt;span class=&quot;hljs-function&quot; style=&quot;box-sizing: border-box;outline: none !important;&quot;&gt;&lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);font-weight: bold;outline: none !important;&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;hljs-params&quot; style=&quot;box-sizing: border-box;outline: none !important;&quot;&gt;(&lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;self&lt;/span&gt;, size=&lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;100&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;:        &lt;span class=&quot;hljs-comment&quot; style=&quot;box-sizing: border-box;color: rgb(136, 136, 136);outline: none !important;&quot;&gt;# 设定Array的缓存大小&lt;/span&gt;
        &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;self&lt;/span&gt;.size = size  

        &lt;span class=&quot;hljs-comment&quot; style=&quot;box-sizing: border-box;color: rgb(136, 136, 136);outline: none !important;&quot;&gt;# 基本指标与基本指标的Array字典初始化（用于K线按收盘时间分割）&lt;/span&gt;
        &lt;span class=&quot;hljs-comment&quot; style=&quot;box-sizing: border-box;color: rgb(136, 136, 136);outline: none !important;&quot;&gt;# 在这里VarArrays指的是全新K线的数据，以字典的形式存放，Vars是更新K线前的缓存&lt;/span&gt;
        &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;self&lt;/span&gt;.Vars = {&lt;span class=&quot;hljs-string&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);outline: none !important;&quot;&gt;&#39;close&#39;&lt;/span&gt;&lt;span class=&quot;hljs-symbol&quot; style=&quot;box-sizing: border-box;outline: none !important;&quot;&gt;:False&lt;/span&gt;,                    &lt;span class=&quot;hljs-string&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);outline: none !important;&quot;&gt;&#39;open&#39;&lt;/span&gt;&lt;span class=&quot;hljs-symbol&quot; style=&quot;box-sizing: border-box;outline: none !important;&quot;&gt;:False&lt;/span&gt;,                    &lt;span class=&quot;hljs-string&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);outline: none !important;&quot;&gt;&#39;high&#39;&lt;/span&gt;&lt;span class=&quot;hljs-symbol&quot; style=&quot;box-sizing: border-box;outline: none !important;&quot;&gt;:False&lt;/span&gt;,                    &lt;span class=&quot;hljs-string&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);outline: none !important;&quot;&gt;&#39;low&#39;&lt;/span&gt;&lt;span class=&quot;hljs-symbol&quot; style=&quot;box-sizing: border-box;outline: none !important;&quot;&gt;:False&lt;/span&gt;}        &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;self&lt;/span&gt;.VarsArrays = {&lt;span class=&quot;hljs-string&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);outline: none !important;&quot;&gt;&#39;close&#39;&lt;/span&gt;&lt;span class=&quot;hljs-symbol&quot; style=&quot;box-sizing: border-box;outline: none !important;&quot;&gt;:np&lt;/span&gt;.zeros(size),                          &lt;span class=&quot;hljs-string&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);outline: none !important;&quot;&gt;&#39;open&#39;&lt;/span&gt;&lt;span class=&quot;hljs-symbol&quot; style=&quot;box-sizing: border-box;outline: none !important;&quot;&gt;:np&lt;/span&gt;.zeros(size),                          &lt;span class=&quot;hljs-string&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);outline: none !important;&quot;&gt;&#39;high&#39;&lt;/span&gt;&lt;span class=&quot;hljs-symbol&quot; style=&quot;box-sizing: border-box;outline: none !important;&quot;&gt;:np&lt;/span&gt;.zeros(size),                          &lt;span class=&quot;hljs-string&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);outline: none !important;&quot;&gt;&#39;low&#39;&lt;/span&gt;&lt;span class=&quot;hljs-symbol&quot; style=&quot;box-sizing: border-box;outline: none !important;&quot;&gt;:np&lt;/span&gt;.zeros(size)}    &lt;span class=&quot;hljs-comment&quot; style=&quot;box-sizing: border-box;color: rgb(136, 136, 136);outline: none !important;&quot;&gt;# 更新Array，形成新的bar数据，后续指标等都是基于该Array进行计算    &lt;/span&gt;
    &lt;span class=&quot;hljs-function&quot; style=&quot;box-sizing: border-box;outline: none !important;&quot;&gt;&lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-title&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);font-weight: bold;outline: none !important;&quot;&gt;updateBarArray&lt;/span&gt;&lt;span class=&quot;hljs-params&quot; style=&quot;box-sizing: border-box;outline: none !important;&quot;&gt;(&lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;self&lt;/span&gt;)&lt;/span&gt;&lt;/span&gt;:        &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;for&lt;/span&gt; var &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;self&lt;/span&gt;.VarsArrays.keys():            &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;self&lt;/span&gt;.VarsArrays[var][&lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;hljs-symbol&quot; style=&quot;box-sizing: border-box;outline: none !important;&quot;&gt;:self&lt;/span&gt;.size-&lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;1&lt;/span&gt;] = &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;self&lt;/span&gt;.VarsArrays[var][&lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;hljs-symbol&quot; style=&quot;box-sizing: border-box;outline: none !important;&quot;&gt;:self&lt;/span&gt;.size]            &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;self&lt;/span&gt;.VarsArrays[var][-&lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;1&lt;/span&gt;] = &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;self&lt;/span&gt;.Vars[var]&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;　　在拼接数据前，我们做了一个小的识别，看数据是有有夜盘，&lt;strong&gt;有夜盘的品种我们可以定todaybar=3，没有夜盘的品种，我们定todaybar=2&lt;/strong&gt;。该变量用于在模型里帮助计算参数。这部分逻辑放在before_market_open函数中。g.TodayBar[IndexFuture]作为全局变量在模型里传递。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;pre style=&#39;box-sizing: border-box;padding: 10px 20px;margin-top: 0px;margin-bottom: 1.1em;overflow: auto;font-family: &quot;Source Code Pro&quot;, monospace;font-size: 0.9em;line-height: 1.6;word-break: break-word;overflow-wrap: break-word;background-color: rgb(245, 245, 245);border-width: 0px;border-style: initial;border-color: initial;border-radius: 5px;text-align: start;outline: none !important;&#39;&gt;&lt;code style=&#39;box-sizing: border-box;font-family: &quot;Source Code Pro&quot;, monospace;font-size: inherit;color: inherit;border-radius: 0px;white-space: pre-wrap;outline: none !important;background-color: transparent !important;&#39;&gt;&lt;span class=&quot;hljs-comment&quot; style=&quot;box-sizing: border-box;color: rgb(136, 136, 136);outline: none !important;&quot;&gt;# 以下逻辑判断该品种是否有夜盘，并计算TodayBar&lt;/span&gt;
        g.Data[IndexFuture] = attribute_history(IndexFuture,&lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;120&lt;/span&gt;, unit=&lt;span class=&quot;hljs-string&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);outline: none !important;&quot;&gt;&#39;60m&#39;&lt;/span&gt;,fields = [&lt;span class=&quot;hljs-string&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);outline: none !important;&quot;&gt;&#39;close&#39;&lt;/span&gt;])
        HourList = [x.strftime(&lt;span class=&quot;hljs-string&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);outline: none !important;&quot;&gt;&#39;%H&#39;&lt;/span&gt;) &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;for&lt;/span&gt; x &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;in&lt;/span&gt; g.Data[IndexFuture].index[:]]        &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;hljs-string&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);outline: none !important;&quot;&gt;&#39;21&#39;&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;in&lt;/span&gt; HourList: 
            g.TodayBar[IndexFuture] = &lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;3&lt;/span&gt;
        &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;else&lt;/span&gt;:
            g.TodayBar[IndexFuture] = &lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;2&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　然后就是在DataPrepare函数中，拼接数据：&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;pre style=&#39;box-sizing: border-box;padding: 10px 20px;margin-top: 0px;margin-bottom: 1.1em;overflow: auto;font-family: &quot;Source Code Pro&quot;, monospace;font-size: 0.9em;line-height: 1.6;word-break: break-word;overflow-wrap: break-word;background-color: rgb(245, 245, 245);border-width: 0px;border-style: initial;border-color: initial;border-radius: 5px;text-align: start;outline: none !important;&#39;&gt;&lt;code style=&#39;box-sizing: border-box;font-family: &quot;Source Code Pro&quot;, monospace;font-size: inherit;color: inherit;border-radius: 0px;white-space: pre-wrap;outline: none !important;background-color: transparent !important;&#39;&gt;&lt;span class=&quot;hljs-comment&quot; style=&quot;box-sizing: border-box;color: rgb(136, 136, 136);outline: none !important;&quot;&gt;# 如果当前时间在该品种实际交易时间内（基于15分钟bar），则执行拼接&lt;/span&gt;
            &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;if&lt;/span&gt; str(context.current_dt.time()) &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;in&lt;/span&gt; [x.strftime(&lt;span class=&quot;hljs-string&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);outline: none !important;&quot;&gt;&#39;%H:%M:%S&#39;&lt;/span&gt;) &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;for&lt;/span&gt; x &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;in&lt;/span&gt; g.LastPrice[IndexFuture].index[:]]:                &lt;span class=&quot;hljs-comment&quot; style=&quot;box-sizing: border-box;color: rgb(136, 136, 136);outline: none !important;&quot;&gt;# 初始化&lt;/span&gt;
                &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;if&lt;/span&gt; IndexFuture &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;not&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;in&lt;/span&gt; g.AM.keys():
                    g.AM[IndexFuture] = ArrayManager()
                    g.AM[IndexFuture].updateBar(g.LastPrice[IndexFuture][&lt;span class=&quot;hljs-string&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);outline: none !important;&quot;&gt;&#39;close&#39;&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;-1&lt;/span&gt;],
                                            g.LastPrice[IndexFuture][&lt;span class=&quot;hljs-string&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);outline: none !important;&quot;&gt;&#39;high&#39;&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;-1&lt;/span&gt;],
                                            g.LastPrice[IndexFuture][&lt;span class=&quot;hljs-string&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);outline: none !important;&quot;&gt;&#39;low&#39;&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;-1&lt;/span&gt;],
                                            g.LastPrice[IndexFuture][&lt;span class=&quot;hljs-string&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);outline: none !important;&quot;&gt;&#39;open&#39;&lt;/span&gt;][&lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;-1&lt;/span&gt;])                &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;else&lt;/span&gt;:                    &lt;span class=&quot;hljs-comment&quot; style=&quot;box-sizing: border-box;color: rgb(136, 136, 136);outline: none !important;&quot;&gt;# 收盘时间时输出新Bar&lt;/span&gt;
                    &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;if&lt;/span&gt; g.LastPrice[IndexFuture].index[&lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;-1&lt;/span&gt;].strftime(&lt;span class=&quot;hljs-string&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);outline: none !important;&quot;&gt;&#39;%H%M&#39;&lt;/span&gt;) &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;in&lt;/span&gt; g.CloseMarket :                        &lt;span class=&quot;hljs-comment&quot; style=&quot;box-sizing: border-box;color: rgb(136, 136, 136);outline: none !important;&quot;&gt;# 没有夜盘的品种在9点15分不输出新Bar&lt;/span&gt;
                        &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;if&lt;/span&gt; g.TodayBar[IndexFuture] == &lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;and&lt;/span&gt; g.LastPrice[IndexFuture].index[&lt;span class=&quot;hljs-number&quot; style=&quot;box-sizing: border-box;color: rgb(0, 136, 0);outline: none !important;&quot;&gt;-1&lt;/span&gt;].strftime(&lt;span class=&quot;hljs-string&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);outline: none !important;&quot;&gt;&#39;%H%M&#39;&lt;/span&gt;) == &lt;span class=&quot;hljs-string&quot; style=&quot;box-sizing: border-box;color: rgb(136, 0, 0);outline: none !important;&quot;&gt;&#39;0915&#39;&lt;/span&gt;:                            &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;pass&lt;/span&gt;
                        &lt;span class=&quot;hljs-keyword&quot; style=&quot;box-sizing: border-box;font-weight: bold;outline: none !important;&quot;&gt;else&lt;/span&gt;:&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　这部分的关键语句就是：&lt;br&gt;g.LastPrice[IndexFuture].index[-1].strftime(&#39;%H%M&#39;) in g.CloseMarket : 数据开始切分，g.CloseMarket被我们定义为[&#39;0915&#39;,&#39;1130&#39;,&#39;1500&#39;]，在这3个时间点上，模型通过updateBarArray产生新的拼接完毕后的K线。每次拼接完毕后，要执行数据删除clear函数。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　updateBar函数用于更新数据，这里不用更新open数据，因为一个重构后的K线的open等于最初传入的open。close数据始终更新，因为要取到最后切分那一刻之前的close。最高和最低价，自然要寻找这段时间的最高最低点了，所以进行max和min比较方法。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　模型中其他逻辑都比较简单易懂，所以搞懂此部分，基本上就能完成计算所需的数据支撑。下面我们进行参数组合测试，发现全过程表现较优质的参数。因为数据拼接涉及到IO量大，计算速度较慢，所以我建议从2014年测试，且如果你想要得到一个完整、可信度高的参数表现，要和之前测试动量模型一样，测试大约25个以上的品种。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2 mpa-is-content=&quot;t&quot; style=&quot;margin: 5px;padding-right: 10px;padding-left: 10px;font-weight: bold;white-space: normal;max-width: 100%;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);border-left: 5px solid rgb(54, 116, 201);line-height: 32px;color: rgb(54, 116, 201);border-top-color: rgb(54, 116, 201);border-bottom-color: rgb(54, 116, 201);border-right-color: rgb(54, 116, 201);box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;三、绩效测试&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;&lt;br&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　今天的文章仅演示6个品种。多组资金曲线的回测，是通过【研究】调用【回测】得到的，具体过程在这里讲过：&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;https://www.joinquant.com/post/4351?tag=algorithm&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.4180035650623886&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQS5mRKwGwhQpWA8wKXpKTbcOiaeMJpiaKW30bLoB6fPaBQfVfDcamriczPnrFHa6XgBxpf1icrlkM1iawg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1122&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.39403706688154716&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQS5mRKwGwhQpWA8wKXpKTbcagsLYOmERslZQh4YSzFZic3g8ywqSXFgqXMfib2OZKOHj8VyiaEO4j4kQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1241&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.3592964824120603&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQS5mRKwGwhQpWA8wKXpKTbc7gEHYGcXibvIia4B1hFFy1e5A7k5g0npcWO4oNzqibPJX4rIjavsKic3mg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1194&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　多组（参数）绩效如上图所示。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.6411428571428571&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQS5mRKwGwhQpWA8wKXpKTbcPexnEKAvPwwGompwkXUSG6E91qowIGH2TTiaRTypcwXO2X22Tfdeibrg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;875&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　单组绩效如上图所示。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　对于每个期货模型，&lt;strong&gt;因为很强的动量效应存在，结果都是比较理想的&lt;/strong&gt;。但是其中也不免一些参数由于设置不合理，导致性能偏低。还是建议大家在品种数量更多的环境下，且最好能够分离训练集和测试集，找到合适的实盘参数。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　　我们将全部源码放在&lt;strong&gt;&lt;span style=&quot;color: rgb(255, 41, 65);&quot;&gt;原文链接&lt;/span&gt;&lt;/strong&gt;部分，需要的朋友们可以点击获取。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);text-align: center;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;img class=&quot; __bg_gif&quot; data-backh=&quot;556&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/zEy1aCmAZQRLdpTXYOswDgyjlZMzJr3YZQFNaDd3pIAtWRVkFJSK7ezf2iafDzabFgIqzSNXRlvT8slRNWCZhiaA/0?wx_fmt=jpeg&quot; data-copyright=&quot;0&quot; data-cropselx1=&quot;12&quot; data-cropselx2=&quot;351&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;339&quot; data-ratio=&quot;0.9344444444444444&quot; data-s=&quot;300,640&quot; data-type=&quot;gif&quot; data-w=&quot;900&quot; height=&quot;542&quot; width=&quot;694&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/zEy1aCmAZQS5mRKwGwhQpWA8wKXpKTbcUwUgKuqM0OADcR1IT2z0AhW2eQMyibaV77UibB4V0XKCAengxnHYRz9w/640?wx_fmt=gif&quot; style=&quot;width: 528.047px;box-sizing: border-box !important;overflow-wrap: break-word !important;visibility: visible !important;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;margin-right: 8px;margin-left: 8px;white-space: normal;max-width: 100%;min-height: 1em;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);text-align: center;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;max-width: 100%;color: inherit;font-family: inherit;font-size: 15px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;欢迎关注&lt;/span&gt;&lt;span style=&quot;max-width: 100%;font-size: 16px;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;max-width: 100%;color: inherit;font-family: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;『&lt;/span&gt;&lt;strong style=&quot;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;聚宽量化实验室&lt;/strong&gt;&lt;span style=&quot;max-width: 100%;color: inherit;font-family: inherit;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;』&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;
                &lt;/div&gt;
                &lt;script nonce=&quot;453761219&quot; type=&quot;text/javascript&quot;&gt;
                    var first_sceen__time = (+new Date());

                    if (&quot;&quot; == 1 &amp;&amp; document.getElementById(&#39;js_content&#39;)) {
                        document.getElementById(&#39;js_content&#39;).addEventListener(&quot;selectstart&quot;,function(e){ e.preventDefault(); });
                    }

                    
                    (function(){
                        if (navigator.userAgent.indexOf(&quot;WindowsWechat&quot;) != -1){
                            var link = document.createElement(&#39;link&#39;);
                            var head = document.getElementsByTagName(&#39;head&#39;)[0];
                            link.rel = &#39;stylesheet&#39;;
                            link.type = &#39;text/css&#39;;
                            link.href = &quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/winwx430b95.css&quot;;
                            head.appendChild(link);
                        }
                    })();
                &lt;/script&gt;

                
                &lt;div class=&quot;ct_mpda_wrp&quot; id=&quot;js_sponsor_ad_area&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;
                
                
                &lt;div class=&quot;read-more__area&quot; id=&quot;js_more_read_area&quot; style=&quot;display:none;&quot;&gt;
                    
                &lt;/div&gt;

                
                                &lt;div class=&quot;reward_area tc reward_area_primary&quot; id=&quot;js_preview_reward_author&quot; style=&quot;display:none;&quot;&gt;
                    &lt;div class=&quot;reward-avatar&quot; style=&quot;display: none;&quot; id=&quot;js_preview_reward_author_avatar&quot;&gt;
                        &lt;img src=&quot;&quot; alt=&quot;&quot; id=&quot;js_preview_reward_author_head&quot;&gt;
                    &lt;/div&gt;
                    
                                        &lt;div class=&quot;reward-author&quot; id=&quot;js_preview_reward_author_name&quot;&gt;张绍勇&lt;/div&gt;
                                        &lt;p class=&quot;reward_tips&quot; id=&quot;js_preview_reward_author_wording&quot; style=&quot;display:none;&quot;&gt;&lt;/p&gt;
                    &lt;p&gt;
                        &lt;a class=&quot;reward_button&quot; id=&quot;js_preview_reward_author_link&quot; href=&quot;##&quot;&gt;&lt;span id=&quot;js_preview_reward_link_text&quot;&gt;赞赏&lt;/span&gt;&lt;/a&gt;
                    &lt;/p&gt;
                &lt;/div&gt;

                &lt;div class=&quot;reward_qrcode_area reward_area tc&quot; id=&quot;js_preview_reward_qrcode&quot; style=&quot;display:none;&quot;&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;长按二维码向我转账&lt;/p&gt;
                    &lt;p id=&quot;js_preview_reward_ios_wording&quot; class=&quot;reward_tips&quot; style=&quot;display:none;&quot;&gt;&lt;/p&gt;
                    &lt;span class=&quot;reward_qrcode_img_wrp&quot;&gt;&lt;img class=&quot;reward_qrcode_img&quot; src=&quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_reward_qrcode.2x42f400.png&quot;&gt;&lt;/span&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;受苹果公司新规定影响，微信 iOS 版的赞赏功能被关闭，可通过二维码转账支持公众号。&lt;/p&gt;
                &lt;/div&gt;
                                
                
                            &lt;/div&gt;
                                    
                        


                        
            &lt;ul id=&quot;js_hotspot_area&quot; class=&quot;article_extend_area&quot;&gt;&lt;/ul&gt;


            

            


&lt;div class=&quot;rich_media_tool&quot; id=&quot;js_toobar3&quot;&gt;

        &lt;a class=&quot;media_tool_meta meta_primary&quot; id=&quot;js_view_source&quot; href=&quot;##&quot;&gt;阅读原文&lt;/a&gt;
        &lt;div id=&quot;js_read_area3&quot; class=&quot;media_tool_meta tips_global_primary meta_primary&quot; style=&quot;display:none;&quot;&gt;阅读 &lt;span id=&quot;readNum3&quot;&gt;&lt;/span&gt;&lt;/div&gt;

    &lt;span style=&quot;display:none;&quot; class=&quot;media_tool_meta meta_extra meta_praise&quot; id=&quot;like_old&quot;&gt;
        &lt;i class=&quot;icon_praise_gray&quot;&gt;&lt;/i&gt;&lt;span class=&quot;praise_num&quot; id=&quot;likeNum_old&quot;&gt;&lt;/span&gt;
    &lt;/span&gt;

    &lt;span style=&quot;display:none;&quot; class=&quot;media_tool_meta meta_extra meta_like&quot; id=&quot;like3&quot;&gt;
        &lt;button class=&quot;like_btn&quot; id=&quot;js_like_btn&quot;&gt; 
          好看&lt;span class=&quot;like_num&quot; id=&quot;likeNum3&quot;&gt;&lt;/span&gt;
        &lt;/button&gt;
    &lt;/span&gt;

    &lt;div id=&quot;js_like_educate&quot; style=&quot;display:none&quot;&gt;
        &lt;div class=&quot;weui-mask&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;weui-dialog weui-dialog_haokan&quot;&gt;
        &lt;div class=&quot;weui-dialog__hd&quot;&gt;&lt;strong class=&quot;weui-dialog__title&quot; id=&quot;educate_title&quot;&gt;已推荐到看一看&lt;/strong&gt;&lt;/div&gt;
        &lt;div class=&quot;weui-dialog__bd&quot;&gt;
          &lt;img class=&quot;pic_haokan&quot; src=&quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_haokan42f400.png&quot;&gt;
            你的朋友可以在“发现”-“看一看”看到你认为好看的文章。        &lt;/div&gt;
        &lt;div class=&quot;weui-dialog__ft&quot; id=&quot;educate_btn&quot; style=&quot;display: none&quot;&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_default&quot; id=&quot;js_cancel&quot;&gt;取消&lt;/a&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_confirm&quot;&gt;推荐&lt;/a&gt;
        &lt;/div&gt;
        &lt;div class=&quot;weui-dialog__ft&quot; id=&quot;educate_btn2&quot; style=&quot;display: none&quot;&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_acknowledge&quot;&gt;我知道了&lt;/a&gt;
        &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;div id=&quot;js_unlike_educate&quot; style=&quot;display:none&quot;&gt;
        &lt;div class=&quot;weui-mask&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;weui-dialog&quot;&gt;
        
        &lt;div class=&quot;weui-dialog__bd&quot;&gt;
            已取消，“好看”想法已同步删除        &lt;/div&gt;
        &lt;div class=&quot;weui-dialog__ft&quot;&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_unlike_know&quot;&gt;知道了&lt;/a&gt;
        &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    
    &lt;/div&gt;


&lt;div class=&quot;like_comment_wrp&quot; id=&quot;js_a_like_comment&quot; style=&quot;display: none;&quot;&gt;
  &lt;div class=&quot;like_comment_inner&quot;&gt;
    &lt;div class=&quot;like_comment_hd&quot; style=&quot;display:none&quot; id=&quot;js_like_title&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;like_comment_bd&quot;&gt;
      &lt;div class=&quot;tips_global_primary like_comment_tips&quot;&gt;
        &lt;i class=&quot;weui-icon-success&quot;&gt;&lt;/i&gt;已推荐到看一看&lt;a href=&quot;javascript:;&quot; class=&quot;like_comment_share_link&quot; id=&quot;js_a_like_comment_share&quot;&gt;和朋友分享想法&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;like_comment_ft&quot;&gt;
      &lt;span id=&quot;js_a_like_comment_msg&quot; class=&quot;like_comment_msg&quot; style=&quot;visibility:hidden&quot;&gt;最多200字，当前共&lt;span id=&quot;js_a_like_current_cnt&quot;&gt;&lt;/span&gt;字&lt;/span&gt;
      &lt;button class=&quot;like_comment_btn&quot; disabled id=&quot;js_a_like_confirm&quot;&gt;发送&lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;div id=&quot;js_like_toast&quot; style=&quot;display: none;&quot;&gt;
  &lt;div class=&quot;weui-mask_transparent&quot;&gt;&lt;/div&gt;
  &lt;div class=&quot;weui-toast&quot;&gt;
    &lt;i class=&quot;weui-icon-success-no-circle weui-icon_toast&quot;&gt;&lt;/i&gt;
    &lt;p class=&quot;weui-toast__content&quot; id=&quot;js_toast_msg&quot;&gt;已发送&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;


&lt;div style=&quot;display: none;&quot; id=&quot;js_b_comment_panel&quot; class=&quot;like_comment_primary_pop&quot;&gt;
  &lt;div class=&quot;like_comment_primary_wrp&quot; id=&quot;js_b_wrp&quot;&gt;
    &lt;div class=&quot;like_comment_primary_inner&quot;&gt;
      &lt;div class=&quot;like_comment_primary_hd&quot;&gt;
        &lt;h4 class=&quot;like_comment_primary_title&quot;&gt;
          朋友将在看一看看到        &lt;/h4&gt;
        &lt;button id=&quot;js_b_like_confirm&quot; class=&quot;like_comment_primary_btn&quot;&gt;确定&lt;/button&gt;
      &lt;/div&gt;
      &lt;div id=&quot;js_b_comment_text_first&quot; class=&quot;like_comment_primary_bd&quot;&gt;
        &lt;span class=&quot;tips_global_primary&quot;&gt;
          分享你的想法...        &lt;/span&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;like_comment_primary_mask&quot; id=&quot;js_mask_1&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div style=&quot;display: none;&quot; id=&quot;js_b_comment_final&quot;&gt;
  &lt;div class=&quot;like_comment_primary_wrp editing&quot; id=&quot;js_comment_wrp&quot;&gt;
    &lt;div class=&quot;like_comment_primary_inner&quot;&gt;
      &lt;div class=&quot;like_comment_primary_hd&quot;&gt;
        &lt;button class=&quot;like_comment_primary_cancel&quot; id=&quot;js_b_comment_cancel&quot;&gt;取消&lt;/button&gt;
        &lt;h4 class=&quot;like_comment_primary_title&quot;&gt; 分享想法到看一看 &lt;/h4&gt;
        &lt;button class=&quot;like_comment_primary_btn&quot; id=&quot;js_b_comment_confirm&quot;&gt;确定&lt;/button&gt;
      &lt;/div&gt;
      &lt;div class=&quot;like_comment_primary_bd&quot;&gt;
        &lt;textarea class=&quot;like_comment_textarea weui-textarea&quot; placeholder=&quot;分享你的想法...&quot; id=&quot;js_b_comment_text_second&quot;&gt;&lt;/textarea&gt;
      &lt;/div&gt;
      &lt;span class=&quot;like_comment_msg&quot; id=&quot;js_b_like_comment_msg&quot; style=&quot;visibility: hidden;&quot;&gt;最多200字，当前共&lt;span id=&quot;js_b_like_current_cnt&quot;&gt;&lt;/span&gt;字&lt;/span&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;like_comment_primary_mask&quot; id=&quot;js_mask_2&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div id=&quot;js_loading&quot; style=&quot; display: none;&quot;&gt;
    &lt;div class=&quot;weui-mask_transparent&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;weui-toast&quot;&gt;
        &lt;i class=&quot;weui-loading weui-icon_toast&quot;&gt;&lt;/i&gt;
        &lt;p class=&quot;weui-toast__content&quot;&gt;发送中&lt;/p&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div id=&quot;js_fail&quot; style=&quot;display:none&quot;&gt;
    &lt;div class=&quot;weui-mask&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;weui-dialog&quot;&gt;
    &lt;div class=&quot;weui-dialog__bd&quot;&gt;
        网络异常，请稍后重试    &lt;/div&gt;
    &lt;div class=&quot;weui-dialog__ft&quot;&gt;
      &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_fail_inform&quot;&gt;知道了&lt;/a&gt;
    &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;



                        &lt;div class=&quot;rich_media_tool&quot; id=&quot;js_sg_bar&quot;&gt;

                                &lt;a class=&quot;media_tool_meta meta_primary&quot; href=&quot;https://www.joinquant.com/post/16022&quot; target=&quot;_blank&quot;&gt;阅读原文&lt;/a&gt;
                                
            &lt;/div&gt;
                      &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class=&quot;rich_media_area_primary sougou&quot; id=&quot;sg_tj&quot; style=&quot;display:none&quot;&gt;&lt;/div&gt;


        
        &lt;div class=&quot;rich_media_area_extra&quot;&gt;
          &lt;div class=&quot;rich_media_area_extra_inner&quot;&gt;
              
              &lt;div id=&quot;js_share_appmsg&quot;&gt;
              &lt;/div&gt;

              
                            &lt;div class=&quot;mpda_bottom_container&quot; id=&quot;js_bottom_ad_area&quot;&gt;&lt;/div&gt;
                            
              &lt;div id=&quot;js_iframetest&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;
                            
                            
              &lt;div class=&quot;rich_media_extra rich_media_extra_discuss&quot; id=&quot;js_cmt_container&quot; style=&quot;display:none&quot;&gt;
                

                
                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_friend_cmt_area&quot; style=&quot;display:none&quot;&gt;
                  
                  
                  
                &lt;/div&gt;

                                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_cmt_area&quot; style=&quot;display:none&quot;&gt;
                &lt;/div&gt;
                              &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        
        &lt;div id=&quot;js_pc_qr_code&quot; class=&quot;qr_code_pc_outer&quot; style=&quot;display:none;&quot;&gt;
            &lt;div class=&quot;qr_code_pc_inner&quot;&gt;
                &lt;div class=&quot;qr_code_pc&quot;&gt;
                    &lt;img id=&quot;js_pc_qr_code_img&quot; class=&quot;qr_code_pc_img&quot;&gt;
                    &lt;p&gt;微信扫一扫&lt;br&gt;关注该公众号&lt;/p&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;</description>
<author>张绍勇</author>
<guid isPermaLink="false">2019-01-16-1000000089</guid>
<pubDate>Wed, 16 Jan 2019 00:00:00 +0800</pubDate>
</item>
<item>
<title>【年度干货】精选99个量化投资策略源码打包下载</title>
<link>https://henix.github.io/feeds/weixin.sogou.JoinQuant-jx/2019-01-14-1000000088.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?timestamp=1548303572&amp;amp;src=3&amp;amp;ver=1&amp;amp;signature=SlGAs0tUtyjPK5B5ILqEBbDaeuxqfhEqIaxTj8NVG0vxKEW7RGCZsxViZqsaSRafz8OS*KAWo4NpiBJDOx0PXh5a9XLafaZaW-E*9EUX*ixo5rHzNiJ57KC5moeIxNQ*53dK7ua8eGdKMn*gCWspYHiWg-LhVl8uKTm5DwPsGgs=&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;div id=&quot;js_top_ad_area&quot; class=&quot;top_banner&quot;&gt;&lt;/div&gt;&lt;div class=&quot;rich_media_inner&quot;&gt;

        
        
        &lt;div id=&quot;page-content&quot; class=&quot;rich_media_area_primary&quot;&gt;
          &lt;div class=&quot;rich_media_area_primary_inner&quot;&gt;
                                    
                        

            &lt;div id=&quot;img-content&quot;&gt;

                
                &lt;h2 class=&quot;rich_media_title&quot; id=&quot;activity-name&quot;&gt;
                    
                    
                    【年度干货】精选99个量化投资策略源码打包下载

                                                                                &lt;/h2&gt;
                &lt;div id=&quot;meta_content&quot; class=&quot;rich_media_meta_list&quot;&gt;
                                                                                &lt;span class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;
                                                聚宽社区
                                            &lt;/span&gt;
                                        
                                        &lt;span class=&quot;rich_media_meta rich_media_meta_nickname&quot; id=&quot;profileBt&quot;&gt;
                      &lt;a href=&quot;javascript:void(0);&quot; id=&quot;js_name&quot;&gt;
                        聚宽量化实验室                      &lt;/a&gt;
                      &lt;div id=&quot;js_profile_qrcode&quot; class=&quot;profile_container&quot; style=&quot;display:none;&quot;&gt;
                          &lt;div class=&quot;profile_inner&quot;&gt;
                              &lt;strong class=&quot;profile_nickname&quot;&gt;聚宽量化实验室&lt;/strong&gt;
                              &lt;img class=&quot;profile_avatar&quot; id=&quot;js_profile_qrcode_img&quot; src=&quot;&quot; alt=&quot;&quot;&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;微信号&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;JoinQuant-jx&lt;/span&gt;
                              &lt;/p&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;功能介绍&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;用数学+编程，驾驭金融市场波动。 汇集最优质量化投资模型，和最勤奋聪明的大脑。&lt;/span&gt;
                              &lt;/p&gt;
                              
                          &lt;/div&gt;
                          &lt;span class=&quot;profile_arrow_wrp&quot; id=&quot;js_profile_arrow_wrp&quot;&gt;
                              &lt;i class=&quot;profile_arrow arrow_out&quot;&gt;&lt;/i&gt;
                              &lt;i class=&quot;profile_arrow arrow_in&quot;&gt;&lt;/i&gt;
                          &lt;/span&gt;
                      &lt;/div&gt;
                    &lt;/span&gt;


                    &lt;em id=&quot;publish_time&quot; class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;&lt;/em&gt;





                &lt;/div&gt;
                
                
                
                
                                                
                                                                
                                
                
                &lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    

                    
                    
                    &lt;p style=&quot;text-align: justify;margin-left: 8px;margin-right: 8px;&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;img src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/ZZTd2u8ycXibDM6MY1CKPZH6IwxyWUeKlfbgiahCVnsEygjPWkwGczyGemVPbTZHg6blIUyPIashqscFCtHia13mQ/640?&quot; class=&quot;&quot; data-ratio=&quot;0.2222222222222222&quot; data-w=&quot;900&quot; data-backw=&quot;556&quot; data-backh=&quot;123&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_gif/ZZTd2u8ycXibDM6MY1CKPZH6IwxyWUeKlfbgiahCVnsEygjPWkwGczyGemVPbTZHg6blIUyPIashqscFCtHia13mQ/640?&quot; style=&quot;width: 100%;height: auto;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: justify;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;1&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQS5mRKwGwhQpWA8wKXpKTbcJibRdnLHGft93Vm5g1Yph1icibI2vEPT8m1m8iaENqdtCAOP6twwHmca1Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;1522954&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;section class=&quot;&quot; label=&quot;powered by 135editor.com&quot; style=&quot;white-space: normal;max-width: 100%;font-family: 微软雅黑;background-color: rgb(255, 255, 255);box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;section class=&quot;&quot; style=&quot;max-width: 100%;box-sizing: border-box !important;word-wrap: break-word !important;&quot;&gt;&lt;section style=&quot;padding: 10px;max-width: 100%;border-width: 1px;border-style: solid;border-color: rgb(240, 242, 246);font-family: inherit;text-decoration: inherit;background-color: rgb(240, 242, 246);box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;p style=&quot;margin: 5px 0px;color: rgb(62, 62, 62);line-height: 25.6px;max-width: 100%;min-height: 1em;text-align: justify;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;span style=&quot;font-family: inherit;text-decoration: inherit;font-size: 14px;color: rgb(89, 89, 89);&quot;&gt;岁月不居，时节如流，在过去的2018年里，大量的策略在聚宽中被无私分享，我们根据&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 56, 56);&quot;&gt;&lt;strong&gt;&lt;span style=&quot;color: rgb(56, 56, 56);font-family: inherit;text-decoration: inherit;font-size: 14px;&quot;&gt;盈利能力&lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;&lt;span style=&quot;font-family: inherit;text-decoration: inherit;font-size: 14px;&quot;&gt;、最大回撤率&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span style=&quot;font-family: inherit;text-decoration: inherit;font-size: 14px;color: rgb(89, 89, 89);&quot;&gt;等因素进行了筛选，选出&lt;/span&gt;&lt;span style=&quot;color: rgb(54, 116, 201);font-size: 16px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;color: rgb(54, 116, 201);font-family: inherit;text-decoration: inherit;&quot;&gt;99&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span style=&quot;font-family: inherit;text-decoration: inherit;font-size: 14px;color: rgb(56, 56, 56);&quot;&gt;个回测不错的策略并连同&lt;/span&gt;&lt;span style=&quot;color: rgb(56, 56, 56);&quot;&gt;&lt;strong&gt;&lt;span style=&quot;color: rgb(56, 56, 56);font-family: inherit;text-decoration: inherit;font-size: 14px;&quot;&gt;源码打包&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span style=&quot;font-family: inherit;text-decoration: inherit;font-size: 14px;color: rgb(89, 89, 89);&quot;&gt;整理好了，在此分享给大家，希望能帮大家开阔思路。&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;margin-left: 8px;margin-right: 8px;line-height: 1.5em;&quot;&gt;&lt;span style=&#39;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;&#39;&gt;&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;line-height: 1.5em;margin-left: 0px;margin-right: 0px;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;300&quot; data-backw=&quot;540&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQTibva6ibTrP0K13f0JbJiaRJ2ia5rGRsgCa7GtVZfWVpQXVCEXFGo0LpERDyniajc137Ir3icrO1dEpia9g/0?wx_fmt=png&quot; data-copyright=&quot;0&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;540&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;360&quot; data-ratio=&quot;0.5555555555555556&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQTibva6ibTrP0K13f0JbJiaRJ2ia5rGRsgCa7GtVZfWVpQXVCEXFGo0LpERDyniajc137Ir3icrO1dEpia9g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;900&quot; style=&quot;width: 100%;height: auto;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;margin-left: 8px;margin-right: 8px;line-height: 1.5em;&quot;&gt;&lt;span style=&#39;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;&#39;&gt;&lt;/span&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin-left: 8px;margin-right: 8px;line-height: 1.5em;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;1521512&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;section style=&quot;display: -webkit-box;display: -webkit-box-flex;display: flex;justify-content: center;-webkit-box-pack:center;-webkit-justify-content:center;height:36px;line-height: 36px;&quot;&gt;&lt;section style=&quot;height:18px;width:18px;box-shadow: -2px -2px 2px rgba(33,150,243,0.5);&quot;&gt;&lt;/section&gt;&lt;section mpa-is-content=&quot;t&quot;&gt;&lt;section style=&quot;display: -webkit-box;display: -webkit-box-flex;display: flex;justify-content: center;-webkit-box-pack:center;-webkit-justify-content:center;height:36px;line-height: 36px;&quot;&gt;&lt;span style=&quot;color: rgb(56, 56, 56);font-size: 17px;&quot;&gt;&lt;strong mpa-from-tpl=&quot;t&quot; mpa-is-content=&quot;t&quot;&gt;部分策略回测收益曲线图&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;height:18px;width:18px;box-shadow: 2px 2px 2px rgba(33,150,243,0.5);margin-top: 18px;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;margin-left: 8px;margin-right: 8px;line-height: 1.5em;&quot;&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-left: 8px;margin-right: 8px;line-height: 1.5em;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin-left: 8px;margin-right: 8px;line-height: 1.5em;&quot;&gt;&lt;strong style=&#39;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;&#39;&gt; &lt;/strong&gt;&lt;/p&gt;&lt;section data-mpa-template-id=&quot;1909&quot; data-mpa-color=&quot;#ffffff&quot; data-mpa-category=&quot;标题&quot;&gt;&lt;section data-id=&quot;87856&quot; data-color=&quot;rgb(254, 236, 175)&quot; data-custom=&quot;rgb(254, 236, 175)&quot;&gt;&lt;section data-mpa-template-id=&quot;1545737&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;section data-id=&quot;87856&quot; data-color=&quot;rgb(254, 236, 175)&quot; data-custom=&quot;rgb(254, 236, 175)&quot;&gt;&lt;section data-mpa-template-id=&quot;1566&quot; data-mpa-color=&quot;#ffffff&quot; data-mpa-category=&quot;标题&quot;&gt;&lt;section&gt;&lt;p&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;32&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;32&quot; data-ratio=&quot;1&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSyAObN3AqGAdxX4ESAgyeuGKrQYzwFFj4RJDUeEsnOoRn3yibKRzLmicMq4aEhRfB2fjSh6urnaGKw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;58&quot; style=&quot;float: left;width: 32px;height: 32px;&quot;&gt;&lt;span style=&#39;background-color: rgb(255, 255, 255);font-family: &quot;Microsoft Yahei&quot;, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;font-size: 15px;color: rgb(89, 89, 89);&#39;&gt; &lt;/span&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;strong&gt;&lt;span style=&#39;background-color: rgb(255, 255, 255);font-family: &quot;Microsoft Yahei&quot;, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;color: rgb(54, 116, 201);&#39;&gt;穿越牛熊价值精选策略：&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: justify;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: justify;margin-left: 8px;margin-right: 8px;&quot;&gt;&lt;span style=&#39;background-color: rgb(255, 255, 255);font-family: &quot;Microsoft Yahei&quot;, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;font-size: 15px;color: rgb(89, 89, 89);&#39;&gt;投资大师&lt;strong&gt;霍华•罗斯曼&lt;/strong&gt;认为好的交易方式应选择优质股票并长期持有，作者从中获取灵感，根据&lt;/span&gt;&lt;span style=&quot;text-decoration: none;color: rgb(89, 89, 89);&quot;&gt;&lt;strong&gt;&lt;span style=&#39;text-decoration: none;background-color: rgb(255, 255, 255);font-family: &quot;Microsoft Yahei&quot;, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;font-size: 15px;&#39;&gt;财务指标&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span style=&#39;background-color: rgb(255, 255, 255);font-family: &quot;Microsoft Yahei&quot;, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;font-size: 15px;color: rgb(89, 89, 89);&#39;&gt;选择上市公司，并量化为投资策略，取得穿越牛熊持续增长的回测表现。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: justify;margin-left: 8px;margin-right: 8px;&quot;&gt;&lt;span style=&#39;color: rgb(119, 119, 119);font-size: 0.7rem;background-color: rgb(250, 250, 250);letter-spacing: 0.544px;text-align: center;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;&#39;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;h2 class=&quot;rich_media_title&quot; style=&quot;margin-right: 8px;margin-bottom: 14px;margin-left: 8px;font-size: 22px;white-space: normal;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);line-height: normal;&quot;&gt;&lt;span style=&#39;color: rgb(89, 89, 89);font-family: &quot;Microsoft Yahei&quot;, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;font-size: 15px;&#39;&gt;点击查看策略详情：&lt;/span&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzI0MjE2MjE2MA==&amp;amp;mid=2716577621&amp;amp;idx=1&amp;amp;sn=8bca3c9b146fb13ad4e4a723f28ed93d&amp;amp;scene=21#wechat_redirect&quot; target=&quot;_blank&quot; data-linktype=&quot;2&quot;&gt;&lt;span style=&#39;font-family: &quot;Microsoft Yahei&quot;, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;font-size: 15px;&#39;&gt;《跑赢高利贷，碾压北京房价的策略，了解一下吗》&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;1550391&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot; style=&quot;white-space: normal;&quot;&gt;&lt;p class=&quot;&quot; style=&quot;margin-bottom: 20px;padding: 0.4rem;color: rgb(0, 0, 0);border-width: 1px;border-style: solid;border-color: rgb(242, 242, 242);background-color: rgb(250, 250, 250);text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;541&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;261&quot; data-ratio=&quot;0.4772727272727273&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSyAObN3AqGAdxX4ESAgyeuAic93lm6yKrriaf9SBsrfnEYfzbS9IRzK11UAy16M4PWL3sNib6e9RIDA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1276&quot; style=&quot;height: 261px;vertical-align: top;width: 547px;visibility: visible !important;&quot;&gt;&lt;span class=&quot;&quot; style=&quot;margin-top: 5px;color: rgb(119, 119, 119);font-size: 0.7rem;line-height: 1.5;display: block;&quot;&gt;&lt;span style=&quot;margin-top: 5px;line-height: 1.5;display: block;font-size: 14px;&quot;&gt;&lt;strong&gt;年化收益&lt;/strong&gt;&lt;strong style=&#39;color: rgb(54, 116, 201);font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;&#39;&gt;42%&lt;/strong&gt;&lt;strong style=&#39;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 0.7rem;color: rgb(54, 116, 201);&#39;&gt; &lt;/strong&gt;&lt;strong&gt;最大回撤&lt;/strong&gt;&lt;strong style=&#39;color: rgb(54, 116, 201);font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;&#39;&gt;27%&lt;/strong&gt;&lt;strong&gt; 夏普比&lt;/strong&gt;&lt;strong style=&#39;color: rgb(54, 116, 201);font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;&#39;&gt;1.25&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;p&gt;&lt;span style=&#39;color: rgb(54, 116, 201);font-size: 16px;font-weight: bold;text-align: left;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;&#39;&gt;&lt;br&gt;&lt;/span&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;32&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;32&quot; data-ratio=&quot;1&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSyAObN3AqGAdxX4ESAgyeuGKrQYzwFFj4RJDUeEsnOoRn3yibKRzLmicMq4aEhRfB2fjSh6urnaGKw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;58&quot; style=&quot;float: left;width: 32px;height: 32px;&quot;&gt;&lt;span style=&#39;background-color: rgb(255, 255, 255);font-family: &quot;Microsoft Yahei&quot;, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;font-size: 15px;color: rgb(89, 89, 89);&#39;&gt; &lt;/span&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;strong&gt;&lt;span style=&#39;font-size: 16px;background-color: rgb(255, 255, 255);font-family: &quot;Microsoft Yahei&quot;, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;color: rgb(54, 116, 201);&#39;&gt;机器学习多因子策略：&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-left: 8px;margin-right: 8px;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin-left: 8px;margin-right: 8px;&quot;&gt;&lt;span style=&#39;background-color: rgb(255, 255, 255);font-family: &quot;Microsoft Yahei&quot;, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;font-size: 15px;color: rgb(89, 89, 89);&#39;&gt;基于经济学家在2005和2012发表的两篇论文，探究&lt;/span&gt;&lt;span style=&#39;background-color: rgb(255, 255, 255);font-family: &quot;Microsoft Yahei&quot;, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;font-size: 15px;color: rgb(89, 89, 89);&#39;&gt;市值因子&lt;/span&gt;&lt;span style=&#39;background-color: rgb(255, 255, 255);font-family: &quot;Microsoft Yahei&quot;, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;font-size: 15px;color: rgb(89, 89, 89);&#39;&gt;在我国二级市场中的表现。与传统多元线性回归不同，本文采用了&lt;strong&gt;支持向量回归&lt;/strong&gt;（Support Vector Regression）和&lt;strong&gt;随机森林回归&lt;/strong&gt;（Random Forest Regression）两种机器学习算法得到因子，并取得了不错的表现。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 1.5em;margin-left: 8px;margin-right: 8px;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;h2 class=&quot;rich_media_title&quot; style=&quot;margin-bottom: 14px;font-size: 22px;letter-spacing: 0.544px;text-align: justify;white-space: normal;background-color: rgb(255, 255, 255);margin-left: 8px;margin-right: 8px;line-height: normal;&quot;&gt;&lt;span style=&#39;color: rgb(89, 89, 89);font-family: &quot;Microsoft Yahei&quot;, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;background-color: rgb(255, 255, 255);font-size: 15px;&#39;&gt;点击查看策略详情：&lt;/span&gt;&lt;span style=&#39;background-color: rgb(255, 255, 255);font-family: &quot;Microsoft Yahei&quot;, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;font-size: 15px;color: rgb(89, 89, 89);&#39;&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzI0MjE2MjE2MA==&amp;amp;mid=2716576692&amp;amp;idx=1&amp;amp;sn=c96ca9ef5b1d5cc49692afe76c066ab1&amp;amp;scene=21#wechat_redirect&quot; target=&quot;_blank&quot; data-linktype=&quot;2&quot;&gt;《【量化课堂】机器学习多因子策略》&lt;/a&gt;&lt;/span&gt;&lt;/h2&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;1550391&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;p style=&quot;color: rgb(0, 0, 0);padding: 0.4rem;border-width: 1px;border-style: solid;border-color: rgb(242, 242, 242);margin-bottom: 20px;background-color: rgb(250, 250, 250);text-align: center;&quot; class=&quot;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;541&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;277&quot; data-ratio=&quot;0.4823943661971831&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSyAObN3AqGAdxX4ESAgyeue3yibHGGtIEcQLIqaqVVKBTO6Pj6ODvwSfreV46ZpBpGwqKB7ZnnCYw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;852&quot; style=&quot;vertical-align: top;width: 556px;height: 268px;visibility: visible !important;&quot;&gt;&lt;span style=&quot;color: rgb(119, 119, 119);font-size: 0.7rem;line-height: 1.5;display: block;margin-top: 5px;&quot; class=&quot;&quot;&gt;&lt;span style=&quot;color: rgb(119, 119, 119);line-height: 1.5;display: block;margin-top: 5px;font-size: 14px;&quot;&gt;&lt;strong&gt;年化收益&lt;/strong&gt;&lt;strong style=&#39;color: rgb(54, 116, 201);font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;&#39;&gt;55%&lt;/strong&gt;&lt;strong style=&#39;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 0.7rem;color: rgb(54, 116, 201);&#39;&gt; &lt;/strong&gt;&lt;strong&gt;最大回撤&lt;/strong&gt;&lt;strong style=&#39;color: rgb(54, 116, 201);font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;&#39;&gt;25%&lt;/strong&gt;&lt;strong&gt; 夏普比&lt;/strong&gt;&lt;strong style=&#39;color: rgb(54, 116, 201);font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;&#39;&gt;2.07&lt;/strong&gt;&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;p style=&quot;line-height: 1.5em;margin-left: 8px;margin-right: 8px;&quot;&gt;&lt;strong mpa-from-tpl=&quot;t&quot; style=&#39;color: rgb(48, 107, 178);font-size: 16px;text-align: left;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;&#39;&gt;&lt;span style=&quot;color: rgb(56, 56, 56);&quot; mpa-is-content=&quot;t&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;32&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;32&quot; data-ratio=&quot;1&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSyAObN3AqGAdxX4ESAgyeuGKrQYzwFFj4RJDUeEsnOoRn3yibKRzLmicMq4aEhRfB2fjSh6urnaGKw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;58&quot; style=&quot;float: left;width: 32px;height: 32px;&quot;&gt; &lt;strong style=&#39;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;&#39;&gt;&lt;span style=&#39;background-color: rgb(255, 255, 255);font-family: &quot;Microsoft Yahei&quot;, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;font-size: 15px;color: rgb(54, 116, 201);&#39;&gt;商品期货&lt;/span&gt;&lt;/strong&gt;&lt;span style=&#39;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 16px;&#39;&gt;&lt;strong style=&#39;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;&#39;&gt;&lt;span style=&#39;background-color: rgb(255, 255, 255);font-family: &quot;Microsoft Yahei&quot;, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;color: rgb(54, 116, 201);&#39;&gt;动量趋势策略：&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;line-height: 1.5em;margin-left: 8px;margin-right: 8px;&quot;&gt;&lt;strong style=&#39;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;&#39;&gt;&lt;span style=&#39;background-color: rgb(255, 255, 255);font-family: &quot;Microsoft Yahei&quot;, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;font-size: 15px;color: rgb(54, 116, 201);&#39;&gt;&lt;br&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin-left: 8px;margin-right: 8px;&quot;&gt;&lt;span style=&#39;background-color: rgb(255, 255, 255);font-family: &quot;Microsoft Yahei&quot;, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;font-size: 15px;color: rgb(89, 89, 89);&#39;&gt;作者开发的策略的主要目标在于&lt;strong&gt;验证动量策略在商品期货市场的有效性&lt;/strong&gt;，为了验证结果可靠，作者测试了很多期货品种，几乎要把期货全品种都验证了，把资金曲线整合到一起输出成今天的模型。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-right: 8px;margin-left: 8px;white-space: normal;line-height: 1.5em;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;h2 class=&quot;rich_media_title&quot; style=&quot;margin-right: 8px;margin-bottom: 14px;margin-left: 8px;font-size: 22px;white-space: normal;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);line-height: normal;&quot;&gt;&lt;span style=&#39;font-family: &quot;Microsoft Yahei&quot;, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;font-size: 15px;color: rgb(89, 89, 89);&#39;&gt;点击查看策略详情：&lt;/span&gt;&lt;span style=&#39;font-family: &quot;Microsoft Yahei&quot;, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;font-size: 15px;&#39;&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzI0MjE2MjE2MA==&amp;amp;mid=2716577725&amp;amp;idx=1&amp;amp;sn=c9625a0072f759c03c474170e2e54296&amp;amp;scene=21#wechat_redirect&quot; target=&quot;_blank&quot; data-linktype=&quot;2&quot;&gt;《趋势交易能赚钱吗？商品期货动量效应挖掘初探》&lt;/a&gt;&lt;/span&gt;&lt;/h2&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;1550391&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;p style=&quot;color: rgb(0, 0, 0);padding: 0.4rem;border-width: 1px;border-style: solid;border-color: rgb(242, 242, 242);margin-bottom: 20px;background-color: rgb(250, 250, 250);text-align: center;&quot; class=&quot;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;541&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;277&quot; data-ratio=&quot;0.48539857932123126&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSyAObN3AqGAdxX4ESAgyeuozzaIDKdiawB8gYicDLJ0mhVuqiaHm9D2UAV1JibQWJhiaBmD6PPsW0MDqA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1267&quot; style=&quot;vertical-align: top;width: 556px;height: 270px;visibility: visible !important;&quot;&gt;&lt;span style=&quot;color: rgb(119, 119, 119);line-height: 1.5;display: block;margin-top: 5px;font-size: 15px;&quot; class=&quot;&quot;&gt;&lt;span style=&#39;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;text-align: center;font-size: 14px;&#39;&gt;&lt;strong&gt;年化收益&lt;/strong&gt;&lt;/span&gt;&lt;span style=&#39;color: rgb(54, 116, 201);font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 14px;&#39;&gt;&lt;strong&gt;20%&lt;/strong&gt;&lt;/span&gt;&lt;strong style=&#39;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;color: rgba(0, 0, 0, 0);font-size: 14px;&#39;&gt; &lt;/strong&gt;&lt;span style=&#39;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;text-align: center;font-size: 14px;&#39;&gt;&lt;strong&gt;最大回撤&lt;/strong&gt;&lt;/span&gt;&lt;strong style=&#39;color: rgb(54, 116, 201);font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 14px;&#39;&gt;13% &lt;/strong&gt;&lt;span style=&#39;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;text-align: center;font-size: 14px;&#39;&gt;&lt;strong&gt;夏普比&lt;/strong&gt;&lt;/span&gt;&lt;span style=&#39;color: rgb(54, 116, 201);font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 14px;&#39;&gt;&lt;strong&gt;1.17&lt;/strong&gt;&lt;/span&gt;&lt;strong style=&#39;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;color: rgba(0, 0, 0, 0);font-size: 14px;&#39;&gt;1&lt;/strong&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;p style=&quot;margin-left: 8px;margin-right: 8px;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin-left: 8px;margin-right: 8px;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;32&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;32&quot; data-ratio=&quot;1&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSyAObN3AqGAdxX4ESAgyeuGKrQYzwFFj4RJDUeEsnOoRn3yibKRzLmicMq4aEhRfB2fjSh6urnaGKw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;58&quot; style=&quot;float: left;width: 32px;height: 32px;&quot;&gt;&lt;strong style=&#39;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;&#39;&gt;&lt;span style=&#39;background-color: rgb(255, 255, 255);font-family: &quot;Microsoft Yahei&quot;, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;font-size: 15px;color: rgb(54, 116, 201);&#39;&gt; &lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;strong style=&#39;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;&#39;&gt;&lt;span style=&#39;background-color: rgb(255, 255, 255);font-family: &quot;Microsoft Yahei&quot;, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;color: rgb(54, 116, 201);&#39;&gt;财务选股大盘择时策略：&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin-left: 8px;margin-right: 8px;&quot;&gt;&lt;strong style=&#39;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;&#39;&gt;&lt;span style=&#39;background-color: rgb(255, 255, 255);font-family: &quot;Microsoft Yahei&quot;, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;font-size: 15px;color: rgb(54, 116, 201);&#39;&gt;&lt;br&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin-left: 8px;margin-right: 8px;&quot;&gt;&lt;span style=&#39;background-color: rgb(255, 255, 255);font-family: &quot;Microsoft Yahei&quot;, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;font-size: 15px;color: rgb(89, 89, 89);&#39;&gt;基于&lt;/span&gt;&lt;span style=&#39;background-color: rgb(255, 255, 255);font-family: &quot;Microsoft Yahei&quot;, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;font-size: 15px;color: rgb(89, 89, 89);&#39;&gt;财务因子进&lt;/span&gt;&lt;span style=&#39;background-color: rgb(255, 255, 255);font-family: &quot;Microsoft Yahei&quot;, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;font-size: 15px;color: rgb(89, 89, 89);&#39;&gt;行选股，从2005年到2018年，13年的时间，该策略累计获得收益&lt;strong&gt;2395.74%&lt;/strong&gt;的收益，是&lt;strong&gt;同期上证指数的20倍左右&lt;/strong&gt;。借助RSRS支持阻力相对强弱指标进行大盘择时，规避熊市回撤较大的问题。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-right: 8px;margin-left: 8px;white-space: normal;line-height: 1.5em;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;h2 class=&quot;rich_media_title&quot; style=&quot;margin-right: 8px;margin-bottom: 14px;margin-left: 8px;font-size: 22px;white-space: normal;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);line-height: normal;&quot;&gt;&lt;span style=&#39;font-family: &quot;Microsoft Yahei&quot;, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;font-size: 15px;color: rgb(89, 89, 89);&#39;&gt;点击查看策略详情：&lt;/span&gt;&lt;span style=&#39;font-family: &quot;Microsoft Yahei&quot;, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;font-size: 15px;&#39;&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?__biz=MzI0MjE2MjE2MA==&amp;amp;mid=2716577636&amp;amp;idx=1&amp;amp;sn=9a710ed9489ac307473ca8f014afa7f0&amp;amp;scene=21#wechat_redirect&quot; target=&quot;_blank&quot; data-linktype=&quot;2&quot;&gt;《春暖花开前，不如先看看这个策略》&lt;/a&gt;&lt;/span&gt;&lt;/h2&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;1550391&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;p style=&quot;color: rgb(0, 0, 0);padding: 0.4rem;border-width: 1px;border-style: solid;border-color: rgb(242, 242, 242);margin-bottom: 20px;background-color: rgb(250, 250, 250);text-align: center;&quot; class=&quot;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;541&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;277&quot; data-ratio=&quot;0.4682352941176471&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSyAObN3AqGAdxX4ESAgyeuqM2sZ7yxxsWbPdgriaZ52eQ9emj2rfCKxMQJDumJcr1m4rE8lWdWLQQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1275&quot; style=&quot;vertical-align: top;width: 556px;height: 260px;visibility: visible !important;&quot;&gt;&lt;span style=&quot;color: rgb(119, 119, 119);line-height: 1.5;display: block;margin-top: 5px;font-size: 14px;&quot; class=&quot;&quot;&gt;&lt;strong&gt;年化收益&lt;/strong&gt;&lt;strong mpa-from-tpl=&quot;t&quot; style=&#39;color: rgb(54, 116, 201);font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;&#39;&gt;34%&lt;/strong&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt; &lt;/strong&gt;&lt;strong&gt;最大回撤&lt;/strong&gt;&lt;strong mpa-from-tpl=&quot;t&quot; style=&#39;color: rgb(54, 116, 201);font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;&#39;&gt;11% &lt;/strong&gt;&lt;strong&gt;夏普比&lt;/strong&gt;&lt;strong mpa-from-tpl=&quot;t&quot; style=&#39;color: rgb(54, 116, 201);font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;&#39;&gt;1.70 &lt;/strong&gt;&lt;span style=&#39;color: rgb(54, 116, 201);font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;&#39;&gt; &lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;p style=&quot;margin-left: 8px;margin-right: 8px;&quot;&gt;&lt;strong mpa-from-tpl=&quot;t&quot; style=&#39;color: rgb(48, 107, 178);font-size: 16px;text-align: left;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;&#39;&gt;&lt;span style=&quot;color: rgb(56, 56, 56);&quot; mpa-is-content=&quot;t&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/strong&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;32&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;32&quot; data-ratio=&quot;1&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSyAObN3AqGAdxX4ESAgyeuGKrQYzwFFj4RJDUeEsnOoRn3yibKRzLmicMq4aEhRfB2fjSh6urnaGKw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;58&quot; style=&quot;float: left;width: 32px;height: 32px;&quot;&gt;&lt;strong style=&#39;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;&#39;&gt;&lt;span style=&#39;background-color: rgb(255, 255, 255);font-family: &quot;Microsoft Yahei&quot;, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;font-size: 15px;color: rgb(54, 116, 201);&#39;&gt; &lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;strong style=&#39;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;&#39;&gt;&lt;span style=&#39;background-color: rgb(255, 255, 255);font-family: &quot;Microsoft Yahei&quot;, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;color: rgb(54, 116, 201);&#39;&gt;更多策略等你获取：&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin-left: 8px;margin-right: 8px;line-height: 1.5em;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin-left: 8px;margin-right: 8px;line-height: 1.5em;&quot;&gt;&lt;span style=&#39;background-color: rgb(255, 255, 255);font-family: &quot;Microsoft Yahei&quot;, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;font-size: 15px;color: rgb(89, 89, 89);&#39;&gt;太长一张图截不下，全截出来会会很长，不过，真的会有99个策略哦～&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-left: 8px;margin-right: 8px;line-height: 1.5em;&quot;&gt;&lt;span style=&#39;background-color: rgb(255, 255, 255);font-family: &quot;Microsoft Yahei&quot;, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;font-size: 15px;color: rgb(89, 89, 89);&#39;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;margin-left: 8px;margin-right: 8px;line-height: 1.5em;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;448&quot; data-backw=&quot;540&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQS5mRKwGwhQpWA8wKXpKTbcWkiaqSYP2Liaibf2OPxL56dwT708yeeKgNXcN2LwDf2nEURoxM2Tw3ZaQ/0?wx_fmt=png&quot; data-copyright=&quot;0&quot; data-cropselx1=&quot;130&quot; data-cropselx2=&quot;410&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;490&quot; data-ratio=&quot;0.8288888888888889&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQS5mRKwGwhQpWA8wKXpKTbcWkiaqSYP2Liaibf2OPxL56dwT708yeeKgNXcN2LwDf2nEURoxM2Tw3ZaQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;900&quot; style=&quot;width: 100%;height: auto;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;margin-left: 8px;margin-right: 8px;line-height: 1.5em;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin-left: 8px;margin-right: 8px;line-height: 1.5em;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;1&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSTaoSXpK3iaHYtDkic2KnX6c3fqov27TW2vcYUU2ZjyNwhnZPKITajpIq1YSI5cUfQBf1bayYx4yqg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;32&quot; style=&quot;float: left;&quot;&gt;&lt;strong style=&quot;color: inherit;font-family: inherit;font-size: 21px;&quot;&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt; &lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;strong style=&#39;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;&#39;&gt;&lt;span style=&#39;background-color: rgb(255, 255, 255);font-family: &quot;Microsoft Yahei&quot;, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;color: rgb(54, 116, 201);&#39;&gt;获取方法&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;color: inherit;font-family: inherit;font-size: 21px;&quot;&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;margin-left: 8px;margin-right: 8px;line-height: 1.5em;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;1.分享&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;本微信文章到&lt;strong&gt;朋友圈&lt;/strong&gt;后，&lt;/span&gt;&lt;strong style=&#39;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;&#39;&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;截图&lt;/span&gt;&lt;/strong&gt;&lt;span style=&#39;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;&#39;&gt;分享后的朋友圈；&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-left: 8px;margin-right: 8px;line-height: 1.5em;&quot;&gt;&lt;strong style=&#39;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;&#39;&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;2.关注&lt;/span&gt;&lt;/strong&gt;&lt;span style=&#39;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-weight: 700;color: rgb(54, 116, 201);font-size: 15px;&#39;&gt;聚宽量化实验室&lt;/span&gt;&lt;strong style=&#39;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;&#39;&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;并&lt;/span&gt;&lt;/strong&gt;&lt;strong style=&#39;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;&#39;&gt;&lt;span style=&quot;font-size: 15px;&quot;&gt;发送截图&lt;/span&gt;&lt;/strong&gt;&lt;span style=&#39;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;&#39;&gt;到微信后台；&lt;/span&gt;&lt;span style=&#39;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;&#39;&gt;即可收到&lt;/span&gt;&lt;span style=&#39;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;color: rgb(54, 116, 201);font-size: 15px;&#39;&gt;&lt;strong&gt;99&lt;/strong&gt;&lt;/span&gt;&lt;span style=&#39;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;color: rgb(56, 56, 56);&#39;&gt;个精选策略源码&lt;/span&gt;&lt;span style=&#39;font-family: -apple-system-font, BlinkMacSystemFont, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei UI&quot;, &quot;Microsoft YaHei&quot;, Arial, sans-serif;font-size: 15px;&#39;&gt;。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-left: 8px;margin-right: 8px;line-height: 1.5em;&quot;&gt;&lt;span style=&quot;font-size: 15px;color: rgb(89, 89, 89);&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin-left: 8px;margin-right: 8px;line-height: 1.5em;&quot;&gt;&lt;span style=&quot;font-size: 15px;color: rgb(89, 89, 89);&quot;&gt;示意图如下&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;margin-left: 8px;margin-right: 8px;line-height: 1.5em;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;491&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQS5mRKwGwhQpWA8wKXpKTbckcnm87FWCbvK3kE8OiaYN3ibfiaFkXas3x11HolTfIR39tOKgCmrAABWQ/0?wx_fmt=png&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.8844444444444445&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQS5mRKwGwhQpWA8wKXpKTbckcnm87FWCbvK3kE8OiaYN3ibfiaFkXas3x11HolTfIR39tOKgCmrAABWQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;900&quot; style=&quot;width: 100%;height: auto;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;556&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/zEy1aCmAZQRLdpTXYOswDgyjlZMzJr3YZQFNaDd3pIAtWRVkFJSK7ezf2iafDzabFgIqzSNXRlvT8slRNWCZhiaA/0?wx_fmt=jpeg&quot; data-copyright=&quot;0&quot; data-cropselx1=&quot;12&quot; data-cropselx2=&quot;351&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;339&quot; data-ratio=&quot;0.9344444444444444&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/zEy1aCmAZQS5mRKwGwhQpWA8wKXpKTbcUwUgKuqM0OADcR1IT2z0AhW2eQMyibaV77UibB4V0XKCAengxnHYRz9w/640?wx_fmt=gif&quot; data-type=&quot;gif&quot; data-w=&quot;900&quot; height=&quot;542&quot; style=&quot;width: 78%;height: auto !important;&quot; width=&quot;694&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;margin-left: 8px;margin-right: 8px;&quot;&gt;&lt;span style=&quot;color: inherit;font-family: inherit;font-size: 15px;&quot;&gt;欢迎关注&lt;/span&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;span style=&quot;color: inherit;font-family: inherit;&quot;&gt;『&lt;/span&gt;&lt;strong&gt;聚宽量化实验室&lt;/strong&gt;&lt;span style=&quot;color: inherit;font-family: inherit;&quot;&gt;』&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;
                &lt;/div&gt;
                &lt;script nonce=&quot;680235886&quot; type=&quot;text/javascript&quot;&gt;
                    var first_sceen__time = (+new Date());

                    if (&quot;&quot; == 1 &amp;&amp; document.getElementById(&#39;js_content&#39;)) {
                        document.getElementById(&#39;js_content&#39;).addEventListener(&quot;selectstart&quot;,function(e){ e.preventDefault(); });
                    }

                    
                    (function(){
                        if (navigator.userAgent.indexOf(&quot;WindowsWechat&quot;) != -1){
                            var link = document.createElement(&#39;link&#39;);
                            var head = document.getElementsByTagName(&#39;head&#39;)[0];
                            link.rel = &#39;stylesheet&#39;;
                            link.type = &#39;text/css&#39;;
                            link.href = &quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/winwx430b95.css&quot;;
                            head.appendChild(link);
                        }
                    })();
                &lt;/script&gt;

                
                &lt;div class=&quot;ct_mpda_wrp&quot; id=&quot;js_sponsor_ad_area&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;
                
                
                &lt;div class=&quot;read-more__area&quot; id=&quot;js_more_read_area&quot; style=&quot;display:none;&quot;&gt;
                    
                &lt;/div&gt;

                
                                &lt;div class=&quot;reward_area tc reward_area_primary&quot; id=&quot;js_preview_reward_author&quot; style=&quot;display:none;&quot;&gt;
                    &lt;div class=&quot;reward-avatar&quot; style=&quot;display: none;&quot; id=&quot;js_preview_reward_author_avatar&quot;&gt;
                        &lt;img src=&quot;&quot; alt=&quot;&quot; id=&quot;js_preview_reward_author_head&quot;&gt;
                    &lt;/div&gt;
                    
                                        &lt;div class=&quot;reward-author&quot; id=&quot;js_preview_reward_author_name&quot;&gt;聚宽社区&lt;/div&gt;
                                        &lt;p class=&quot;reward_tips&quot; id=&quot;js_preview_reward_author_wording&quot; style=&quot;display:none;&quot;&gt;&lt;/p&gt;
                    &lt;p&gt;
                        &lt;a class=&quot;reward_button&quot; id=&quot;js_preview_reward_author_link&quot; href=&quot;##&quot;&gt;&lt;span id=&quot;js_preview_reward_link_text&quot;&gt;赞赏&lt;/span&gt;&lt;/a&gt;
                    &lt;/p&gt;
                &lt;/div&gt;

                &lt;div class=&quot;reward_qrcode_area reward_area tc&quot; id=&quot;js_preview_reward_qrcode&quot; style=&quot;display:none;&quot;&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;长按二维码向我转账&lt;/p&gt;
                    &lt;p id=&quot;js_preview_reward_ios_wording&quot; class=&quot;reward_tips&quot; style=&quot;display:none;&quot;&gt;&lt;/p&gt;
                    &lt;span class=&quot;reward_qrcode_img_wrp&quot;&gt;&lt;img class=&quot;reward_qrcode_img&quot; src=&quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_reward_qrcode.2x42f400.png&quot;&gt;&lt;/span&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;受苹果公司新规定影响，微信 iOS 版的赞赏功能被关闭，可通过二维码转账支持公众号。&lt;/p&gt;
                &lt;/div&gt;
                                
                
                            &lt;/div&gt;
                                    
                        


                        
            &lt;ul id=&quot;js_hotspot_area&quot; class=&quot;article_extend_area&quot;&gt;&lt;/ul&gt;


            

            


&lt;div class=&quot;rich_media_tool&quot; id=&quot;js_toobar3&quot;&gt;

        &lt;div id=&quot;js_read_area3&quot; class=&quot;media_tool_meta tips_global_primary meta_primary&quot; style=&quot;display:none;&quot;&gt;阅读 &lt;span id=&quot;readNum3&quot;&gt;&lt;/span&gt;&lt;/div&gt;

    &lt;span style=&quot;display:none;&quot; class=&quot;media_tool_meta meta_extra meta_praise&quot; id=&quot;like_old&quot;&gt;
        &lt;i class=&quot;icon_praise_gray&quot;&gt;&lt;/i&gt;&lt;span class=&quot;praise_num&quot; id=&quot;likeNum_old&quot;&gt;&lt;/span&gt;
    &lt;/span&gt;

    &lt;span style=&quot;display:none;&quot; class=&quot;media_tool_meta meta_extra meta_like&quot; id=&quot;like3&quot;&gt;
        &lt;button class=&quot;like_btn&quot; id=&quot;js_like_btn&quot;&gt; 
          好看&lt;span class=&quot;like_num&quot; id=&quot;likeNum3&quot;&gt;&lt;/span&gt;
        &lt;/button&gt;
    &lt;/span&gt;

    &lt;div id=&quot;js_like_educate&quot; style=&quot;display:none&quot;&gt;
        &lt;div class=&quot;weui-mask&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;weui-dialog weui-dialog_haokan&quot;&gt;
        &lt;div class=&quot;weui-dialog__hd&quot;&gt;&lt;strong class=&quot;weui-dialog__title&quot; id=&quot;educate_title&quot;&gt;已推荐到看一看&lt;/strong&gt;&lt;/div&gt;
        &lt;div class=&quot;weui-dialog__bd&quot;&gt;
          &lt;img class=&quot;pic_haokan&quot; src=&quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_haokan42f400.png&quot;&gt;
            你的朋友可以在“发现”-“看一看”看到你认为好看的文章。        &lt;/div&gt;
        &lt;div class=&quot;weui-dialog__ft&quot; id=&quot;educate_btn&quot; style=&quot;display: none&quot;&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_default&quot; id=&quot;js_cancel&quot;&gt;取消&lt;/a&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_confirm&quot;&gt;推荐&lt;/a&gt;
        &lt;/div&gt;
        &lt;div class=&quot;weui-dialog__ft&quot; id=&quot;educate_btn2&quot; style=&quot;display: none&quot;&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_acknowledge&quot;&gt;我知道了&lt;/a&gt;
        &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;div id=&quot;js_unlike_educate&quot; style=&quot;display:none&quot;&gt;
        &lt;div class=&quot;weui-mask&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;weui-dialog&quot;&gt;
        
        &lt;div class=&quot;weui-dialog__bd&quot;&gt;
            已取消，“好看”想法已同步删除        &lt;/div&gt;
        &lt;div class=&quot;weui-dialog__ft&quot;&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_unlike_know&quot;&gt;知道了&lt;/a&gt;
        &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    
    &lt;/div&gt;


&lt;div class=&quot;like_comment_wrp&quot; id=&quot;js_a_like_comment&quot; style=&quot;display: none;&quot;&gt;
  &lt;div class=&quot;like_comment_inner&quot;&gt;
    &lt;div class=&quot;like_comment_hd&quot; style=&quot;display:none&quot; id=&quot;js_like_title&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;like_comment_bd&quot;&gt;
      &lt;div class=&quot;tips_global_primary like_comment_tips&quot;&gt;
        &lt;i class=&quot;weui-icon-success&quot;&gt;&lt;/i&gt;已推荐到看一看&lt;a href=&quot;javascript:;&quot; class=&quot;like_comment_share_link&quot; id=&quot;js_a_like_comment_share&quot;&gt;和朋友分享想法&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;like_comment_ft&quot;&gt;
      &lt;span id=&quot;js_a_like_comment_msg&quot; class=&quot;like_comment_msg&quot; style=&quot;visibility:hidden&quot;&gt;最多200字，当前共&lt;span id=&quot;js_a_like_current_cnt&quot;&gt;&lt;/span&gt;字&lt;/span&gt;
      &lt;button class=&quot;like_comment_btn&quot; disabled id=&quot;js_a_like_confirm&quot;&gt;发送&lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;div id=&quot;js_like_toast&quot; style=&quot;display: none;&quot;&gt;
  &lt;div class=&quot;weui-mask_transparent&quot;&gt;&lt;/div&gt;
  &lt;div class=&quot;weui-toast&quot;&gt;
    &lt;i class=&quot;weui-icon-success-no-circle weui-icon_toast&quot;&gt;&lt;/i&gt;
    &lt;p class=&quot;weui-toast__content&quot; id=&quot;js_toast_msg&quot;&gt;已发送&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;


&lt;div style=&quot;display: none;&quot; id=&quot;js_b_comment_panel&quot; class=&quot;like_comment_primary_pop&quot;&gt;
  &lt;div class=&quot;like_comment_primary_wrp&quot; id=&quot;js_b_wrp&quot;&gt;
    &lt;div class=&quot;like_comment_primary_inner&quot;&gt;
      &lt;div class=&quot;like_comment_primary_hd&quot;&gt;
        &lt;h4 class=&quot;like_comment_primary_title&quot;&gt;
          朋友将在看一看看到        &lt;/h4&gt;
        &lt;button id=&quot;js_b_like_confirm&quot; class=&quot;like_comment_primary_btn&quot;&gt;确定&lt;/button&gt;
      &lt;/div&gt;
      &lt;div id=&quot;js_b_comment_text_first&quot; class=&quot;like_comment_primary_bd&quot;&gt;
        &lt;span class=&quot;tips_global_primary&quot;&gt;
          分享你的想法...        &lt;/span&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;like_comment_primary_mask&quot; id=&quot;js_mask_1&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div style=&quot;display: none;&quot; id=&quot;js_b_comment_final&quot;&gt;
  &lt;div class=&quot;like_comment_primary_wrp editing&quot; id=&quot;js_comment_wrp&quot;&gt;
    &lt;div class=&quot;like_comment_primary_inner&quot;&gt;
      &lt;div class=&quot;like_comment_primary_hd&quot;&gt;
        &lt;button class=&quot;like_comment_primary_cancel&quot; id=&quot;js_b_comment_cancel&quot;&gt;取消&lt;/button&gt;
        &lt;h4 class=&quot;like_comment_primary_title&quot;&gt; 分享想法到看一看 &lt;/h4&gt;
        &lt;button class=&quot;like_comment_primary_btn&quot; id=&quot;js_b_comment_confirm&quot;&gt;确定&lt;/button&gt;
      &lt;/div&gt;
      &lt;div class=&quot;like_comment_primary_bd&quot;&gt;
        &lt;textarea class=&quot;like_comment_textarea weui-textarea&quot; placeholder=&quot;分享你的想法...&quot; id=&quot;js_b_comment_text_second&quot;&gt;&lt;/textarea&gt;
      &lt;/div&gt;
      &lt;span class=&quot;like_comment_msg&quot; id=&quot;js_b_like_comment_msg&quot; style=&quot;visibility: hidden;&quot;&gt;最多200字，当前共&lt;span id=&quot;js_b_like_current_cnt&quot;&gt;&lt;/span&gt;字&lt;/span&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;like_comment_primary_mask&quot; id=&quot;js_mask_2&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div id=&quot;js_loading&quot; style=&quot; display: none;&quot;&gt;
    &lt;div class=&quot;weui-mask_transparent&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;weui-toast&quot;&gt;
        &lt;i class=&quot;weui-loading weui-icon_toast&quot;&gt;&lt;/i&gt;
        &lt;p class=&quot;weui-toast__content&quot;&gt;发送中&lt;/p&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div id=&quot;js_fail&quot; style=&quot;display:none&quot;&gt;
    &lt;div class=&quot;weui-mask&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;weui-dialog&quot;&gt;
    &lt;div class=&quot;weui-dialog__bd&quot;&gt;
        网络异常，请稍后重试    &lt;/div&gt;
    &lt;div class=&quot;weui-dialog__ft&quot;&gt;
      &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_fail_inform&quot;&gt;知道了&lt;/a&gt;
    &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;



                        &lt;div class=&quot;rich_media_tool&quot; id=&quot;js_sg_bar&quot;&gt;

                                
            &lt;/div&gt;
                      &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class=&quot;rich_media_area_primary sougou&quot; id=&quot;sg_tj&quot; style=&quot;display:none&quot;&gt;&lt;/div&gt;


        
        &lt;div class=&quot;rich_media_area_extra&quot;&gt;
          &lt;div class=&quot;rich_media_area_extra_inner&quot;&gt;
              
              &lt;div id=&quot;js_share_appmsg&quot;&gt;
              &lt;/div&gt;

              
                            &lt;div class=&quot;mpda_bottom_container&quot; id=&quot;js_bottom_ad_area&quot;&gt;&lt;/div&gt;
                            
              &lt;div id=&quot;js_iframetest&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;
                            
                            
              &lt;div class=&quot;rich_media_extra rich_media_extra_discuss&quot; id=&quot;js_cmt_container&quot; style=&quot;display:none&quot;&gt;
                

                
                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_friend_cmt_area&quot; style=&quot;display:none&quot;&gt;
                  
                  
                  
                &lt;/div&gt;

                                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_cmt_area&quot; style=&quot;display:none&quot;&gt;
                &lt;/div&gt;
                              &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        
        &lt;div id=&quot;js_pc_qr_code&quot; class=&quot;qr_code_pc_outer&quot; style=&quot;display:none;&quot;&gt;
            &lt;div class=&quot;qr_code_pc_inner&quot;&gt;
                &lt;div class=&quot;qr_code_pc&quot;&gt;
                    &lt;img id=&quot;js_pc_qr_code_img&quot; class=&quot;qr_code_pc_img&quot;&gt;
                    &lt;p&gt;微信扫一扫&lt;br&gt;关注该公众号&lt;/p&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;</description>
<author>聚宽社区</author>
<guid isPermaLink="false">2019-01-14-1000000088</guid>
<pubDate>Mon, 14 Jan 2019 00:00:00 +0800</pubDate>
</item>
<item>
<title>TensorFlow 学习之循环神经网络（RNN）</title>
<link>https://henix.github.io/feeds/weixin.sogou.JoinQuant-jx/2019-01-11-1000000087_569094288.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?timestamp=1548303572&amp;amp;src=3&amp;amp;ver=1&amp;amp;signature=SlGAs0tUtyjPK5B5ILqEBbDaeuxqfhEqIaxTj8NVG0vxKEW7RGCZsxViZqsaSRafz8OS*KAWo4NpiBJDOx0PXlfw6bFZMDuZQejEqVEJgz2RLQ8NdCJ4Fpfbnbbf6MBOfNpTkV-7Ns4GMFY*UOllRHMpPqX8k6BVhTNb2mZ53Tw=&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;div id=&quot;js_top_ad_area&quot; class=&quot;top_banner&quot;&gt;&lt;/div&gt;&lt;div class=&quot;rich_media_inner&quot;&gt;

        
        
        &lt;div id=&quot;page-content&quot; class=&quot;rich_media_area_primary&quot;&gt;
          &lt;div class=&quot;rich_media_area_primary_inner&quot;&gt;
                                    
                        

            &lt;div id=&quot;img-content&quot;&gt;

                
                &lt;h2 class=&quot;rich_media_title&quot; id=&quot;activity-name&quot;&gt;
                    
                    
                    TensorFlow 学习之循环神经网络（RNN）

                                                                                &lt;/h2&gt;
                &lt;div id=&quot;meta_content&quot; class=&quot;rich_media_meta_list&quot;&gt;
                                                            &lt;span id=&quot;copyright_logo&quot; class=&quot;rich_media_meta rich_media_meta_text meta_tag_text&quot;&gt;原创：&lt;/span&gt;
                                                            &lt;span class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;
                                                JoinQuant-PM
                                            &lt;/span&gt;
                                        
                                        &lt;span class=&quot;rich_media_meta rich_media_meta_nickname&quot; id=&quot;profileBt&quot;&gt;
                      &lt;a href=&quot;javascript:void(0);&quot; id=&quot;js_name&quot;&gt;
                        聚宽量化实验室                      &lt;/a&gt;
                      &lt;div id=&quot;js_profile_qrcode&quot; class=&quot;profile_container&quot; style=&quot;display:none;&quot;&gt;
                          &lt;div class=&quot;profile_inner&quot;&gt;
                              &lt;strong class=&quot;profile_nickname&quot;&gt;聚宽量化实验室&lt;/strong&gt;
                              &lt;img class=&quot;profile_avatar&quot; id=&quot;js_profile_qrcode_img&quot; src=&quot;&quot; alt=&quot;&quot;&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;微信号&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;JoinQuant-jx&lt;/span&gt;
                              &lt;/p&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;功能介绍&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;用数学+编程，驾驭金融市场波动。 汇集最优质量化投资模型，和最勤奋聪明的大脑。&lt;/span&gt;
                              &lt;/p&gt;
                              
                          &lt;/div&gt;
                          &lt;span class=&quot;profile_arrow_wrp&quot; id=&quot;js_profile_arrow_wrp&quot;&gt;
                              &lt;i class=&quot;profile_arrow arrow_out&quot;&gt;&lt;/i&gt;
                              &lt;i class=&quot;profile_arrow arrow_in&quot;&gt;&lt;/i&gt;
                          &lt;/span&gt;
                      &lt;/div&gt;
                    &lt;/span&gt;


                    &lt;em id=&quot;publish_time&quot; class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;&lt;/em&gt;





                &lt;/div&gt;
                
                
                
                
                                                
                                                                
                                
                
                &lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    

                    
                    
                    &lt;section style=&quot;box-sizing: border-box;font-size: 16px;&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;margin-top: 10px;margin-bottom: 10px;text-align: center;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;display: inline-block;width: 100%;border-width: 1px;border-style: solid;border-color: transparent;padding: 10px;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;text-align: justify;font-size: 14px;box-sizing: border-box;&quot;&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;近期， JoinQuant 金融终端上线了&lt;strong style=&quot;box-sizing: border-box;&quot;&gt;python3.6版本&lt;/strong&gt;，并且为小伙伴们带来了诸多重要更新：&lt;/p&gt;&lt;ul class=&quot; list-paddingleft-2&quot; style=&quot;&quot;&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box;&quot;&gt;期权数据；&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box;&quot;&gt;支持 Tick 回测功能；&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box;&quot;&gt;研究示例文件增加了 TensorFlow、PyTorch 的安装教程；&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box;&quot;&gt;支持 pip 一键安装 TensorFlow、PyTorch、Keras 等深度学习库；&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box;&quot;&gt;组合优化更新：支持风险因子暴露限制、换手率限制、流动性限制、流动性限制、行业偏离度限制、追踪误差限制、换手率限制等；&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;温馨提示：可以点击JoinQuant 金融终端下载最新版本的客户端软件。&lt;strong&gt;点击&lt;span style=&quot;text-decoration: underline;box-sizing: border-box;&quot;&gt;阅读原文&lt;/span&gt;&lt;span style=&quot;box-sizing: border-box;&quot;&gt;，&lt;/span&gt;&lt;span style=&quot;box-sizing: border-box;&quot;&gt;可&lt;/span&gt;获取本文研究文件。&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;margin-top: 10px;margin-bottom: 10px;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;width: 100%;border-top: 1px solid rgba(0, 0, 0, 0.92);box-sizing: border-box;&quot;&gt;&lt;/section&gt;&lt;section style=&quot;padding-right: 9px;padding-left: 9px;margin-top: -9px;margin-bottom: -9px;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;border-left: 1px solid rgba(0, 0, 0, 0.92);border-right: 1px solid rgba(0, 0, 0, 0.92);padding: 15px;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;text-align: left;font-size: 14px;line-height: 1.8;box-sizing: border-box;&quot;&gt;&lt;p style=&quot;text-indent: 0em;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;font-size: 15px;box-sizing: border-box;&quot;&gt;&lt;strong style=&quot;box-sizing: border-box;&quot;&gt;目录&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;ol class=&quot; list-paddingleft-2&quot; style=&quot;&quot;&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box;&quot;&gt;循环神经网络简介&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box;&quot;&gt;简单的循环神经网络&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box;&quot;&gt;用TensorFlow构建简单的循环神经网络&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p style=&quot;box-sizing: border-box;&quot;&gt;各种不同的循环神经网络&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;width: 100%;border-bottom: 1px solid rgba(0, 0, 0, 0.92);box-sizing: border-box;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;margin-top: 10px;margin-bottom: 10px;text-align: center;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;display: inline-block;width: 100%;border-width: 1px;border-style: solid;border-color: transparent;padding: 10px;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;margin-top: 10px;margin-bottom: 10px;text-align: left;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;display: inline-block;vertical-align: top;background-color: rgb(255, 255, 255);box-sizing: border-box;&quot;&gt;&lt;section style=&quot;display: inline-block;vertical-align: top;padding-right: 5px;box-sizing: border-box;&quot;&gt;&lt;p style=&quot;box-sizing: border-box;&quot;&gt;&lt;strong style=&quot;box-sizing: border-box;&quot;&gt;1. 循环神经网络简介&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;section style=&quot;margin-right: 4px;margin-bottom: 4px;display: inline-block;vertical-align: bottom;width: 5px;border-right: 1px solid rgba(0, 0, 0, 0.92);border-left: 1px solid rgba(0, 0, 0, 0.92);height: 8px;transform-origin: center bottom 0px;-webkit-transform-origin: center bottom 0px;-moz-transform-origin: center bottom 0px;-o-transform-origin: center bottom 0px;transform: skew(-30deg);-webkit-transform: skew(-30deg);-moz-transform: skew(-30deg);-o-transform: skew(-30deg);border-top-color: rgba(0, 0, 0, 0.92);border-bottom-color: rgba(0, 0, 0, 0.92);box-sizing: border-box;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;height: 12px;margin-top: -12px;border-top: 1px solid rgba(0, 0, 0, 0.92);box-sizing: border-box;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;text-align: justify;font-size: 14px;line-height: 1.8;box-sizing: border-box;&quot;&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;&lt;strong style=&quot;box-sizing: border-box;&quot;&gt;循环神经网络&lt;/strong&gt;&lt;span style=&quot;font-size: 13px;box-sizing: border-box;&quot;&gt;（Recurrent Neural Network, RNN）&lt;/span&gt;是一类用于处理序列数据的神经网络。就像卷积网络是专门用于处理网格化数据（像一个图像），循环神经网络是专门用于处理序列数据的。&lt;span style=&quot;color: rgba(53, 53, 53, 0.88);font-size: 12px;letter-spacing: 0px;&quot;&gt;P.S. 为了方便理解，该篇文章尽量的删减了所需公式部分。 &lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;color: rgba(53, 53, 53, 0.88);font-size: 12px;letter-spacing: 0px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;讲到循环神经网络就不得不提起神经网络，而两者最大的不同就是循环神经网络可以根据过去做到未来。我们可以根据不同的训练准则，选择性的精确保留过去序列的某些方面。下图为神经网络与循环神经网络的对比。&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.21926053310404128&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQS5mRKwGwhQpWA8wKXpKTbcZ1WibcTMXk0C2ZZX7QcQYW1PN3Ko1M8tf9Ria3LFgrIlY0BNKibMmW8Mg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1163&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;在图中可以看到一个普通的神经网络就是将输入x通过函数f的计算再到状态h。而循环神经网络顾名思义就是一个循环过程，这个循环网络只处理来自输入X的信息，将其合并到经过时间向前传播的状态h，f是数据的处理函数。可以发现当前状态是可以影响其未来的状态。&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;margin-top: 10px;margin-bottom: 10px;text-align: center;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;display: inline-block;width: 100%;border-width: 1px;border-style: solid;border-color: transparent;padding: 10px;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;margin-top: 10px;margin-bottom: 10px;text-align: left;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;display: inline-block;vertical-align: top;background-color: rgb(255, 255, 255);box-sizing: border-box;&quot;&gt;&lt;section style=&quot;display: inline-block;vertical-align: top;padding-right: 5px;box-sizing: border-box;&quot;&gt;&lt;p style=&quot;box-sizing: border-box;&quot;&gt;&lt;strong style=&quot;box-sizing: border-box;&quot;&gt;2.简单的循环神经网络&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;section style=&quot;margin-right: 4px;margin-bottom: 4px;display: inline-block;vertical-align: bottom;width: 5px;border-right: 1px solid rgba(0, 0, 0, 0.92);border-left: 1px solid rgba(0, 0, 0, 0.92);height: 8px;transform-origin: center bottom 0px;-webkit-transform-origin: center bottom 0px;-moz-transform-origin: center bottom 0px;-o-transform-origin: center bottom 0px;transform: skew(-30deg);-webkit-transform: skew(-30deg);-moz-transform: skew(-30deg);-o-transform: skew(-30deg);border-top-color: rgba(0, 0, 0, 0.92);border-bottom-color: rgba(0, 0, 0, 0.92);box-sizing: border-box;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;height: 12px;margin-top: -12px;border-top: 1px solid rgba(0, 0, 0, 0.92);box-sizing: border-box;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;text-align: justify;font-size: 14px;line-height: 1.8;box-sizing: border-box;&quot;&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;我们将上面那个没有输出的循环神经网络扩展成一个完整的循环神经网络&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.5536105032822757&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQS5mRKwGwhQpWA8wKXpKTbcDvFDzvfdwGjtohngzTsNyAZ8Mv5oyAqiayhSicCzz0f3j3BHMibvRbKfQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;914&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;在图中损失L衡量每个y^与相应的训练目标y的距离。从图中可以看出模型为向前传播。&lt;/p&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;为了更好地解释上面的循环神经网络，我们先假设一些东西。在上图中没有指定隐藏单元的激活函数，我们假设激活函数为f。RNN从特定的起始状态h(0)开始向前传播。从t=1到t=τ的每个时间步，我们应用以下更新方程：&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.4020618556701031&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQS5mRKwGwhQpWA8wKXpKTbcTx4JXe4TZxmt9EgIPQygINAIZ6Tj4sC5jYpTibwvIZqZhDYohd54ia1Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;291&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;其中的参数的偏执向量b和c联通权重矩阵&lt;strong style=&quot;box-sizing: border-box;&quot;&gt; U、V、W&lt;/strong&gt;，分别对应于输入到隐藏、隐藏到输出和隐藏到隐藏的链接的权重。通过上面的公式就可以计算出估计的y值，但是上面这些权重到底该取多少合适，我们并不知道，所以这个时候就需要通过我们上述估计出的y和真实的y做对比，之后通过设置学习率和选择优化器来重新调整&lt;strong style=&quot;box-sizing: border-box;&quot;&gt; U、V、W&lt;/strong&gt;，一直重复这个过程直到误差符合要求为止。这个过程和普通的神经网络是大致相同的。&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;margin-top: 10px;margin-bottom: 10px;text-align: center;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;display: inline-block;width: 100%;border-width: 1px;border-style: solid;border-color: transparent;padding: 10px;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;margin-top: 10px;margin-bottom: 10px;text-align: left;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;display: inline-block;vertical-align: top;background-color: rgb(255, 255, 255);box-sizing: border-box;&quot;&gt;&lt;section style=&quot;display: inline-block;vertical-align: top;padding-right: 5px;box-sizing: border-box;&quot;&gt;&lt;p style=&quot;box-sizing: border-box;&quot;&gt;&lt;strong style=&quot;box-sizing: border-box;&quot;&gt;3. 用TensorFlow构建简单的循环神经网络&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;section style=&quot;margin-right: 4px;margin-bottom: 4px;display: inline-block;vertical-align: bottom;width: 5px;border-right: 1px solid rgba(0, 0, 0, 0.92);border-left: 1px solid rgba(0, 0, 0, 0.92);height: 8px;transform-origin: center bottom 0px;-webkit-transform-origin: center bottom 0px;-moz-transform-origin: center bottom 0px;-o-transform-origin: center bottom 0px;transform: skew(-30deg);-webkit-transform: skew(-30deg);-moz-transform: skew(-30deg);-o-transform: skew(-30deg);border-top-color: rgba(0, 0, 0, 0.92);border-bottom-color: rgba(0, 0, 0, 0.92);box-sizing: border-box;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;height: 12px;margin-top: -12px;border-top: 1px solid rgba(0, 0, 0, 0.92);box-sizing: border-box;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;text-align: justify;font-size: 14px;line-height: 1.8;box-sizing: border-box;&quot;&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;TensorFlow 是计算机图模型，即用图的形式来表示运算过程的一种模型。大概来说就是我们需要在图中先画出来各个参数设定，设定好之后再运行它。对于 TensorFlow 图里面的各个元素来说，设定好它是并不运行的，直到用命令运行图中的某个参数我们才会运行。&lt;/p&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;&lt;strong style=&quot;box-sizing: border-box;&quot;&gt;下面是用 TensorFlow 建立一个循环神经网络模型，查看模型训练的效果。&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;以沪深300指数为例，我们想要预测下一天的指数收盘价。具体思路就是为了精准的预测输出值，就需要一个多次重复的一个过程，先随机的指定权重和偏置，经过一次次的循环，更新权重和偏置，最后找到最优的值来确定输出。其中每一次的计算流程如下图所示，我们希望得到L(t)L(t),之后再根据其值得大小调整权重，最后得到训练的结果：&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.5475206611570248&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQS5mRKwGwhQpWA8wKXpKTbcKc25Aib44Umfc4wfG7CGF4IrrUZzKibaHfYia0XwwXl0YkVYfh458COwA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;968&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;注：在用 TensorFlow 最重要的一点就是对数据维度、形状的把控，一不小心就会出现问题。&lt;/p&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;第一步，我们需要载入用到的包。&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;margin-top: 10px;margin-bottom: 10px;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;display: inline-block;width: 98%;border-width: 1px;border-style: solid;border-color: transparent;padding: 10px;background-color: rgb(239, 239, 239);box-sizing: border-box;&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;text-align: left;font-size: 14px;line-height: 1.7;box-sizing: border-box;&quot;&gt;&lt;p style=&quot;box-sizing: border-box;&quot;&gt;&lt;strong style=&quot;box-sizing: border-box;&quot;&gt;import&lt;/strong&gt; tensorflow &lt;strong style=&quot;box-sizing: border-box;&quot;&gt;as&lt;/strong&gt; tf&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;strong style=&quot;box-sizing: border-box;&quot;&gt;import&lt;/strong&gt; numpy &lt;strong style=&quot;box-sizing: border-box;&quot;&gt;as&lt;/strong&gt; np&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;strong style=&quot;box-sizing: border-box;&quot;&gt;import&lt;/strong&gt; pandas &lt;strong style=&quot;box-sizing: border-box;&quot;&gt;as&lt;/strong&gt; pd&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;color: rgb(160, 160, 160);box-sizing: border-box;&quot;&gt;#函数用于清除默认图形堆栈并重置全局默认图形&lt;/span&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;tf.reset_default_graph()&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;text-align: justify;font-size: 14px;line-height: 1.8;box-sizing: border-box;&quot;&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;第二步，对输入值和输出值进行设定。&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;margin-top: 10px;margin-bottom: 10px;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;display: inline-block;width: 98%;border-width: 1px;border-style: solid;border-color: transparent;padding: 10px;background-color: rgb(239, 239, 239);box-sizing: border-box;&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;text-align: left;font-size: 14px;line-height: 1.7;box-sizing: border-box;&quot;&gt;&lt;p style=&quot;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;color: rgb(160, 160, 160);box-sizing: border-box;&quot;&gt;#数据定义&lt;br style=&quot;box-sizing: border-box;&quot;&gt;#输入值x：以当天沪深300指数的开盘价、收盘价、最高价、最低价为输入数据&lt;/span&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;x_temp=get_price(&lt;span style=&quot;color: rgb(169, 55, 68);box-sizing: border-box;&quot;&gt;&#39;000300.XSHG&#39;&lt;/span&gt;,start_date=&lt;span style=&quot;color: rgb(169, 55, 68);box-sizing: border-box;&quot;&gt;&#39;2018-01-01&#39;&lt;/span&gt;,end_date=&lt;span style=&quot;color: rgb(169, 55, 68);box-sizing: border-box;&quot;&gt;&#39;2018-12-31&#39;&lt;/span&gt;)[&lt;span style=&quot;color: rgb(19, 134, 56);box-sizing: border-box;&quot;&gt;0&lt;/span&gt;:-&lt;span style=&quot;color: rgb(19, 134, 56);box-sizing: border-box;&quot;&gt;1&lt;/span&gt;].iloc[:,:-&lt;span style=&quot;color: rgb(19, 134, 56);box-sizing: border-box;&quot;&gt;2&lt;/span&gt;]&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;color: rgb(160, 160, 160);box-sizing: border-box;&quot;&gt;#将x调整为TensorFlow的格式（由于tf处理数据的格式需要改成float32）&lt;/span&gt;x=tf.Variable(np.array(x_temp).astype(np.float32))&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;color: rgb(160, 160, 160);box-sizing: border-box;&quot;&gt;#输出值y：以第二天沪深300指数的收盘价作为输出数据&lt;/span&gt;y_temp=get_price(&lt;span style=&quot;color: rgb(169, 55, 68);box-sizing: border-box;&quot;&gt;&#39;000300.XSHG&#39;&lt;/span&gt;,start_date=&lt;span style=&quot;color: rgb(169, 55, 68);box-sizing: border-box;&quot;&gt;&#39;2018-01-01&#39;&lt;/span&gt;,end_date=&lt;span style=&quot;color: rgb(169, 55, 68);box-sizing: border-box;&quot;&gt;&#39;2018-12-31&#39;&lt;/span&gt;)[&lt;span style=&quot;color: rgb(19, 134, 56);box-sizing: border-box;&quot;&gt;1&lt;/span&gt;:][&lt;span style=&quot;color: rgb(169, 55, 68);box-sizing: border-box;&quot;&gt;&#39;open&#39;&lt;/span&gt;]&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;color: rgb(160, 160, 160);box-sizing: border-box;&quot;&gt;#将y调整为TensorFlow的格式&lt;/span&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;y_temp=pd.DataFrame(y_temp)y=tf.Variable(np.array(y_temp).astype(np.float32))&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;text-align: justify;font-size: 14px;line-height: 1.8;box-sizing: border-box;&quot;&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;第三步：定义循环神经网络的构成图与一些参数&lt;/p&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;1、隐藏层的层数：&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.07896077432501274&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQS5mRKwGwhQpWA8wKXpKTbcHGnq30XDSyeV64rkRwxicXiaroR7a0Pl2gMH0oyrT1jiciaDYichFBIm4EQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1963&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;在图中显示为1层，但实际上层数多一点学习效果更好，可以想象为一个黑箱，这里设置为128层。&lt;/p&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;2、学习率：学习率就是根据误差大小，选择学习的比率。这里设置为0.1&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;margin-top: 10px;margin-bottom: 10px;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;display: inline-block;width: 98%;border-width: 1px;border-style: solid;border-color: transparent;padding: 10px;background-color: rgb(239, 239, 239);box-sizing: border-box;&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;text-align: left;font-size: 14px;line-height: 1.7;box-sizing: border-box;&quot;&gt;&lt;p style=&quot;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;color: rgb(160, 160, 160);box-sizing: border-box;&quot;&gt;#设置学习率为0.1&lt;/span&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;lr=&lt;span style=&quot;color: rgb(19, 134, 56);box-sizing: border-box;&quot;&gt;0.1&lt;/span&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;color: rgb(160, 160, 160);box-sizing: border-box;&quot;&gt;#设置隐藏层的层数为128&lt;/span&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;hidden_units=&lt;span style=&quot;color: rgb(19, 134, 56);box-sizing: border-box;&quot;&gt;128&lt;/span&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;color: rgb(160, 160, 160);box-sizing: border-box;&quot;&gt;#输入参数的维度&lt;/span&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;x_inputs=len(x_temp.columns)&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;color: rgb(160, 160, 160);box-sizing: border-box;&quot;&gt;#输入数据的长度&lt;/span&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;n_step=len(x_temp.index)&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;color: rgb(160, 160, 160);box-sizing: border-box;&quot;&gt;#输出的维度&lt;/span&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;y_output=len(y_temp.columns)&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;text-align: justify;font-size: 14px;line-height: 1.8;box-sizing: border-box;&quot;&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;第四步：随机定义各个权重，这里需要设置的有x输入的权重U和输出的权重V，隐藏层的权重W可以不用自己设定&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;margin-top: 10px;margin-bottom: 10px;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;display: inline-block;width: 98%;border-width: 1px;border-style: solid;border-color: transparent;padding: 10px;background-color: rgb(239, 239, 239);box-sizing: border-box;&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;text-align: left;font-size: 14px;line-height: 1.7;box-sizing: border-box;&quot;&gt;&lt;p style=&quot;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;color: rgb(160, 160, 160);box-sizing: border-box;&quot;&gt;#设置权重，权重为随机数&lt;/span&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;weights={    &lt;br style=&quot;box-sizing: border-box;&quot;&gt;    &lt;span style=&quot;color: rgb(169, 55, 68);box-sizing: border-box;&quot;&gt;&#39;U&#39;&lt;/span&gt;:tf.Variable(tf.constant(&lt;span style=&quot;color: rgb(19, 134, 56);box-sizing: border-box;&quot;&gt;0&lt;/span&gt;.&lt;span style=&quot;color: rgb(19, 134, 56);box-sizing: border-box;&quot;&gt;25&lt;/span&gt;,shape=[x_inputs, y_output])),     &lt;span style=&quot;color: rgb(169, 55, 68);box-sizing: border-box;&quot;&gt;&#39;V&#39;&lt;/span&gt;:tf.Variable(tf.random_normal([hidden_units, n_step])),}biases={    &lt;br style=&quot;box-sizing: border-box;&quot;&gt;     &lt;span style=&quot;color: rgb(169, 55, 68);box-sizing: border-box;&quot;&gt;&#39;U&#39;&lt;/span&gt;:tf.Variable(tf.constant(&lt;span style=&quot;color: rgb(19, 134, 56);box-sizing: border-box;&quot;&gt;0&lt;/span&gt;.&lt;span style=&quot;color: rgb(19, 134, 56);box-sizing: border-box;&quot;&gt;0&lt;/span&gt;, shape=[n_step,y_output])),&lt;br style=&quot;box-sizing: border-box;&quot;&gt;   &lt;span style=&quot;color: rgb(169, 55, 68);box-sizing: border-box;&quot;&gt; &#39;V&#39;&lt;/span&gt;:tf.Variable(tf.constant(&lt;span style=&quot;color: rgb(19, 134, 56);box-sizing: border-box;&quot;&gt;0&lt;/span&gt;.&lt;span style=&quot;color: rgb(19, 134, 56);box-sizing: border-box;&quot;&gt;0&lt;/span&gt;, shape=[n_step,])),}&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;text-align: justify;font-size: 14px;line-height: 1.8;box-sizing: border-box;&quot;&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;第五步：计算的前期准备已经OK了，接下来可以进行计算了~按照上面图中的步骤：&lt;/p&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;（1）计算图中输入数据进行加权处理后得到的数据&lt;/p&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt; a(t)=b+Wh(t−1)+Uxta(t)=b+Wh(t−1)+Uxt 根据权重和偏执的设置，用此公式得出的是x最终的输入数据&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;margin-top: 10px;margin-bottom: 10px;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;display: inline-block;width: 98%;border-width: 1px;border-style: solid;border-color: transparent;padding: 10px;background-color: rgb(239, 239, 239);box-sizing: border-box;&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;text-align: left;font-size: 14px;line-height: 1.7;box-sizing: border-box;&quot;&gt;&lt;p style=&quot;box-sizing: border-box;&quot;&gt;x_in = tf.matmul(x, weights[&lt;span style=&quot;color: rgb(169, 55, 68);box-sizing: border-box;&quot;&gt;&#39;U&#39;&lt;/span&gt;])+biases[&lt;span style=&quot;color: rgb(169, 55, 68);box-sizing: border-box;&quot;&gt;&#39;U&#39;&lt;/span&gt;]&lt;br style=&quot;box-sizing: border-box;&quot;&gt;x_in = tf.reshape(x_in, [-&lt;span style=&quot;color: rgb(19, 134, 56);box-sizing: border-box;&quot;&gt;1&lt;/span&gt;, n_step, y_output])&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;text-align: justify;font-size: 14px;line-height: 1.8;box-sizing: border-box;&quot;&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;（2）定义隐藏层的处理方式和计算出输出值&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;margin-top: 10px;margin-bottom: 10px;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;display: inline-block;width: 98%;border-width: 1px;border-style: solid;border-color: transparent;padding: 10px;background-color: rgb(239, 239, 239);box-sizing: border-box;&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;text-align: left;font-size: 14px;line-height: 1.7;box-sizing: border-box;&quot;&gt;&lt;p style=&quot;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;color: rgb(160, 160, 160);box-sizing: border-box;&quot;&gt;#定义隐藏层的处理方式（这里的函数是可以自行选择,可以多去探索一下）&lt;/span&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;cell = tf.nn.rnn_cell.LSTMCell(hidden_units)&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;color: rgb(160, 160, 160);box-sizing: border-box;&quot;&gt;#计算出隐藏层中每层的结果&lt;/span&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;outputs, states = tf.nn.dynamic_rnn(cell, x_in, dtype=tf.float32)&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;color: rgb(160, 160, 160);box-sizing: border-box;&quot;&gt;#outputs记录了隐藏层中每一层的输出，但是如果要计算出最后的输出，只需要最后一层即可&lt;/span&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;output = tf.transpose(outputs, [1,0,2])[-1]&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;color: rgb(160, 160, 160);box-sizing: border-box;&quot;&gt;#根据权重得到对y的估计值&lt;/span&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;results=tf.matmul(output, weights[&#39;V&#39;]) + biases[&#39;V&#39;]&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;text-align: justify;font-size: 14px;line-height: 1.8;box-sizing: border-box;&quot;&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;（3）求出预测的误差，再根据误差大小和学习率用优化器调整权重设置。&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;margin-top: 10px;margin-bottom: 10px;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;display: inline-block;width: 98%;border-width: 1px;border-style: solid;border-color: transparent;padding: 10px;background-color: rgb(239, 239, 239);box-sizing: border-box;&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;text-align: left;font-size: 14px;line-height: 1.7;box-sizing: border-box;&quot;&gt;&lt;p style=&quot;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;color: rgb(160, 160, 160);box-sizing: border-box;&quot;&gt;#算误差&lt;/span&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;cost=tf.reduce_mean(tf.square(results-y))&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;color: rgb(160, 160, 160);box-sizing: border-box;&quot;&gt;#根据误差大小和学习率用优化器调整权重设置&lt;/span&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;train_op = tf.train.AdamOptimizer(&lt;span style=&quot;color: rgb(19, 134, 56);box-sizing: border-box;&quot;&gt;0.1&lt;/span&gt;).minimize(cost)&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;text-align: justify;font-size: 14px;line-height: 1.8;box-sizing: border-box;&quot;&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;第六步：进行多遍循环运行，并查看误差&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;margin-top: 10px;margin-bottom: 10px;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;display: inline-block;width: 98%;border-width: 1px;border-style: solid;border-color: transparent;padding: 10px;background-color: rgb(239, 239, 239);box-sizing: border-box;&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;text-align: left;font-size: 14px;line-height: 1.7;box-sizing: border-box;&quot;&gt;&lt;p style=&quot;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;color: rgb(160, 160, 160);box-sizing: border-box;&quot;&gt;#初始化&lt;/span&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;init = tf.global_variables_initializer()&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;color: rgb(160, 160, 160);box-sizing: border-box;&quot;&gt;#构建一个图&lt;/span&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;sess = tf.Session()&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;color: rgb(160, 160, 160);box-sizing: border-box;&quot;&gt;#先把图初始化&lt;/span&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;sess.run(init)&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;span style=&quot;color: rgb(160, 160, 160);box-sizing: border-box;&quot;&gt;#运行30000次来调整权重，每1000次打印出误差和预测的y值&lt;/span&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;strong style=&quot;box-sizing: border-box;&quot;&gt;for&lt;/strong&gt; i &lt;strong style=&quot;box-sizing: border-box;&quot;&gt;in&lt;/strong&gt; range(&lt;span style=&quot;color: rgb(19, 134, 56);box-sizing: border-box;&quot;&gt;30000&lt;/span&gt;):    &lt;/p&gt;&lt;p style=&quot;box-sizing: border-box;&quot;&gt;        sess.run(train_op)    &lt;br style=&quot;box-sizing: border-box;&quot;&gt;             &lt;strong style=&quot;box-sizing: border-box;&quot;&gt; if&lt;/strong&gt; i % &lt;span style=&quot;color: rgb(19, 134, 56);box-sizing: border-box;&quot;&gt;1000&lt;/span&gt; == &lt;span style=&quot;color: rgb(19, 134, 56);box-sizing: border-box;&quot;&gt;0&lt;/span&gt;:        &lt;br style=&quot;box-sizing: border-box;&quot;&gt;                &lt;span style=&quot;font-size: 12px;color: rgb(160, 160, 160);box-sizing: border-box;&quot;&gt;  #由于学习出的结果过多，这里只显示最后一个值&lt;/span&gt;                print(sess.run(cost),sess.run(results[&lt;span style=&quot;color: rgb(19, 134, 56);box-sizing: border-box;&quot;&gt;-1&lt;/span&gt;][&lt;span style=&quot;color: rgb(19, 134, 56);box-sizing: border-box;&quot;&gt;-1&lt;/span&gt;]))&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;text-align: justify;font-size: 14px;line-height: 1.8;box-sizing: border-box;&quot;&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;最后通过运行就可以看到训练的结果。&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.45073375262054505&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQS5mRKwGwhQpWA8wKXpKTbc8qNDSZbk3IJWoukibVhme9cZXqqGciculFZe0s4ZHO4Fz4pHx5QGsp0A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;477&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;我们就可以看出，训练误差已经是非常的小了，这证明循环神经网络的学习能力还是很强的！我们可以通过调整里面的参数来建立自己的循环神经网络模型。&lt;/p&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;&lt;br style=&quot;box-sizing: border-box;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;&lt;strong style=&quot;box-sizing: border-box;&quot;&gt;综上所述这里提供了一个经过循环神经网络算法来预测股票收盘价的模型训练过程，提供了该算法的思路流程。这里并没有使用模型预测的步骤，文章只是想讲解RNN，因此未包含模型预测部分，请知悉~&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;P.S. 注意！在实际应用中，训练中的误差不是越小越好~有的时候训练时样本误差很小，但到实验组时就会出现预测效率大大降低。这是由于学习过度也就是过拟合！所以说一定要掌握好一个合适的度！&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;margin-top: 10px;margin-bottom: 10px;text-align: center;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;display: inline-block;width: 100%;border-width: 1px;border-style: solid;border-color: transparent;padding: 10px;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;margin-top: 10px;margin-bottom: 10px;text-align: left;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;display: inline-block;vertical-align: top;background-color: rgb(255, 255, 255);box-sizing: border-box;&quot;&gt;&lt;section style=&quot;display: inline-block;vertical-align: top;padding-right: 5px;box-sizing: border-box;&quot;&gt;&lt;p style=&quot;box-sizing: border-box;&quot;&gt;&lt;strong style=&quot;box-sizing: border-box;&quot;&gt;4. 各种不同的循环神经网络&lt;/strong&gt;&lt;/p&gt;&lt;/section&gt;&lt;section style=&quot;margin-right: 4px;margin-bottom: 4px;display: inline-block;vertical-align: bottom;width: 5px;border-right: 1px solid rgba(0, 0, 0, 0.92);border-left: 1px solid rgba(0, 0, 0, 0.92);height: 8px;transform-origin: center bottom 0px;-webkit-transform-origin: center bottom 0px;-moz-transform-origin: center bottom 0px;-o-transform-origin: center bottom 0px;transform: skew(-30deg);-webkit-transform: skew(-30deg);-moz-transform: skew(-30deg);-o-transform: skew(-30deg);border-top-color: rgba(0, 0, 0, 0.92);border-bottom-color: rgba(0, 0, 0, 0.92);box-sizing: border-box;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;height: 12px;margin-top: -12px;border-top: 1px solid rgba(0, 0, 0, 0.92);box-sizing: border-box;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;box-sizing: border-box;&quot; powered-by=&quot;xiumi.us&quot;&gt;&lt;section style=&quot;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;text-align: justify;font-size: 14px;line-height: 1.8;box-sizing: border-box;&quot;&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;所以你以为循环神经网络就是这么简单吗...NO！循环神经网络可以再各处进行循环，例如：&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.539282250242483&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQS5mRKwGwhQpWA8wKXpKTbcPG8BIleQdmYtXmpCRXXAfdNa9wnJf458NnmU1NIfwhQdjWElic1cVpQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1031&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;这类RNN的唯一循环是从输出到隐藏层的反馈链接。&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.6756756756756757&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQS5mRKwGwhQpWA8wKXpKTbcXIRyX2GXvtJEHwHvGprB1TaQBc7clu9VzMNxDhiakJFluLydZpUJdkg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;592&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;这类 RNN 是在时间序列结束时，具有单个输出。&lt;/p&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;RNN 有很多不同的种类，我们可以根据需要自己构建不同的 RNN 的模型。&lt;/p&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;box-sizing: border-box;&quot;&gt;循环神经网络就到这里就结束了！欢迎指正批评！&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;
                &lt;/div&gt;
                &lt;script nonce=&quot;1332689026&quot; type=&quot;text/javascript&quot;&gt;
                    var first_sceen__time = (+new Date());

                    if (&quot;&quot; == 1 &amp;&amp; document.getElementById(&#39;js_content&#39;)) {
                        document.getElementById(&#39;js_content&#39;).addEventListener(&quot;selectstart&quot;,function(e){ e.preventDefault(); });
                    }

                    
                    (function(){
                        if (navigator.userAgent.indexOf(&quot;WindowsWechat&quot;) != -1){
                            var link = document.createElement(&#39;link&#39;);
                            var head = document.getElementsByTagName(&#39;head&#39;)[0];
                            link.rel = &#39;stylesheet&#39;;
                            link.type = &#39;text/css&#39;;
                            link.href = &quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/winwx430b95.css&quot;;
                            head.appendChild(link);
                        }
                    })();
                &lt;/script&gt;

                
                &lt;div class=&quot;ct_mpda_wrp&quot; id=&quot;js_sponsor_ad_area&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;
                
                
                &lt;div class=&quot;read-more__area&quot; id=&quot;js_more_read_area&quot; style=&quot;display:none;&quot;&gt;
                    
                &lt;/div&gt;

                
                                &lt;div class=&quot;reward_area tc reward_area_primary&quot; id=&quot;js_preview_reward_author&quot; style=&quot;display:none;&quot;&gt;
                    &lt;div class=&quot;reward-avatar&quot; style=&quot;display: none;&quot; id=&quot;js_preview_reward_author_avatar&quot;&gt;
                        &lt;img src=&quot;&quot; alt=&quot;&quot; id=&quot;js_preview_reward_author_head&quot;&gt;
                    &lt;/div&gt;
                    
                                        &lt;div class=&quot;reward-author&quot; id=&quot;js_preview_reward_author_name&quot;&gt;JoinQuant-PM&lt;/div&gt;
                                        &lt;p class=&quot;reward_tips&quot; id=&quot;js_preview_reward_author_wording&quot; style=&quot;display:none;&quot;&gt;&lt;/p&gt;
                    &lt;p&gt;
                        &lt;a class=&quot;reward_button&quot; id=&quot;js_preview_reward_author_link&quot; href=&quot;##&quot;&gt;&lt;span id=&quot;js_preview_reward_link_text&quot;&gt;赞赏&lt;/span&gt;&lt;/a&gt;
                    &lt;/p&gt;
                &lt;/div&gt;

                &lt;div class=&quot;reward_qrcode_area reward_area tc&quot; id=&quot;js_preview_reward_qrcode&quot; style=&quot;display:none;&quot;&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;长按二维码向我转账&lt;/p&gt;
                    &lt;p id=&quot;js_preview_reward_ios_wording&quot; class=&quot;reward_tips&quot; style=&quot;display:none;&quot;&gt;&lt;/p&gt;
                    &lt;span class=&quot;reward_qrcode_img_wrp&quot;&gt;&lt;img class=&quot;reward_qrcode_img&quot; src=&quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_reward_qrcode.2x42f400.png&quot;&gt;&lt;/span&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;受苹果公司新规定影响，微信 iOS 版的赞赏功能被关闭，可通过二维码转账支持公众号。&lt;/p&gt;
                &lt;/div&gt;
                                
                
                            &lt;/div&gt;
                                    
                        


                        
            &lt;ul id=&quot;js_hotspot_area&quot; class=&quot;article_extend_area&quot;&gt;&lt;/ul&gt;


            

            


&lt;div class=&quot;rich_media_tool&quot; id=&quot;js_toobar3&quot;&gt;

        &lt;a class=&quot;media_tool_meta meta_primary&quot; id=&quot;js_view_source&quot; href=&quot;##&quot;&gt;阅读原文&lt;/a&gt;
        &lt;div id=&quot;js_read_area3&quot; class=&quot;media_tool_meta tips_global_primary meta_primary&quot; style=&quot;display:none;&quot;&gt;阅读 &lt;span id=&quot;readNum3&quot;&gt;&lt;/span&gt;&lt;/div&gt;

    &lt;span style=&quot;display:none;&quot; class=&quot;media_tool_meta meta_extra meta_praise&quot; id=&quot;like_old&quot;&gt;
        &lt;i class=&quot;icon_praise_gray&quot;&gt;&lt;/i&gt;&lt;span class=&quot;praise_num&quot; id=&quot;likeNum_old&quot;&gt;&lt;/span&gt;
    &lt;/span&gt;

    &lt;span style=&quot;display:none;&quot; class=&quot;media_tool_meta meta_extra meta_like&quot; id=&quot;like3&quot;&gt;
        &lt;button class=&quot;like_btn&quot; id=&quot;js_like_btn&quot;&gt; 
          好看&lt;span class=&quot;like_num&quot; id=&quot;likeNum3&quot;&gt;&lt;/span&gt;
        &lt;/button&gt;
    &lt;/span&gt;

    &lt;div id=&quot;js_like_educate&quot; style=&quot;display:none&quot;&gt;
        &lt;div class=&quot;weui-mask&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;weui-dialog weui-dialog_haokan&quot;&gt;
        &lt;div class=&quot;weui-dialog__hd&quot;&gt;&lt;strong class=&quot;weui-dialog__title&quot; id=&quot;educate_title&quot;&gt;已推荐到看一看&lt;/strong&gt;&lt;/div&gt;
        &lt;div class=&quot;weui-dialog__bd&quot;&gt;
          &lt;img class=&quot;pic_haokan&quot; src=&quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_haokan42f400.png&quot;&gt;
            你的朋友可以在“发现”-“看一看”看到你认为好看的文章。        &lt;/div&gt;
        &lt;div class=&quot;weui-dialog__ft&quot; id=&quot;educate_btn&quot; style=&quot;display: none&quot;&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_default&quot; id=&quot;js_cancel&quot;&gt;取消&lt;/a&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_confirm&quot;&gt;推荐&lt;/a&gt;
        &lt;/div&gt;
        &lt;div class=&quot;weui-dialog__ft&quot; id=&quot;educate_btn2&quot; style=&quot;display: none&quot;&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_acknowledge&quot;&gt;我知道了&lt;/a&gt;
        &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;div id=&quot;js_unlike_educate&quot; style=&quot;display:none&quot;&gt;
        &lt;div class=&quot;weui-mask&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;weui-dialog&quot;&gt;
        
        &lt;div class=&quot;weui-dialog__bd&quot;&gt;
            已取消，“好看”想法已同步删除        &lt;/div&gt;
        &lt;div class=&quot;weui-dialog__ft&quot;&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_unlike_know&quot;&gt;知道了&lt;/a&gt;
        &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    
    &lt;/div&gt;


&lt;div class=&quot;like_comment_wrp&quot; id=&quot;js_a_like_comment&quot; style=&quot;display: none;&quot;&gt;
  &lt;div class=&quot;like_comment_inner&quot;&gt;
    &lt;div class=&quot;like_comment_hd&quot; style=&quot;display:none&quot; id=&quot;js_like_title&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;like_comment_bd&quot;&gt;
      &lt;div class=&quot;tips_global_primary like_comment_tips&quot;&gt;
        &lt;i class=&quot;weui-icon-success&quot;&gt;&lt;/i&gt;已推荐到看一看&lt;a href=&quot;javascript:;&quot; class=&quot;like_comment_share_link&quot; id=&quot;js_a_like_comment_share&quot;&gt;和朋友分享想法&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;like_comment_ft&quot;&gt;
      &lt;span id=&quot;js_a_like_comment_msg&quot; class=&quot;like_comment_msg&quot; style=&quot;visibility:hidden&quot;&gt;最多200字，当前共&lt;span id=&quot;js_a_like_current_cnt&quot;&gt;&lt;/span&gt;字&lt;/span&gt;
      &lt;button class=&quot;like_comment_btn&quot; disabled id=&quot;js_a_like_confirm&quot;&gt;发送&lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;div id=&quot;js_like_toast&quot; style=&quot;display: none;&quot;&gt;
  &lt;div class=&quot;weui-mask_transparent&quot;&gt;&lt;/div&gt;
  &lt;div class=&quot;weui-toast&quot;&gt;
    &lt;i class=&quot;weui-icon-success-no-circle weui-icon_toast&quot;&gt;&lt;/i&gt;
    &lt;p class=&quot;weui-toast__content&quot; id=&quot;js_toast_msg&quot;&gt;已发送&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;


&lt;div style=&quot;display: none;&quot; id=&quot;js_b_comment_panel&quot; class=&quot;like_comment_primary_pop&quot;&gt;
  &lt;div class=&quot;like_comment_primary_wrp&quot; id=&quot;js_b_wrp&quot;&gt;
    &lt;div class=&quot;like_comment_primary_inner&quot;&gt;
      &lt;div class=&quot;like_comment_primary_hd&quot;&gt;
        &lt;h4 class=&quot;like_comment_primary_title&quot;&gt;
          朋友将在看一看看到        &lt;/h4&gt;
        &lt;button id=&quot;js_b_like_confirm&quot; class=&quot;like_comment_primary_btn&quot;&gt;确定&lt;/button&gt;
      &lt;/div&gt;
      &lt;div id=&quot;js_b_comment_text_first&quot; class=&quot;like_comment_primary_bd&quot;&gt;
        &lt;span class=&quot;tips_global_primary&quot;&gt;
          分享你的想法...        &lt;/span&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;like_comment_primary_mask&quot; id=&quot;js_mask_1&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div style=&quot;display: none;&quot; id=&quot;js_b_comment_final&quot;&gt;
  &lt;div class=&quot;like_comment_primary_wrp editing&quot; id=&quot;js_comment_wrp&quot;&gt;
    &lt;div class=&quot;like_comment_primary_inner&quot;&gt;
      &lt;div class=&quot;like_comment_primary_hd&quot;&gt;
        &lt;button class=&quot;like_comment_primary_cancel&quot; id=&quot;js_b_comment_cancel&quot;&gt;取消&lt;/button&gt;
        &lt;h4 class=&quot;like_comment_primary_title&quot;&gt; 分享想法到看一看 &lt;/h4&gt;
        &lt;button class=&quot;like_comment_primary_btn&quot; id=&quot;js_b_comment_confirm&quot;&gt;确定&lt;/button&gt;
      &lt;/div&gt;
      &lt;div class=&quot;like_comment_primary_bd&quot;&gt;
        &lt;textarea class=&quot;like_comment_textarea weui-textarea&quot; placeholder=&quot;分享你的想法...&quot; id=&quot;js_b_comment_text_second&quot;&gt;&lt;/textarea&gt;
      &lt;/div&gt;
      &lt;span class=&quot;like_comment_msg&quot; id=&quot;js_b_like_comment_msg&quot; style=&quot;visibility: hidden;&quot;&gt;最多200字，当前共&lt;span id=&quot;js_b_like_current_cnt&quot;&gt;&lt;/span&gt;字&lt;/span&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;like_comment_primary_mask&quot; id=&quot;js_mask_2&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div id=&quot;js_loading&quot; style=&quot; display: none;&quot;&gt;
    &lt;div class=&quot;weui-mask_transparent&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;weui-toast&quot;&gt;
        &lt;i class=&quot;weui-loading weui-icon_toast&quot;&gt;&lt;/i&gt;
        &lt;p class=&quot;weui-toast__content&quot;&gt;发送中&lt;/p&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div id=&quot;js_fail&quot; style=&quot;display:none&quot;&gt;
    &lt;div class=&quot;weui-mask&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;weui-dialog&quot;&gt;
    &lt;div class=&quot;weui-dialog__bd&quot;&gt;
        网络异常，请稍后重试    &lt;/div&gt;
    &lt;div class=&quot;weui-dialog__ft&quot;&gt;
      &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_fail_inform&quot;&gt;知道了&lt;/a&gt;
    &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;



                        &lt;div class=&quot;rich_media_tool&quot; id=&quot;js_sg_bar&quot;&gt;

                                &lt;a class=&quot;media_tool_meta meta_primary&quot; href=&quot;https://www.joinquant.com/post/16250?tag=algorithm&quot; target=&quot;_blank&quot;&gt;阅读原文&lt;/a&gt;
                                
            &lt;/div&gt;
                      &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class=&quot;rich_media_area_primary sougou&quot; id=&quot;sg_tj&quot; style=&quot;display:none&quot;&gt;&lt;/div&gt;


        
        &lt;div class=&quot;rich_media_area_extra&quot;&gt;
          &lt;div class=&quot;rich_media_area_extra_inner&quot;&gt;
              
              &lt;div id=&quot;js_share_appmsg&quot;&gt;
              &lt;/div&gt;

              
                            &lt;div class=&quot;mpda_bottom_container&quot; id=&quot;js_bottom_ad_area&quot;&gt;&lt;/div&gt;
                            
              &lt;div id=&quot;js_iframetest&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;
                            
                            
              &lt;div class=&quot;rich_media_extra rich_media_extra_discuss&quot; id=&quot;js_cmt_container&quot; style=&quot;display:none&quot;&gt;
                

                
                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_friend_cmt_area&quot; style=&quot;display:none&quot;&gt;
                  
                  
                  
                &lt;/div&gt;

                                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_cmt_area&quot; style=&quot;display:none&quot;&gt;
                &lt;/div&gt;
                              &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        
        &lt;div id=&quot;js_pc_qr_code&quot; class=&quot;qr_code_pc_outer&quot; style=&quot;display:none;&quot;&gt;
            &lt;div class=&quot;qr_code_pc_inner&quot;&gt;
                &lt;div class=&quot;qr_code_pc&quot;&gt;
                    &lt;img id=&quot;js_pc_qr_code_img&quot; class=&quot;qr_code_pc_img&quot;&gt;
                    &lt;p&gt;微信扫一扫&lt;br&gt;关注该公众号&lt;/p&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;</description>
<author>JoinQuant-PM</author>
<guid isPermaLink="false">2019-01-11-1000000087_569094288</guid>
<pubDate>Fri, 11 Jan 2019 00:00:00 +0800</pubDate>
</item>
<item>
<title>深度学习入门：什么是张量(Tensor)？</title>
<link>https://henix.github.io/feeds/weixin.sogou.JoinQuant-jx/2019-01-11-1000000087.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?timestamp=1548303572&amp;amp;src=3&amp;amp;ver=1&amp;amp;signature=SlGAs0tUtyjPK5B5ILqEBbDaeuxqfhEqIaxTj8NVG0vxKEW7RGCZsxViZqsaSRafz8OS*KAWo4NpiBJDOx0PXlfw6bFZMDuZQejEqVEJgz2ke-t1RDI5Y16H9nlpkIp9koyCwH0s6n9aK1obDnR8g5yQzn9jN0rR9*nqo*ybERs=&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;div id=&quot;js_top_ad_area&quot; class=&quot;top_banner&quot;&gt;&lt;/div&gt;&lt;div class=&quot;rich_media_inner&quot;&gt;

        
        
        &lt;div id=&quot;page-content&quot; class=&quot;rich_media_area_primary&quot;&gt;
          &lt;div class=&quot;rich_media_area_primary_inner&quot;&gt;
                                    
                        

            &lt;div id=&quot;img-content&quot;&gt;

                
                &lt;h2 class=&quot;rich_media_title&quot; id=&quot;activity-name&quot;&gt;
                    
                    
                    深度学习入门：什么是张量(Tensor)？

                                                                                &lt;/h2&gt;
                &lt;div id=&quot;meta_content&quot; class=&quot;rich_media_meta_list&quot;&gt;
                                                                                &lt;span class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;
                                                &lt;span id=&quot;js_author_name&quot; class=&quot;rich_media_meta_link&quot; data-rewardsn=&quot;&quot; data-timestamp=&quot;&quot; data-canreward=&quot;0&quot;&gt;王圣元&lt;/span&gt;
                                            &lt;/span&gt;
                                        
                                       
                                                                    
                                        &lt;span class=&quot;rich_media_meta rich_media_meta_nickname&quot; id=&quot;profileBt&quot;&gt;
                      &lt;a href=&quot;javascript:void(0);&quot; id=&quot;js_name&quot;&gt;
                        聚宽量化实验室                      &lt;/a&gt;
                      &lt;div id=&quot;js_profile_qrcode&quot; class=&quot;profile_container&quot; style=&quot;display:none;&quot;&gt;
                          &lt;div class=&quot;profile_inner&quot;&gt;
                              &lt;strong class=&quot;profile_nickname&quot;&gt;聚宽量化实验室&lt;/strong&gt;
                              &lt;img class=&quot;profile_avatar&quot; id=&quot;js_profile_qrcode_img&quot; src=&quot;&quot; alt=&quot;&quot;&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;微信号&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;JoinQuant-jx&lt;/span&gt;
                              &lt;/p&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;功能介绍&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;用数学+编程，驾驭金融市场波动。 汇集最优质量化投资模型，和最勤奋聪明的大脑。&lt;/span&gt;
                              &lt;/p&gt;
                              
                          &lt;/div&gt;
                          &lt;span class=&quot;profile_arrow_wrp&quot; id=&quot;js_profile_arrow_wrp&quot;&gt;
                              &lt;i class=&quot;profile_arrow arrow_out&quot;&gt;&lt;/i&gt;
                              &lt;i class=&quot;profile_arrow arrow_in&quot;&gt;&lt;/i&gt;
                          &lt;/span&gt;
                      &lt;/div&gt;
                    &lt;/span&gt;


                    &lt;em id=&quot;publish_time&quot; class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;&lt;/em&gt;





                &lt;/div&gt;
                
                
                
                
                                                
                                                                
                                
                
                &lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    

                    
                    
                    &lt;p style=&quot;text-align: center;&quot; data-mpa-powered-by=&quot;yiban.io&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.57265625&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCG10MfSaJWcNALWNO2CBJyFMG0hou4T7fQZiaL9IC4YjIKibrDMhgUdcpE35mibMibxq7z2icpp4jJHKWg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;882985&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot; style=&quot;white-space: normal;&quot;&gt;&lt;section&gt;&lt;section class=&quot;layout&quot; style=&quot;margin: 2px auto;border-width: 0px;border-style: initial;border-color: initial;box-sizing: border-box;&quot;&gt;&lt;section style=&quot;height: 6px;box-sizing: border-box;color: inherit;&quot;&gt;&lt;section style=&quot;height: 5.99609px;width: 6px;float: left;border-top: 2px solid rgb(247, 142, 188);border-right-color: rgb(247, 142, 188);border-bottom-color: rgb(247, 142, 188);border-left: 2px solid rgb(247, 142, 188);box-sizing: border-box;color: inherit;&quot;&gt;&lt;/section&gt;&lt;section style=&quot;height: 5.99609px;width: 6px;float: right;border-top: 2px solid rgb(247, 142, 188);border-right: 2px solid rgb(247, 142, 188);border-bottom-color: rgb(247, 142, 188);border-left-color: rgb(247, 142, 188);box-sizing: border-box;color: inherit;&quot;&gt;&lt;/section&gt;&lt;section style=&quot;display: inline-block;color: rgb(247, 142, 188);clear: both;box-sizing: border-box;border-color: rgb(247, 142, 188);&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;margin: -1px 4px;padding: 0.8em;border-width: 1px;border-style: solid;border-color: rgb(247, 142, 188);box-sizing: border-box;box-shadow: rgb(117, 117, 117) 0px 0px 4px;color: inherit;&quot;&gt;&lt;section style=&quot;color: rgb(247, 142, 188);line-height: 1.4;word-break: break-all;border-color: rgb(247, 142, 188);text-align: center;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;此文献给今天五岁的女儿&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;section style=&quot;color: rgb(247, 142, 188);line-height: 1.4;word-break: break-all;border-color: rgb(247, 142, 188);text-align: center;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;四岁献上的是至今最满意的&lt;a href=&quot;http://mp.weixin.qq.com/s?__biz=MzIzMjY0MjE1MA==&amp;amp;mid=2247485523&amp;amp;idx=1&amp;amp;sn=25449fbc0ecd34fec2f85256e1042185&amp;amp;chksm=e8908b5adfe7024c0f3d88ea8bb3c16ba5e652e05e28dcf1537488d187fd460edcb2125f651b&amp;amp;scene=21#wechat_redirect&quot; target=&quot;_blank&quot; data-linktype=&quot;2&quot;&gt;胶囊网络&lt;/a&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;height: 6px;box-sizing: border-box;color: inherit;&quot;&gt;&lt;section style=&quot;height: 5.99609px;width: 6px;float: left;border-bottom: 2px solid rgb(247, 142, 188);border-top-color: rgb(247, 142, 188);border-right-color: rgb(247, 142, 188);border-left: 2px solid rgb(247, 142, 188);box-sizing: border-box;color: inherit;&quot;&gt;&lt;/section&gt;&lt;section style=&quot;height: 5.99609px;width: 6px;float: right;border-bottom: 2px solid rgb(247, 142, 188);border-top-color: rgb(247, 142, 188);border-right: 2px solid rgb(247, 142, 188);border-left-color: rgb(247, 142, 188);box-sizing: border-box;color: inherit;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;882152&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot; style=&quot;white-space: normal;&quot;&gt;&lt;section&gt;&lt;section style=&quot;padding: 10px;&quot;&gt;&lt;section class=&quot;autonum&quot; style=&quot;float: left;width: 40px;height: 40px;text-align: center;color: rgb(255, 255, 255);background-color: rgb(13, 12, 12);font-size: 24px;line-height: 40px;&quot;&gt;0&lt;/section&gt;&lt;section style=&quot;padding-right: 15px;padding-left: 15px;width: auto;display: inline-block;float: left;height: 40px;font-size: 18px;line-height: 35px;border-bottom: 2px solid rgb(13, 12, 12);border-top: 2px solid rgb(13, 12, 12);&quot;&gt;引言&lt;/section&gt;&lt;section style=&#39;background-image: url(&quot;https://mmbiz.qpic.cn/mmbiz_png/fgnkxfGnnkSBJo13oUicPbCbqeTcIyiakNc2UGmnmA1qH7HExsicAyuzE3Foogxo1VmRNr68icYkKibV0wM7nqTIHng/640?wx_fmt=png&quot;);width: 18px;height: 40px;float: left;background-repeat: no-repeat;background-color: rgb(13, 12, 12);background-size: 100% 40px;&#39;&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;width: 556.25px;clear: both;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align:justify;text-justify:inter-ideograph;&quot;&gt;&lt;span style=&quot;font-size: 17px;color: rgb(51, 51, 51);letter-spacing: 0.5px;&quot;&gt;斯蒂文想用聚宽 (JoinQuant) 写一个股票投资的量化策略，首先需要收集大量的数据。(下面聚宽代码基本上可以一看就懂，详细的代码解释见本帖第四章)&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:justify;text-justify:inter-ideograph;&quot;&gt;&lt;span style=&quot;font-size: 17px;color: rgb(51, 51, 51);letter-spacing: 0.5px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;921851&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;section&gt;&lt;section class=&quot;layout&quot;&gt;&lt;section style=&quot;margin: 1em 0px;color: rgb(51, 51, 51);box-sizing:border-box;border-bottom-width: 2px;border-bottom-style: solid;border-bottom-color: rgb(236, 68, 68);clear: both;&quot;&gt;&lt;section style=&quot;display: inline-block;padding:3px 10px 0px;color: rgb(255, 255, 255);box-sizing:border-box;border-top-left-radius: 3px;border-top-right-radius: 3px;height: 28px;background-color: rgb(236, 68, 68);&quot;&gt;&lt;strong&gt;阶段一&lt;/strong&gt;&lt;/section&gt;&lt;section style=&quot;box-sizing:border-box;border-top-width:28px;border-top-style: solid;border-color: transparent rgb(206,206,206);border-bottom-width: 0px;border-bottom-style: solid;border-left-width: 15px;border-left-style: solid;display: inline-block;margin-left:2px;vertical-align:top;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;text-align:justify;text-justify:inter-ideograph;&quot;&gt;&lt;span style=&quot;letter-spacing: 0.5px;&quot;&gt;斯蒂文查了查 2019 年 1 月 3 日平安银行 (000001.XSHE) 的收盘价，发现是 9.28，他默默将这个单数字存到 X0 里。&lt;/span&gt;&lt;span style=&quot;font-size: 17px;color: rgb(51, 51, 51);letter-spacing: 0.5px;&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(248, 248, 248);color: rgb(51, 51, 51);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-github&quot;&gt;X0 = get_price( &lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 85px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;&quot;&gt;&#39;000001.XSHE&#39;&lt;/span&gt;,&lt;br&gt;start_date=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 78px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;&quot;&gt;&#39;2019-01-03&#39;&lt;/span&gt;,&lt;br&gt;end_date=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 79px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;&quot;&gt;&#39;2019-01-03&#39;&lt;/span&gt;,&lt;br&gt;frequency=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 46px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;&quot;&gt;&#39;daily&#39;&lt;/span&gt;,&lt;br&gt;fields=[&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 45px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;&quot;&gt;&#39;close&#39;&lt;/span&gt;&lt;span class=&quot;hljs-github-string&quot; style=&quot;background: rgba(0, 0, 0, 0);display: inline;width: 45px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;color: rgb(0, 0, 0);&quot;&gt;]&lt;/span&gt; )&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCG10MfSaJWcNALWNO2CBJyFhHX4eGGXh8gcslB8Yhec46tbZG4pOc7oZIHtE8eIS8afGXPdr7T9FA/0?wx_fmt=png&quot; data-ratio=&quot;0.3411764705882353&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCG10MfSaJWcNALWNO2CBJyFhHX4eGGXh8gcslB8Yhec46tbZG4pOc7oZIHtE8eIS8afGXPdr7T9FA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;340&quot; style=&quot;width: 51%;height: auto !important;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align:justify;text-justify:inter-ideograph;&quot;&gt;&lt;span style=&quot;font-size: 17px;color: rgb(51, 51, 51);letter-spacing: 0.5px;&quot;&gt;X0 又称为标量 (scalar)，或更严谨的称为 0 维张量 (0D tensor)。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:justify;text-justify:inter-ideograph;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;1546276&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;section&gt;&lt;section class=&quot;layout&quot;&gt;&lt;section style=&quot;margin: 1em 0px;color: rgb(51, 51, 51);box-sizing: border-box;border-bottom: 2px solid rgb(236, 68, 68);clear: both;&quot;&gt;&lt;section style=&quot;display: inline-block;padding: 3px 10px 0px;color: rgb(255, 255, 255);box-sizing: border-box;border-top-left-radius: 3px;border-top-right-radius: 3px;height: 28px;background-color: rgb(236, 68, 68);&quot;&gt;&lt;strong&gt;阶段二&lt;/strong&gt;&lt;/section&gt;&lt;section style=&quot;box-sizing:border-box;border-top-width:28px;border-top-style: solid;border-color: transparent rgb(206,206,206);border-bottom-width: 0px;border-bottom-style: solid;border-left-width: 15px;border-left-style: solid;display: inline-block;margin-left:2px;vertical-align:top;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;text-align:justify;text-justify:inter-ideograph;&quot;&gt;&lt;span style=&quot;font-size: 17px;color: rgb(51, 51, 51);letter-spacing: 0.5px;&quot;&gt;单天股票价格太少，至少要算一些均值、标准差这些统计量吧。&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align:justify;text-justify:inter-ideograph;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align:justify;text-justify:inter-ideograph;&quot;&gt;&lt;span style=&quot;font-size: 17px;color: rgb(51, 51, 51);letter-spacing: 0.5px;&quot;&gt;斯蒂文从一天的数据扩展到一年，下载了从 2019 年 1 月 3 日起过去一年的平安银行历史收盘价，存到 X1 里。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(248, 248, 248);color: rgb(51, 51, 51);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-github&quot;&gt;X1 = get_price( &lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 85px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;&quot;&gt;&#39;000001.XSHE&#39;&lt;/span&gt;,&lt;br&gt;start_date=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 78px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;&quot;&gt;&#39;2018-01-03&#39;&lt;/span&gt;,&lt;br&gt;end_date=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 79px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;&quot;&gt;&#39;2019-01-03&#39;&lt;/span&gt;,&lt;br&gt;frequency=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 46px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;&quot;&gt;&#39;daily&#39;&lt;/span&gt;,&lt;br&gt;fields=[&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 45px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;&quot;&gt;&#39;close&#39;&lt;/span&gt;&lt;span style=&quot;background: rgba(0, 0, 0, 0);display: inline;width: 45px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;color: rgb(0, 0, 0);&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 45px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;&quot;&gt; &lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;308&quot; data-backw=&quot;395&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCG10MfSaJWcNALWNO2CBJyFtm7dib4Y4Gic30Toicclq6lMKmDsgSQeWRicNcNmnBO6DTFV6kTN6aRILw/0?wx_fmt=png&quot; data-ratio=&quot;0.7772151898734178&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCG10MfSaJWcNALWNO2CBJyFtm7dib4Y4Gic30Toicclq6lMKmDsgSQeWRicNcNmnBO6DTFV6kTN6aRILw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;395&quot; style=&quot;width: 70%;height: auto !important;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align:justify;text-justify:inter-ideograph;&quot;&gt;&lt;span style=&quot;font-size: 17px;color: rgb(51, 51, 51);letter-spacing: 0.5px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:justify;text-justify:inter-ideograph;&quot;&gt;&lt;span style=&quot;font-size: 17px;color: rgb(51, 51, 51);letter-spacing: 0.5px;&quot;&gt;X1 在 X0 基础上添加了时间维度 (红色箭头)，从标量扩展成向量 (vector)，又称为 1 维张量 (1D tensor)。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:justify;text-justify:inter-ideograph;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;1546276&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;section&gt;&lt;section class=&quot;layout&quot;&gt;&lt;section style=&quot;margin: 1em 0px;color: rgb(51, 51, 51);box-sizing: border-box;border-bottom: 2px solid rgb(236, 68, 68);clear: both;&quot;&gt;&lt;section style=&quot;display: inline-block;padding:3px 10px 0px;color: rgb(255, 255, 255);box-sizing:border-box;border-top-left-radius: 3px;border-top-right-radius: 3px;height: 28px;background-color: rgb(236, 68, 68);&quot;&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;阶段三&lt;/strong&gt;&lt;/section&gt;&lt;section style=&quot;box-sizing:border-box;border-top-width:28px;border-top-style: solid;border-color: transparent rgb(206,206,206);border-bottom-width: 0px;border-bottom-style: solid;border-left-width: 15px;border-left-style: solid;display: inline-block;margin-left:2px;vertical-align:top;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;text-align:justify;text-justify:inter-ideograph;&quot;&gt;&lt;span style=&quot;letter-spacing: 0.5px;&quot;&gt;单个股票太少，分散原则告诉我们需要投资相关性系数为负的两支股票。&lt;/span&gt;&lt;span style=&quot;font-size: 17px;color: rgb(51, 51, 51);letter-spacing: 0.5px;&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align:justify;text-justify:inter-ideograph;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align:justify;text-justify:inter-ideograph;&quot;&gt;&lt;span style=&quot;font-size: 17px;color: rgb(51, 51, 51);letter-spacing: 0.5px;&quot;&gt;斯蒂文增加了茅台股票 (600519.XSHG)，&lt;/span&gt;&lt;span style=&quot;letter-spacing: 0.5px;&quot;&gt;下载了从 2019年 1 月 3 日起过去一年的平安银行和茅台历史收盘价，存到 X2 里。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(248, 248, 248);color: rgb(51, 51, 51);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-github&quot;&gt;X2 = get_price( [&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 85px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;&quot;&gt;&#39;000001.XSHE&#39;&lt;/span&gt;,&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 85px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;&quot;&gt;&#39;600519.XSHG&#39;&lt;/span&gt;],&lt;br&gt;start_date=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 78px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;&quot;&gt;&#39;2018-01-03&#39;&lt;/span&gt;,&lt;br&gt;end_date=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 79px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;&quot;&gt;&#39;2019-01-03&#39;&lt;/span&gt;,&lt;br&gt;frequency=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 46px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;&quot;&gt;&#39;daily&#39;&lt;/span&gt;,&lt;br&gt;fields=[&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 46px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;&quot;&gt;&#39;close&#39;&lt;/span&gt;] )&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;383&quot; data-backw=&quot;521&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCG10MfSaJWcNALWNO2CBJyFW14VmicApFlyYQwU7aQ0ibcemTp4qGy2yQEpHgzUMmHNyN5BwXaicZQRg/0?wx_fmt=png&quot; data-ratio=&quot;0.7351247600767754&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCG10MfSaJWcNALWNO2CBJyFW14VmicApFlyYQwU7aQ0ibcemTp4qGy2yQEpHgzUMmHNyN5BwXaicZQRg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;521&quot; style=&quot;width: 90%;height: auto !important;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align:justify;text-justify:inter-ideograph;&quot;&gt;&lt;span style=&quot;font-size: 17px;color: rgb(51, 51, 51);letter-spacing: 0.5px;&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:justify;text-justify:inter-ideograph;&quot;&gt;&lt;span style=&quot;font-size: 17px;color: rgb(51, 51, 51);letter-spacing: 0.5px;&quot;&gt;X2 在 X1 基础上添加了横截维度 (蓝色箭头)，从向量扩展成矩阵 (matrix)，又称为 2 维张量 (2D tensor)。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:justify;text-justify:inter-ideograph;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;1546276&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;section&gt;&lt;section class=&quot;layout&quot;&gt;&lt;section style=&quot;margin: 1em 0px;color: rgb(51, 51, 51);box-sizing:border-box;border-bottom-width: 2px;border-bottom-style: solid;border-bottom-color: rgb(236, 68, 68);clear: both;&quot;&gt;&lt;section style=&quot;display: inline-block;padding:3px 10px 0px;color: rgb(255, 255, 255);box-sizing:border-box;border-top-left-radius: 3px;border-top-right-radius: 3px;height: 28px;background-color: rgb(236, 68, 68);&quot;&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;阶段四&lt;/strong&gt;&lt;/section&gt;&lt;section style=&quot;box-sizing:border-box;border-top-width:28px;border-top-style: solid;border-color: transparent rgb(206,206,206);border-bottom-width: 0px;border-bottom-style: solid;border-left-width: 15px;border-left-style: solid;display: inline-block;margin-left:2px;vertical-align:top;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;text-align:justify;text-justify:inter-ideograph;&quot;&gt;&lt;span style=&quot;letter-spacing: 0.5px;&quot;&gt;收盘价一个信息不够，在趋势追踪模型中，价格和交易量是在股票走势中相当重要的因素。&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align:justify;text-justify:inter-ideograph;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align:justify;text-justify:inter-ideograph;&quot;&gt;&lt;span style=&quot;font-size: 17px;color: rgb(51, 51, 51);letter-spacing: 0.5px;&quot;&gt;斯蒂文增加了交易量，下载了从 2019 年 1 月 3 日起过去一年的平安银行和茅台历史收盘价和交易量，存到 X3 里。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(248, 248, 248);color: rgb(51, 51, 51);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-github&quot;&gt;X3 = get_price( [&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 85px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;&quot;&gt;&#39;000001.XSHE&#39;&lt;/span&gt;,&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 85px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;&quot;&gt;&#39;600519.XSHG&#39;&lt;/span&gt;],&lt;br&gt;start_date=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 78px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;&quot;&gt;&#39;2018-01-03&#39;&lt;/span&gt;,&lt;br&gt;end_date=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 79px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;&quot;&gt;&#39;2019-01-03&#39;&lt;/span&gt;,&lt;br&gt;frequency=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 46px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;&quot;&gt;&#39;daily&#39;&lt;/span&gt;,&lt;br&gt;fields=[&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 46px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;&quot;&gt;&#39;close&#39;&lt;/span&gt;,&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 53px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;&quot;&gt;&#39;volume&#39;&lt;/span&gt;] )&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;510&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCG10MfSaJWcNALWNO2CBJyF44sISFn0iannYFdKibFRXlNibtoSDpR4xMqhQ4U01t50icbpk3yTvNRQYQ/0?wx_fmt=png&quot; data-ratio=&quot;0.9157733537519143&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCG10MfSaJWcNALWNO2CBJyF44sISFn0iannYFdKibFRXlNibtoSDpR4xMqhQ4U01t50icbpk3yTvNRQYQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;653&quot; style=&quot;width: 100%;height: auto;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align:justify;text-justify:inter-ideograph;&quot;&gt;&lt;span style=&quot;font-size: 17px;color: rgb(51, 51, 51);letter-spacing: 0.5px;&quot;&gt;X3 在 X2 基础上添加了信息维度 (绿色箭头)，从矩阵扩展成 3 维张量 (3D tensor)。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:justify;text-justify:inter-ideograph;&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);letter-spacing: 0.5px;font-size: 17px;&quot;&gt; &lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;1546276&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;section&gt;&lt;section class=&quot;layout&quot;&gt;&lt;section style=&quot;margin: 1em 0px;color: rgb(51, 51, 51);box-sizing:border-box;border-bottom-width: 2px;border-bottom-style: solid;border-bottom-color: rgb(236, 68, 68);clear: both;&quot;&gt;&lt;section style=&quot;display: inline-block;padding:3px 10px 0px;color: rgb(255, 255, 255);box-sizing:border-box;border-top-left-radius: 3px;border-top-right-radius: 3px;height: 28px;background-color: rgb(236, 68, 68);&quot;&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;阶段五&lt;/strong&gt;&lt;/section&gt;&lt;section style=&quot;box-sizing:border-box;border-top-width:28px;border-top-style: solid;border-color: transparent rgb(206,206,206);border-bottom-width: 0px;border-bottom-style: solid;border-left-width: 15px;border-left-style: solid;display: inline-block;margin-left:2px;vertical-align:top;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;text-align:justify;text-justify:inter-ideograph;&quot;&gt;&lt;span style=&quot;letter-spacing: 0.5px;&quot;&gt;收盘信息太过于少，如果要日内交易怎么办？&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align:justify;text-justify:inter-ideograph;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align:justify;text-justify:inter-ideograph;&quot;&gt;&lt;span style=&quot;font-size: 17px;color: rgb(51, 51, 51);letter-spacing: 0.5px;&quot;&gt;斯蒂文又增加了 tick 数据 (聚宽对股票的 tick 数据切片时间为 3 秒)，下载了从 2019 年 1 月 3 日起过去一年的平安银行和茅台历史 tick 价格和交易量，存到 X4 里。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(248, 248, 248);color: rgb(51, 51, 51);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-github&quot;&gt;&lt;span class=&quot;hljs-github-keyword&quot; style=&quot;color: rgb(51, 51, 51);background: rgba(0, 0, 0, 0);display: inline;width: 40px;text-decoration: none solid rgb(51, 51, 51);font-weight: 700;font-style: normal;&quot;&gt;import&lt;/span&gt; pandas &lt;span class=&quot;hljs-github-keyword&quot; style=&quot;color: rgb(51, 51, 51);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(51, 51, 51);font-weight: 700;font-style: normal;&quot;&gt;as&lt;/span&gt; pd&lt;br&gt;tick_data1 = []&lt;br&gt;tick_data2 = []&lt;br&gt;&lt;br&gt;&lt;span class=&quot;hljs-github-keyword&quot; style=&quot;color: rgb(51, 51, 51);background: rgba(0, 0, 0, 0);display: inline;width: 20px;text-decoration: none solid rgb(51, 51, 51);font-weight: 700;font-style: normal;&quot;&gt;for&lt;/span&gt; date &lt;span class=&quot;hljs-github-keyword&quot; style=&quot;color: rgb(51, 51, 51);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(51, 51, 51);font-weight: 700;font-style: normal;&quot;&gt;in&lt;/span&gt; pd.date_range(&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 79px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;&quot;&gt;&#39;2018-01-04&#39;&lt;/span&gt;, &lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 79px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;&quot;&gt;&#39;2019-01-04&#39;&lt;/span&gt;).tolist():&lt;br&gt;&lt;br&gt;    d = get_ticks(&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 85px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;&quot;&gt;&#39;000001.XSHE&#39;&lt;/span&gt;,&lt;br&gt;  start_dt=&lt;span class=&quot;hljs-github-keyword&quot; style=&quot;color: rgb(51, 51, 51);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(51, 51, 51);font-weight: 700;font-style: normal;&quot;&gt;None&lt;/span&gt;,&lt;br&gt;  end_dt=date,&lt;br&gt;  count=&lt;span class=&quot;hljs-github-number&quot; style=&quot;color: rgb(0, 128, 128);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 128, 128);font-weight: 400;font-style: normal;&quot;&gt;5&lt;/span&gt;,&lt;br&gt;  fields=[&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 40px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;&quot;&gt;&#39;time&#39;&lt;/span&gt;,&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 59px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;&quot;&gt;&#39;current&#39;&lt;/span&gt;,&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 53px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;&quot;&gt;&#39;volume&#39;&lt;/span&gt;])&lt;br&gt;    tick_data1.append(d)&lt;br&gt;&lt;br&gt;    d = get_ticks(&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 85px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;&quot;&gt;&#39;600519.XSHG&#39;&lt;/span&gt;,&lt;br&gt;  start_dt=&lt;span class=&quot;hljs-github-keyword&quot; style=&quot;color: rgb(51, 51, 51);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(51, 51, 51);font-weight: 700;font-style: normal;&quot;&gt;None&lt;/span&gt;,&lt;br&gt;  end_dt=date,&lt;br&gt;  count=&lt;span class=&quot;hljs-github-number&quot; style=&quot;color: rgb(0, 128, 128);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 128, 128);font-weight: 400;font-style: normal;&quot;&gt;5&lt;/span&gt;,&lt;br&gt;fields=[&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;&quot;&gt;&#39;time&#39;&lt;/span&gt;,&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 59px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;&quot;&gt;&#39;current&#39;&lt;/span&gt;,&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 53px;text-decoration: none solid rgb(221, 17, 68);font-weight: 400;font-style: normal;&quot;&gt;&#39;volume&#39;&lt;/span&gt;])&lt;br&gt;    tick_data2.append(d)&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;443&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCG10MfSaJWcNALWNO2CBJyFG7tOaS8OGL4H5mjxu9RypRCibicpia5oddEpagiam4Dh358fGSrkWuRicibA/0?wx_fmt=png&quot; data-ratio=&quot;0.7952755905511811&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCG10MfSaJWcNALWNO2CBJyFG7tOaS8OGL4H5mjxu9RypRCibicpia5oddEpagiam4Dh358fGSrkWuRicibA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;889&quot; style=&quot;width: 100%;height: auto;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align:justify;text-justify:inter-ideograph;&quot;&gt;&lt;span style=&quot;font-size: 17px;color: rgb(51, 51, 51);letter-spacing: 0.5px;&quot;&gt;X4 在 X3 基础上添加了频率维度(灰色箭头)，从 3 维张量扩展成 4 维张量 (4D tensor)。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align:justify;text-justify:inter-ideograph;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;2215&quot; data-mpa-color=&quot;#ffffff&quot; data-mpa-category=&quot;分隔&quot;&gt;&lt;section class=&quot;&quot; style=&quot;box-sizing: border-box;&quot;&gt;&lt;section class=&quot;&quot; style=&quot;text-align: center;margin-top: 10px;margin-bottom: 10px;box-sizing: border-box;&quot;&gt;&lt;section class=&quot;&quot; style=&quot;max-width: 100%;vertical-align: middle;display: inline-block;width: 70%;overflow: hidden !important;box-sizing: border-box;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.115625&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/b96CibCt70iaaYLV0bgNpicicsbF4YkGTMjqW9Q36dpIF4ICT42fjTzFWItciaBl2QpAgBER4VwwFubraMMtX9C3TrQ/640&quot; data-type=&quot;png&quot; data-w=&quot;640&quot; style=&quot;vertical-align: middle;box-sizing: border-box;width: 100% !important;height: auto !important;visibility: visible !important;border-color: rgb(68, 153, 231);&quot; width=&quot;100%&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;text-align:justify;text-justify:inter-ideograph;&quot;&gt;&lt;span style=&quot;color: rgb(51, 51, 51);letter-spacing: 0.5px;font-size: 17px;&quot;&gt;纵横时间之长，驰骋股票之宽，领略信息之深，体会频率之快，如果能够获取下图这四维数据，再做不好量化策略就。。。等等，这帖不是打深度学习的基础吗，怎么扯到量化投资了？其实张量无处不在，因为数据无处不在，维度无处不在。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;474&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPIHPJsantr5ZNE179JnBIKVl36SJPyiaRO0eiaibvdXAGicCO7Mth2pxjJJA/640?wx_fmt=png&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.8506271379703535&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPIHPJsantr5ZNE179JnBIKVl36SJPyiaRO0eiaibvdXAGicCO7Mth2pxjJJA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;877&quot; style=&quot;text-align: center;white-space: normal;width: 90%;height: auto !important;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;998729&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;section style=&quot;background-color: rgb(250, 255, 250);border-width: 1px;border-style: solid;border-color: rgb(148, 209, 224);box-shadow: rgba(148, 209, 224, 0.5) 5px 5px 0px;padding: 10px;margin: 12px;line-height: 22px;font-size: 14px;color: rgb(113, 113, 113);text-align: justify;&quot;&gt;&lt;p style=&quot;margin:0;padding:0;&quot;&gt;本来一开始是想讲张量求导 (tensor derivative) 和计算图 (computational graph) 的，但讲这个必须把张量要讲清楚吧。后来解释张量一发不可收拾写成了完整一贴。这贴把张量基础打牢，下贴继续张量求导和计算图。&lt;/p&gt;&lt;p style=&quot;margin:0;padding:0;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.57265625&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCGtX1AVEp0TIh07I3ibP80XVfc1CwSDPd4icLiaXhBjUAicw5VB5Ds00YapdjufSs2iaK76aibXFvCen7dw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1280&quot; style=&quot;width: 100%;height: auto;&quot; data-backw=&quot;510&quot; data-backh=&quot;293&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCGtX1AVEp0TIh07I3ibP80XVfc1CwSDPd4icLiaXhBjUAicw5VB5Ds00YapdjufSs2iaK76aibXFvCen7dw/640?wx_fmt=png&quot;&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;letter-spacing: 0.5px;&quot;&gt;本帖目录如下：&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;_135editor&quot; data-tools=&quot;135编辑器&quot; data-id=&quot;89132&quot; data-color=&quot;rgb(33, 33, 34)&quot; data-custom=&quot;rgb(33, 33, 34)&quot; style=&quot;white-space: normal;line-height: 25.6px;border-width: 0px;border-style: none;border-color: initial;&quot;&gt;&lt;section class=&quot;layout&quot; style=&quot;margin: 10px auto;padding: 5px;&quot;&gt;&lt;section style=&quot;padding-top: 20px;padding-right: 15px;padding-left: 15px;height: auto;border-top: 5px solid rgb(33, 33, 34);border-left: 5px solid rgb(33, 33, 34);border-right: 5px solid rgb(33, 33, 34);&quot;&gt;&lt;section data-width=&quot;100%&quot; style=&quot;margin-top: -30px;width: 506px;height: 30px;&quot;&gt;&lt;section style=&quot;width: 100px;height: 30px;float: right;text-align: center;background: rgb(255, 255, 255);&quot;&gt;&lt;span style=&quot;font-size: 18px;color: rgb(171, 25, 66);&quot;&gt;&lt;strong&gt;目录&lt;/strong&gt;&lt;/span&gt;&lt;/section&gt;&lt;/section&gt;&lt;section class=&quot;135brush&quot; style=&quot;color: rgb(112, 112, 112);font-size: 14px;&quot;&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(192, 0, 0);&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;第一章 - &lt;span style=&quot;color: rgb(192, 0, 0);font-size: 16px;&quot;&gt;线性代数的张量&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(192, 0, 0);&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;第二章 - &lt;span style=&quot;color: rgb(192, 0, 0);font-size: 16px;&quot;&gt;编程语言的张量&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 16px;color: rgb(192, 0, 0);&quot;&gt;    2.1 Python&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 16px;color: rgb(192, 0, 0);&quot;&gt;    2.2 TensorFlow&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 16px;color: rgb(192, 0, 0);&quot;&gt;    2.3 MXNet&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 16px;color: rgb(192, 0, 0);&quot;&gt;    2.4 PyTorch&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 16px;color: rgb(192, 0, 0);&quot;&gt;    2.5 Matlab&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(192, 0, 0);&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;第三章 - &lt;span style=&quot;color: rgb(192, 0, 0);font-size: 16px;&quot;&gt;机器学习的张量&lt;/span&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 16px;color: rgb(192, 0, 0);&quot;&gt;    3.1 简介&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 16px;color: rgb(192, 0, 0);&quot;&gt;    3.2 2D &lt;span style=&quot;line-height: 25.6px;&quot;&gt;数据表&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 16px;color: rgb(192, 0, 0);&quot;&gt;    3.3 3D 序列数据&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 16px;color: rgb(192, 0, 0);&quot;&gt;    3.4 4D 图像数据&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 16px;color: rgb(192, 0, 0);&quot;&gt;    3.5 5D 视屏数据&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;color: rgb(192, 0, 0);font-size: 14px;white-space: normal;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;第四章 - 量化金融的张量&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 16px;color: rgb(192, 0, 0);&quot;&gt;    4.1 简介&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 16px;color: rgb(192, 0, 0);&quot;&gt;    4.2 JoinQuant 之 A 股&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-size: 16px;color: rgb(192, 0, 0);&quot;&gt;    4.3 Quantopian 之美股&lt;/span&gt;&lt;strong style=&quot;color: rgb(192, 0, 0);font-size: 14px;white-space: normal;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;color: rgb(192, 0, 0);font-size: 14px;white-space: normal;&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;color: rgb(192, 0, 0);font-size: 14px;white-space: normal;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;strong style=&quot;font-size: 14px;white-space: normal;color: rgb(192, 0, 0);&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;第五章 - 张量运算&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;color: rgb(192, 0, 0);font-size: 14px;white-space: normal;&quot;&gt;&lt;strong style=&quot;font-size: 14px;white-space: normal;color: rgb(192, 0, 0);&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;/span&gt;&lt;/strong&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(112, 112, 112);font-size: 14px;white-space: normal;&quot;&gt;&lt;span style=&quot;font-size: 16px;color: rgb(192, 0, 0);&quot;&gt;    5.1 化繁为简&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(112, 112, 112);font-size: 14px;white-space: normal;&quot;&gt;&lt;span style=&quot;font-size: 16px;color: rgb(192, 0, 0);&quot;&gt;    5&lt;/span&gt;&lt;span style=&quot;color: rgb(192, 0, 0);font-size: 16px;&quot;&gt;.2 由简推繁&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;color: rgb(112, 112, 112);font-size: 14px;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(192, 0, 0);&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;总结&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-width=&quot;100%&quot; style=&quot;margin-top: -20px;width: 546px;border-left: 5px solid rgb(33, 33, 34);border-right: 5px solid rgb(33, 33, 34);&quot;&gt;&lt;img class=&quot;assistant&quot; data-backh=&quot;214&quot; data-backw=&quot;546&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCHBBK6P6aonVFiaChMsQqPh8wPhuFNic8iatKW94gQ0C44ibTZqYhibR0Rd8J4WRJIQU8UtJfDiaDhRDqng/640?wx_fmt=png&quot; data-ratio=&quot;0.39215686274509803&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCHBBK6P6aonVFiaChMsQqPh8wPhuFNic8iatKW94gQ0C44ibTZqYhibR0Rd8J4WRJIQU8UtJfDiaDhRDqng/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1275&quot; data-width=&quot;100%&quot; style=&quot;width: 100%;display: block;height: auto;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;882153&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot; style=&quot;white-space: normal;&quot;&gt;&lt;section&gt;&lt;section style=&quot;padding: 10px;&quot;&gt;&lt;section class=&quot;autonum&quot; style=&quot;float: left;width: 40px;height: 40px;text-align: center;color: rgb(255, 255, 255);background-color: rgb(13, 12, 12);font-size: 24px;line-height: 40px;&quot;&gt;1&lt;/section&gt;&lt;section style=&quot;padding-right: 15px;padding-left: 15px;width: auto;display: inline-block;float: left;height: 40px;font-size: 18px;line-height: 35px;border-bottom: 2px solid rgb(13, 12, 12);border-top: 2px solid rgb(13, 12, 12);&quot;&gt;线性代数的张量&lt;/section&gt;&lt;section style=&#39;background-image: url(&quot;https://mmbiz.qpic.cn/mmbiz_png/fgnkxfGnnkSBJo13oUicPbCbqeTcIyiakNc2UGmnmA1qH7HExsicAyuzE3Foogxo1VmRNr68icYkKibV0wM7nqTIHng/640?wx_fmt=png&quot;);width: 18px;height: 40px;float: left;background-repeat: no-repeat;background-color: rgb(13, 12, 12);background-size: 100% 40px;&#39;&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;width: 556.25px;clear: both;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;线性代数大家肯定学过标量、向量和矩阵，它们分别称为 0 维张量、1 维张量和 2 维张量，而高于 2 维的张量统称为 n 维张量 (n ≥ 3)。&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;288&quot; data-backw=&quot;474&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPIEicmwJYlEBklFSq6gxAjhR1ZeSuptjibCg1MCibgVwdczmm5ia9Zib3sSGA/0?wx_fmt=png&quot; data-ratio=&quot;0.6067653276955602&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPIEicmwJYlEBklFSq6gxAjhR1ZeSuptjibCg1MCibgVwdczmm5ia9Zib3sSGA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;473&quot; style=&quot;width: 556.25px;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;882154&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;section&gt;&lt;section style=&quot;padding:10px 10px;&quot;&gt;&lt;section class=&quot;autonum&quot; style=&quot;float: left;width: 40px;height: 40px;text-align: center;color: rgb(255, 255, 255);background-color: rgb(13, 12, 12);font-size: 24px;line-height: 40px;&quot;&gt;2&lt;/section&gt;&lt;section style=&quot;width: auto;display: inline-block;float: left;padding: 0px 15px;height: 40px;font-size: 18px;line-height: 35px;border-bottom: 2px solid rgb(13, 12, 12);border-top: 2px solid rgb(13, 12, 12);&quot;&gt;编程语言的向量&lt;/section&gt;&lt;section style=&#39;background-image: url(&quot;https://mmbiz.qpic.cn/mmbiz_png/fgnkxfGnnkSBJo13oUicPbCbqeTcIyiakNc2UGmnmA1qH7HExsicAyuzE3Foogxo1VmRNr68icYkKibV0wM7nqTIHng/640?wx_fmt=png&quot;);width: 18px;height: 40px;float: left;background-repeat: no-repeat;background-color: rgb(13, 12, 12);background-size: 100% 40px;&#39;&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;width:100%;clear:both;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;text-align: left;line-height: normal;background: white;&quot;&gt;&lt;span style=&quot;font-family: DengXian;color: black;&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;很多编程语言把张量当成数据的容器&lt;/span&gt; (container)&lt;span style=&quot;font-family: DengXian;&quot;&gt;。在计算机中最终处理的都是数值型数据，因此张量大多指一个装着数值类变量的容器。接下来我们看看 &lt;/span&gt;Python, TensorFlow, MXNet, PyTorch &lt;span style=&quot;font-family: DengXian;&quot;&gt;和 &lt;/span&gt;Matlab &lt;span style=&quot;font-family: DengXian;&quot;&gt;里面的张量长什么样把。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;color: rgb(192, 0, 0);&quot;&gt;&lt;/span&gt;&lt;/strong&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;882500&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;section&gt;&lt;section style=&quot;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px auto;text-align: center;white-space: normal;&quot;&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWuIkiaMRfF2nPrvryogjrO4XfhpWegMwicuiapXBQia8qeINYhefTtwGfrQ/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;width:42px;height:50px;vertical-align:top;line-height:50px;text-align:center;color:#fff;&#39;&gt;&lt;p style=&quot;font-size: 20px;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px;&quot;&gt;&lt;span style=&quot;font-size: 16px;font-family: Optima-Regular, PingFangTC-light;&quot;&gt;2.1&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWEnrBa7fuiccJgxAndh66NF0fKuTFduWXp2icIoXhBpibVePONwaJ3Jvzg/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;height:50px;&#39;&gt;&lt;section style=&quot;display:inline-block;padding-left:10px;line-height:50px;color:#333;margin-top:0;vertical-align:top;&quot;&gt;&lt;p style=&quot;font-size: 14px;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px;&quot;&gt;&lt;span style=&quot;color: rgb(255, 41, 65);font-size: 16px;font-family: Optima-Regular, PingFangTC-light;&quot;&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;Python&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWzfenALo6kEeDUGXCyFibSibU24BtebdP2ialR438RwuG8TnZUIv9k8Ubg/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;width:17px;height:50px;vertical-align:top;&#39;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;深度学习框架 &lt;/span&gt;Keras &lt;span style=&quot;font-family: DengXian;&quot;&gt;就直接用 &lt;/span&gt;Python &lt;span style=&quot;font-family: DengXian;&quot;&gt;的 &lt;/span&gt;numpy &lt;span style=&quot;font-family: DengXian;&quot;&gt;的模块来使用张量的。上面也讲过，张量就是多维数组，不像 &lt;/span&gt;Keras &lt;span style=&quot;font-family: DengXian;&quot;&gt;直接用 &lt;/span&gt;Python &lt;span style=&quot;font-family: DengXian;&quot;&gt;的 &lt;/span&gt;numpy&lt;span style=&quot;font-family: DengXian;&quot;&gt;，其他深度学习框架对张量或多维数组稍微做了些改变，比如：&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;color: black;&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;ul class=&quot; list-paddingleft-2&quot; style=&quot;list-style-type: square;&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;color: black;&quot;&gt;Tensorflow &lt;/span&gt;&lt;span style=&quot;font-family: DengXian;color: black;&quot;&gt;里用 &lt;/span&gt;&lt;span style=&quot;color: black;&quot;&gt;tf.Tensor&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;color: black;&quot;&gt;MXNet &lt;/span&gt;&lt;span style=&quot;font-family: DengXian;color: black;&quot;&gt;里用 &lt;/span&gt;&lt;span style=&quot;color: black;&quot;&gt;ndarray&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;color: black;&quot;&gt;PyTorch &lt;/span&gt;&lt;span style=&quot;font-family: DengXian;color: black;&quot;&gt;里用 &lt;/span&gt;&lt;span style=&quot;color: black;&quot;&gt;torch.tensor&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;首先从 &lt;/span&gt;Python &lt;span style=&quot;font-family:DengXian;&quot;&gt;里面导入 &lt;/span&gt;numpy &lt;span style=&quot;font-family:DengXian;&quot;&gt;模块。这里的 &lt;/span&gt;np &lt;span style=&quot;font-family:DengXian;&quot;&gt;是 &lt;/span&gt;numpy &lt;span style=&quot;font-family:DengXian;&quot;&gt;的缩写形式。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot; style=&quot;white-space: normal;&quot;&gt;&lt;pre style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;&quot;&gt;&lt;code class=&quot;hljs-sublime&quot; style=&quot;margin-right: 0.15em;margin-left: 0.15em;padding: 5.95px;border-radius: 4px;font-size: 0.85em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;overflow-x: auto;white-space: nowrap;&quot;&gt;&lt;span class=&quot;hljs-sublime-keyword&quot; style=&quot;color: rgb(249, 38, 114);background: rgba(0, 0, 0, 0);display: inline;width: 40px;text-decoration-style: solid;text-decoration-color: rgb(249, 38, 114);&quot;&gt;import&lt;/span&gt; numpy &lt;span class=&quot;hljs-sublime-keyword&quot; style=&quot;color: rgb(249, 38, 114);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration-style: solid;text-decoration-color: rgb(249, 38, 114);&quot;&gt;as&lt;/span&gt; np&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;下面是用 &lt;/span&gt;Python &lt;span style=&quot;font-family: DengXian;&quot;&gt;的 &lt;/span&gt;numpy &lt;span style=&quot;font-family: DengXian;&quot;&gt;来定义 &lt;/span&gt;0 &lt;span style=&quot;font-family: DengXian;&quot;&gt;到 &lt;/span&gt;4 &lt;span style=&quot;font-family: DengXian;&quot;&gt;维的张量。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot; style=&quot;white-space: normal;&quot;&gt;&lt;pre style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;&quot;&gt;&lt;code class=&quot;hljs-sublime&quot; style=&quot;margin-right: 0.15em;margin-left: 0.15em;padding: 5.95px;border-radius: 4px;font-size: 0.85em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;overflow-x: auto;white-space: nowrap;&quot;&gt;&lt;span class=&quot;hljs-sublime-comment&quot; style=&quot;color: rgb(117, 113, 94);background: rgba(0, 0, 0, 0);display: inline;width: 55px;text-decoration-style: solid;text-decoration-color: rgb(117, 113, 94);&quot;&gt;# 0维张量&lt;/span&gt;&lt;br&gt;X0 = np.array(&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;42&lt;/span&gt;)&lt;br&gt;&lt;br&gt;&lt;span class=&quot;hljs-sublime-comment&quot; style=&quot;color: rgb(117, 113, 94);background: rgba(0, 0, 0, 0);display: inline;width: 108px;text-decoration-style: solid;text-decoration-color: rgb(117, 113, 94);&quot;&gt;# 1维张量        &lt;/span&gt;&lt;br&gt;X1 = np.array( [&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;2&lt;/span&gt;] )&lt;br&gt;&lt;br&gt;&lt;span class=&quot;hljs-sublime-comment&quot; style=&quot;color: rgb(117, 113, 94);background: rgba(0, 0, 0, 0);display: inline;width: 81px;text-decoration-style: solid;text-decoration-color: rgb(117, 113, 94);&quot;&gt;# 2维张量    &lt;/span&gt;&lt;br&gt;X2 = np.array( [&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;2&lt;/span&gt;], [&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;4&lt;/span&gt;] )&lt;br&gt;&lt;br&gt;&lt;span class=&quot;hljs-sublime-comment&quot; style=&quot;color: rgb(117, 113, 94);background: rgba(0, 0, 0, 0);display: inline;width: 69px;text-decoration-style: solid;text-decoration-color: rgb(117, 113, 94);&quot;&gt;# 3维张量  &lt;/span&gt;&lt;br&gt;X3 = np.array([[[&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;7&lt;/span&gt;], [&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;8&lt;/span&gt;], [&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;9&lt;/span&gt;]],&lt;br&gt;              [[&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;3&lt;/span&gt;], [&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;6&lt;/span&gt;], [&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;7&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;8&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;9&lt;/span&gt;]],&lt;br&gt;              [[&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;9&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;8&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;7&lt;/span&gt;], [&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;4&lt;/span&gt;], [&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;1&lt;/span&gt;]]])  &lt;br&gt;&lt;br&gt;&lt;span class=&quot;hljs-sublime-comment&quot; style=&quot;color: rgb(117, 113, 94);background: rgba(0, 0, 0, 0);display: inline;width: 55px;text-decoration-style: solid;text-decoration-color: rgb(117, 113, 94);&quot;&gt;# 4维张量&lt;/span&gt;&lt;br&gt;X4 = np.ones( (&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;60000&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;28&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;28&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;3&lt;/span&gt;) )&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;不难看出&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;ul class=&quot; list-paddingleft-2&quot; style=&quot;&quot;&gt;&lt;li&gt;&lt;p&gt;X0, X1, X2, X3 &lt;span style=&quot;font-family: DengXian;&quot;&gt;都是用 &lt;/span&gt;np.array &lt;span style=&quot;font-family: DengXian;&quot;&gt;直接设定张量里的元素来定义张量&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;X4 &lt;span style=&quot;font-family: DengXian;&quot;&gt;用 &lt;/span&gt;np.ones &lt;span style=&quot;font-family: DengXian;&quot;&gt;和张量的形状 &lt;/span&gt;(60000,28, 28, 3) &lt;span style=&quot;font-family: DengXian;&quot;&gt;来定义一个所有元素都是 &lt;/span&gt;1 &lt;span style=&quot;font-family: DengXian;&quot;&gt;的张量&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;882500&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;section&gt;&lt;section style=&quot;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px auto;text-align: center;white-space: normal;&quot;&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWuIkiaMRfF2nPrvryogjrO4XfhpWegMwicuiapXBQia8qeINYhefTtwGfrQ/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;width:42px;height:50px;vertical-align:top;line-height:50px;text-align:center;color:#fff;&#39;&gt;&lt;p style=&quot;font-size: 20px;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px;&quot;&gt;&lt;span style=&quot;font-size: 16px;font-family: Optima-Regular, PingFangTC-light;&quot;&gt;2.2&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWEnrBa7fuiccJgxAndh66NF0fKuTFduWXp2icIoXhBpibVePONwaJ3Jvzg/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;height:50px;&#39;&gt;&lt;section style=&quot;display: inline-block;padding-left: 10px;line-height: 50px;color: rgb(51, 51, 51);margin-top: 0px;vertical-align: top;&quot;&gt;&lt;p style=&quot;font-size: 14px;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px;&quot;&gt;&lt;span style=&quot;color: rgb(255, 41, 65);font-size: 16px;font-family: Optima-Regular, PingFangTC-light;&quot;&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;TensorFlow&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWzfenALo6kEeDUGXCyFibSibU24BtebdP2ialR438RwuG8TnZUIv9k8Ubg/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;width:17px;height:50px;vertical-align:top;&#39;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;顾名思义，&lt;/span&gt;TensorFlow &lt;span style=&quot;font-family: DengXian;&quot;&gt;建立了计算图，让张量 &lt;/span&gt;(tensor) &lt;span style=&quot;font-family: DengXian;&quot;&gt;从中流动 &lt;/span&gt;(flow)&lt;span style=&quot;font-family: DengXian;&quot;&gt;，因此取名 &lt;/span&gt;TensorFlow&lt;span style=&quot;font-family: DengXian;&quot;&gt;。首先从 &lt;/span&gt;tensorflow &lt;span style=&quot;font-family: DengXian;&quot;&gt;里面导入 &lt;/span&gt;tf.Tensor &lt;span style=&quot;font-family: DengXian;&quot;&gt;模块。这里的 &lt;/span&gt;tf &lt;span style=&quot;font-family: DengXian;&quot;&gt;是 &lt;/span&gt;tensorflow &lt;span style=&quot;font-family: DengXian;&quot;&gt;的缩写形式。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot; style=&quot;white-space: normal;&quot;&gt;&lt;pre style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;&quot;&gt;&lt;code class=&quot;hljs-sublime&quot; style=&quot;margin-right: 0.15em;margin-left: 0.15em;padding: 5.95px;border-radius: 4px;font-size: 0.85em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;overflow-x: auto;white-space: nowrap;&quot;&gt;&lt;span class=&quot;hljs-sublime-keyword&quot; style=&quot;color: rgb(249, 38, 114);background: rgba(0, 0, 0, 0);display: inline;width: 40px;text-decoration-style: solid;text-decoration-color: rgb(249, 38, 114);&quot;&gt;import&lt;/span&gt; tensorflow &lt;span class=&quot;hljs-sublime-keyword&quot; style=&quot;color: rgb(249, 38, 114);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration-style: solid;text-decoration-color: rgb(249, 38, 114);&quot;&gt;as&lt;/span&gt; tf&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;color: windowtext;&quot;&gt;tf.Tensor&lt;/span&gt; &lt;span style=&quot;font-family: DengXian;&quot;&gt;由以下两个特征定义：&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt; &lt;/p&gt;&lt;ol class=&quot; list-paddingleft-2&quot; style=&quot;&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;数据类型 &lt;/span&gt;(data type)&lt;span style=&quot;font-family: DengXian;&quot;&gt;，包括整数、浮点数和字符等&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;形状 &lt;/span&gt;(shape)&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;Tensor 中的每个元素都具有相同而其已知的数据类型，形状是张量的每个维度 (TensorFlow 称 rank) 上的元素个数，而且可能只是部分已知。比如一张彩色照片由宽 28，高 28，3 色道的元素组成，那么该三维照片数据的形状 (完全可知) 可写成&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;text-indent: 0.5in;&quot;&gt;    [28, 28, 3]&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;将照片当做神经网络的输入时，有时候我们不清楚有多少张照片，因此整个四维照片数据集的形状 &lt;/span&gt;(&lt;span style=&quot;font-family: DengXian;&quot;&gt;部分已知&lt;/span&gt;) &lt;span style=&quot;font-family: DengXian;&quot;&gt;可写成&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;text-indent: 0.5in;&quot;&gt;    [None, 28, 28, 3]&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;其中 &lt;/span&gt;None &lt;span style=&quot;font-family: DengXian;&quot;&gt;指照片数目未知。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;TensorFlow 官网这样解释 rank 和 shape 的。&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;195&quot; data-backw=&quot;461&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPI6wKq8zic9qexWaObRpOqUiaicQicjd9HOgSo4WTaicDElWb2bfRXS9k2Xicg/0?wx_fmt=png&quot; data-ratio=&quot;0.4229934924078091&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPI6wKq8zic9qexWaObRpOqUiaicQicjd9HOgSo4WTaicDElWb2bfRXS9k2Xicg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;461&quot; style=&quot;width: 556.25px;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;tf.Tensor 还可再细分成 tf.Variable, tf.constant 和 tf.placeholder 等，它们意思一眼可知，分别代表变量、常量和占位符的意思。下面是用 tf.Variable 来定义 0 到 4 维的张量。&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot; style=&quot;white-space: normal;&quot;&gt;&lt;pre style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;&quot;&gt;&lt;code class=&quot;hljs-sublime&quot; style=&quot;margin-right: 0.15em;margin-left: 0.15em;padding: 5.95px;border-radius: 4px;font-size: 0.85em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;overflow-x: auto;white-space: nowrap;&quot;&gt;&lt;span class=&quot;hljs-sublime-comment&quot; style=&quot;color: rgb(117, 113, 94);background: rgba(0, 0, 0, 0);display: inline;width: 55px;text-decoration-style: solid;text-decoration-color: rgb(117, 113, 94);&quot;&gt;# 0维张量&lt;/span&gt;&lt;br&gt;X0 = tf.Variable( &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;1031&lt;/span&gt;, tf.int16 )&lt;br&gt;&lt;br&gt;&lt;span class=&quot;hljs-sublime-comment&quot; style=&quot;color: rgb(117, 113, 94);background: rgba(0, 0, 0, 0);display: inline;width: 55px;text-decoration-style: solid;text-decoration-color: rgb(117, 113, 94);&quot;&gt;# 1维张量&lt;/span&gt;&lt;br&gt;X1 = tf.Variable( [&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 45px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;3.14159&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 45px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;2.71828&lt;/span&gt;], tf.float32 )&lt;br&gt;&lt;br&gt;&lt;span class=&quot;hljs-sublime-comment&quot; style=&quot;color: rgb(117, 113, 94);background: rgba(0, 0, 0, 0);display: inline;width: 55px;text-decoration-style: solid;text-decoration-color: rgb(117, 113, 94);&quot;&gt;# 2维张量&lt;/span&gt;&lt;br&gt;X2 = tf.Variable( [ [&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;9&lt;/span&gt;], [&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;16&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;25&lt;/span&gt;] ], tf.int32 )&lt;br&gt;&lt;br&gt;&lt;span class=&quot;hljs-sublime-comment&quot; style=&quot;color: rgb(117, 113, 94);background: rgba(0, 0, 0, 0);display: inline;width: 55px;text-decoration-style: solid;text-decoration-color: rgb(117, 113, 94);&quot;&gt;# 3维张量&lt;/span&gt;&lt;br&gt;X3 = tf.ones( [&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;60000&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;28&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;28&lt;/span&gt;] )&lt;br&gt;&lt;br&gt;&lt;span class=&quot;hljs-sublime-comment&quot; style=&quot;color: rgb(117, 113, 94);background: rgba(0, 0, 0, 0);display: inline;width: 55px;text-decoration-style: solid;text-decoration-color: rgb(117, 113, 94);&quot;&gt;# 4维张量&lt;/span&gt;&lt;br&gt;X4 = tf.zeros( [&lt;span class=&quot;hljs-sublime-keyword&quot; style=&quot;color: rgb(249, 38, 114);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration-style: solid;text-decoration-color: rgb(249, 38, 114);&quot;&gt;None&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;28&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;28&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;3&lt;/span&gt;] )&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;不难看出&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;ul class=&quot; list-paddingleft-2&quot; style=&quot;&quot;&gt;&lt;li&gt;&lt;p&gt;上面 X0, X1, X2 都是用 tf. Variable 直接设定张量里的元素来定义张量&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;X3 用 tf.ones 和张量的形状 (60000, 28, 28) 来定义一个所有元素都是 1 的张量&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;X4 用 tf.zeros 和张量的形状 (None, 28, 28, 3) 来定义一个所有元素都是 0 的张量。&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;X3 &lt;span style=&quot;font-family: DengXian;&quot;&gt;像不像一个数目已知的&lt;strong&gt;&lt;span style=&quot;color: white;background: black;&quot;&gt;黑白&lt;/span&gt;&lt;/strong&gt;照片的数据集？&lt;/span&gt;X4 &lt;span style=&quot;font-family: DengXian;&quot;&gt;像不像一个数目未知的&lt;/span&gt;&lt;span style=&quot;font-family: DengXian;color: rgb(255, 255, 255);&quot;&gt;&lt;strong&gt;&lt;span style=&quot;background: red;&quot;&gt;彩&lt;/span&gt;&lt;/strong&gt;&lt;strong&gt;&lt;span style=&quot;background: blue;&quot;&gt;色&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;照片的数据集？&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;882500&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;section&gt;&lt;section style=&quot;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px auto;text-align: center;white-space: normal;&quot;&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWuIkiaMRfF2nPrvryogjrO4XfhpWegMwicuiapXBQia8qeINYhefTtwGfrQ/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;width:42px;height:50px;vertical-align:top;line-height:50px;text-align:center;color:#fff;&#39;&gt;&lt;p style=&quot;font-size: 20px;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px;&quot;&gt;&lt;span style=&quot;font-size: 16px;font-family: Optima-Regular, PingFangTC-light;&quot;&gt;2.3&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWEnrBa7fuiccJgxAndh66NF0fKuTFduWXp2icIoXhBpibVePONwaJ3Jvzg/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;height:50px;&#39;&gt;&lt;section style=&quot;display:inline-block;padding-left:10px;line-height:50px;color:#333;margin-top:0;vertical-align:top;&quot;&gt;&lt;p style=&quot;font-size: 14px;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px;&quot;&gt;&lt;span style=&quot;color: rgb(255, 41, 65);font-size: 16px;font-family: Optima-Regular, PingFangTC-light;&quot;&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;MXNet&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWzfenALo6kEeDUGXCyFibSibU24BtebdP2ialR438RwuG8TnZUIv9k8Ubg/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;width:17px;height:50px;vertical-align:top;&#39;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;color: black;&quot;&gt;首先从 &lt;/span&gt;&lt;span style=&quot;color: black;&quot;&gt;mxnet &lt;/span&gt;&lt;span style=&quot;font-family: DengXian;color: black;&quot;&gt;导&lt;/span&gt;&lt;span style=&quot;color: black;&quot;&gt;⼊ ndarray &lt;/span&gt;&lt;span style=&quot;font-family: DengXian;color: black;&quot;&gt;模块。这里的 &lt;/span&gt;&lt;span style=&quot;color: black;&quot;&gt;nd &lt;/span&gt;&lt;span style=&quot;font-family: DengXian;color: black;&quot;&gt;是 &lt;/span&gt;&lt;span style=&quot;color: black;&quot;&gt;ndarray &lt;/span&gt;&lt;span style=&quot;font-family: DengXian;color: black;&quot;&gt;的缩写形式。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot; style=&quot;white-space: normal;&quot;&gt;&lt;pre style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;&quot;&gt;&lt;code class=&quot;hljs-sublime&quot; style=&quot;margin-right: 0.15em;margin-left: 0.15em;padding: 5.95px;border-radius: 4px;font-size: 0.85em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;overflow-x: auto;white-space: nowrap;&quot;&gt;&lt;span class=&quot;hljs-sublime-keyword&quot; style=&quot;color: rgb(249, 38, 114);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration-style: solid;text-decoration-color: rgb(249, 38, 114);&quot;&gt;from&lt;/span&gt; mxnet &lt;span class=&quot;hljs-sublime-keyword&quot; style=&quot;color: rgb(249, 38, 114);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration-style: solid;text-decoration-color: rgb(249, 38, 114);&quot;&gt;import&lt;/span&gt; nd&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;下面是用 &lt;/span&gt;mxnet &lt;span style=&quot;font-family: DengXian;&quot;&gt;的 &lt;/span&gt;ndarray &lt;span style=&quot;font-family: DengXian;&quot;&gt;来定义 &lt;/span&gt;0 &lt;span style=&quot;font-family: DengXian;&quot;&gt;到 &lt;/span&gt;4 &lt;span style=&quot;font-family: DengXian;&quot;&gt;维的张量。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot; style=&quot;white-space: normal;&quot;&gt;&lt;pre style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;&quot;&gt;&lt;code class=&quot;hljs-sublime&quot; style=&quot;margin-right: 0.15em;margin-left: 0.15em;padding: 5.95px;border-radius: 4px;font-size: 0.85em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;overflow-x: auto;white-space: nowrap;&quot;&gt;&lt;span class=&quot;hljs-sublime-comment&quot; style=&quot;color: rgb(117, 113, 94);background: rgba(0, 0, 0, 0);display: inline;width: 55px;text-decoration-style: solid;text-decoration-color: rgb(117, 113, 94);&quot;&gt;# 0维张量&lt;/span&gt;&lt;br&gt;X0 = &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;br&gt;&lt;span class=&quot;hljs-sublime-comment&quot; style=&quot;color: rgb(117, 113, 94);background: rgba(0, 0, 0, 0);display: inline;width: 55px;text-decoration-style: solid;text-decoration-color: rgb(117, 113, 94);&quot;&gt;# 1维张量&lt;/span&gt;&lt;br&gt;X1 = nd.arange(&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;12&lt;/span&gt;)&lt;br&gt;&lt;br&gt;&lt;span class=&quot;hljs-sublime-comment&quot; style=&quot;color: rgb(117, 113, 94);background: rgba(0, 0, 0, 0);display: inline;width: 55px;text-decoration-style: solid;text-decoration-color: rgb(117, 113, 94);&quot;&gt;# 2维张量&lt;/span&gt;&lt;br&gt;X2 = X1.reshape( (&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;4&lt;/span&gt;) )&lt;br&gt;&lt;br&gt;&lt;span class=&quot;hljs-sublime-comment&quot; style=&quot;color: rgb(117, 113, 94);background: rgba(0, 0, 0, 0);display: inline;width: 55px;text-decoration-style: solid;text-decoration-color: rgb(117, 113, 94);&quot;&gt;# 3维张量&lt;/span&gt;&lt;br&gt;X3 = nd.random.normal( &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;1&lt;/span&gt;, shape=(&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;5&lt;/span&gt;) )&lt;br&gt;&lt;br&gt;&lt;span class=&quot;hljs-sublime-comment&quot; style=&quot;color: rgb(117, 113, 94);background: rgba(0, 0, 0, 0);display: inline;width: 55px;text-decoration-style: solid;text-decoration-color: rgb(117, 113, 94);&quot;&gt;# 4维张量&lt;/span&gt;&lt;br&gt;X4 = nd.zeros( (&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;10000&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;28&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;28&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;3&lt;/span&gt;) )&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;不难看出&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt; &lt;/p&gt;&lt;ul class=&quot; list-paddingleft-2&quot; style=&quot;&quot;&gt;&lt;li&gt;&lt;p&gt;X0, X1 &lt;span style=&quot;font-family: DengXian;&quot;&gt;都是用 &lt;/span&gt;nd &lt;span style=&quot;font-family: DengXian;box-sizing: border-box !important;&quot;&gt;直接设定张量里的元素来定义张量&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;X2 &lt;span style=&quot;font-family: DengXian;&quot;&gt;将一维张量 &lt;/span&gt;X1 &lt;span style=&quot;font-family: DengXian;&quot;&gt;重新排成 &lt;/span&gt;3×4 &lt;span style=&quot;font-family: DengXian;&quot;&gt;的二维张量&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;X3 &lt;span style=&quot;font-family: DengXian;&quot;&gt;用 &lt;/span&gt;nd.random.normal &lt;span style=&quot;font-family: DengXian;&quot;&gt;和张量的形状 &lt;/span&gt;(3, 4, 5) &lt;span style=&quot;font-family: DengXian;&quot;&gt;来定义一个高斯随机张量&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;X4 &lt;span style=&quot;font-family: DengXian;&quot;&gt;用 &lt;/span&gt;nd.zeros &lt;span style=&quot;font-family: DengXian;&quot;&gt;和张量的形状 &lt;/span&gt;(10000, 28, 28, 3) &lt;span style=&quot;font-family: DengXian;&quot;&gt;来定义一个所有元素都是 &lt;/span&gt;1 &lt;span style=&quot;font-family: DengXian;&quot;&gt;的张量&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;882500&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;section&gt;&lt;section style=&quot;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px auto;text-align: center;white-space: normal;&quot;&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWuIkiaMRfF2nPrvryogjrO4XfhpWegMwicuiapXBQia8qeINYhefTtwGfrQ/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;width:42px;height:50px;vertical-align:top;line-height:50px;text-align:center;color:#fff;&#39;&gt;&lt;p style=&quot;font-size: 20px;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px;&quot;&gt;&lt;span style=&quot;font-size: 16px;font-family: Optima-Regular, PingFangTC-light;&quot;&gt;2.4&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWEnrBa7fuiccJgxAndh66NF0fKuTFduWXp2icIoXhBpibVePONwaJ3Jvzg/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;height:50px;&#39;&gt;&lt;section style=&quot;display:inline-block;padding-left:10px;line-height:50px;color:#333;margin-top:0;vertical-align:top;&quot;&gt;&lt;p style=&quot;font-size: 14px;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px;&quot;&gt;&lt;span style=&quot;color: rgb(255, 41, 65);font-size: 16px;font-family: Optima-Regular, PingFangTC-light;&quot;&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;PyTorch&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWzfenALo6kEeDUGXCyFibSibU24BtebdP2ialR438RwuG8TnZUIv9k8Ubg/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;width:17px;height:50px;vertical-align:top;&#39;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;color: rgb(192, 0, 0);&quot;&gt; &lt;/span&gt;&lt;/strong&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;color: black;&quot;&gt;首先从 &lt;/span&gt;&lt;span style=&quot;color: black;&quot;&gt;PyTorch &lt;/span&gt;&lt;span style=&quot;font-family: DengXian;color: black;&quot;&gt;导&lt;/span&gt;&lt;span style=&quot;color: black;&quot;&gt;⼊ torch &lt;/span&gt;&lt;span style=&quot;font-family: DengXian;color: black;&quot;&gt;模块。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot; style=&quot;white-space: normal;&quot;&gt;&lt;pre style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;&quot;&gt;&lt;code class=&quot;hljs-sublime&quot; style=&quot;margin-right: 0.15em;margin-left: 0.15em;padding: 5.95px;border-radius: 4px;font-size: 0.85em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;overflow-x: auto;white-space: nowrap;&quot;&gt;&lt;span class=&quot;hljs-sublime-keyword&quot; style=&quot;color: rgb(249, 38, 114);background: rgba(0, 0, 0, 0);display: inline;width: 40px;text-decoration-style: solid;text-decoration-color: rgb(249, 38, 114);&quot;&gt;import&lt;/span&gt; torch&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;下面是用 &lt;/span&gt;&lt;span style=&quot;color: black;&quot;&gt;PyTorch &lt;/span&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;的 &lt;/span&gt;&lt;span style=&quot;color: black;&quot;&gt;torch &lt;/span&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;来定义 &lt;/span&gt;0 &lt;span style=&quot;font-family: DengXian;&quot;&gt;到 &lt;/span&gt;4 &lt;span style=&quot;font-family: DengXian;&quot;&gt;维的张量。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot; style=&quot;white-space: normal;&quot;&gt;&lt;pre style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;&quot;&gt;&lt;code class=&quot;hljs-sublime&quot; style=&quot;margin-right: 0.15em;margin-left: 0.15em;padding: 5.95px;border-radius: 4px;font-size: 0.85em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;overflow-x: auto;white-space: nowrap;&quot;&gt;&lt;span class=&quot;hljs-sublime-comment&quot; style=&quot;color: rgb(117, 113, 94);background: rgba(0, 0, 0, 0);display: inline;width: 55px;text-decoration-style: solid;text-decoration-color: rgb(117, 113, 94);&quot;&gt;# 0维张量&lt;/span&gt;&lt;br&gt;X0 = torch.tensor(&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;3&lt;/span&gt;)&lt;br&gt;&lt;br&gt;&lt;span class=&quot;hljs-sublime-comment&quot; style=&quot;color: rgb(117, 113, 94);background: rgba(0, 0, 0, 0);display: inline;width: 55px;text-decoration-style: solid;text-decoration-color: rgb(117, 113, 94);&quot;&gt;# 1维张量&lt;/span&gt;&lt;br&gt;X1 = torch.tensor([&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;9&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;-9&lt;/span&gt;])&lt;br&gt;&lt;br&gt;&lt;span class=&quot;hljs-sublime-comment&quot; style=&quot;color: rgb(117, 113, 94);background: rgba(0, 0, 0, 0);display: inline;width: 55px;text-decoration-style: solid;text-decoration-color: rgb(117, 113, 94);&quot;&gt;# 2维张量&lt;/span&gt;&lt;br&gt;X2 = torch.rand(&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;5&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;5&lt;/span&gt;)&lt;br&gt;&lt;br&gt;&lt;span class=&quot;hljs-sublime-comment&quot; style=&quot;color: rgb(117, 113, 94);background: rgba(0, 0, 0, 0);display: inline;width: 55px;text-decoration-style: solid;text-decoration-color: rgb(117, 113, 94);&quot;&gt;# 3维张量&lt;/span&gt;&lt;br&gt;X3 = torch.tensor([[[&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;3&lt;/span&gt;]]])&lt;br&gt;&lt;br&gt;&lt;span class=&quot;hljs-sublime-comment&quot; style=&quot;color: rgb(117, 113, 94);background: rgba(0, 0, 0, 0);display: inline;width: 55px;text-decoration-style: solid;text-decoration-color: rgb(117, 113, 94);&quot;&gt;# 4维张量&lt;/span&gt;&lt;br&gt;X4 = torch.tensor.new_ones((&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;60000&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;28&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;28&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration-style: solid;text-decoration-color: rgb(174, 129, 255);&quot;&gt;3&lt;/span&gt;))&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;不难看出&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;ul class=&quot; list-paddingleft-2&quot; style=&quot;&quot;&gt;&lt;li&gt;&lt;p&gt;X0, X1, X3 &lt;span style=&quot;font-family: DengXian;&quot;&gt;都是用 &lt;/span&gt;torch.tensor &lt;span style=&quot;font-family: DengXian;&quot;&gt;直接设定张量里的元素来定义张量&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;X2 &lt;span style=&quot;font-family: DengXian;&quot;&gt;用 &lt;/span&gt;torch.rand &lt;span style=&quot;font-family: DengXian;&quot;&gt;和张量的形状 &lt;/span&gt;(5, 5) &lt;span style=&quot;font-family: DengXian;&quot;&gt;来定义一个随机张量&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;X4 &lt;span style=&quot;font-family: DengXian;&quot;&gt;用 &lt;/span&gt;new_ones &lt;span style=&quot;font-family: DengXian;&quot;&gt;和张量的形状 &lt;/span&gt;(60000, 28, 28, 3) &lt;span style=&quot;font-family: DengXian;&quot;&gt;来定义一个所有元素都是 &lt;/span&gt;1 &lt;span style=&quot;font-family: DengXian;&quot;&gt;的张量&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;882500&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;section&gt;&lt;section style=&quot;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px auto;text-align: center;white-space: normal;&quot;&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWuIkiaMRfF2nPrvryogjrO4XfhpWegMwicuiapXBQia8qeINYhefTtwGfrQ/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;width:42px;height:50px;vertical-align:top;line-height:50px;text-align:center;color:#fff;&#39;&gt;&lt;p style=&quot;font-size: 20px;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px;&quot;&gt;&lt;span style=&quot;font-size: 16px;font-family: Optima-Regular, PingFangTC-light;&quot;&gt;2.5&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWEnrBa7fuiccJgxAndh66NF0fKuTFduWXp2icIoXhBpibVePONwaJ3Jvzg/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;height:50px;&#39;&gt;&lt;section style=&quot;display:inline-block;padding-left:10px;line-height:50px;color:#333;margin-top:0;vertical-align:top;&quot;&gt;&lt;p style=&quot;font-size: 14px;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px;&quot;&gt;&lt;span style=&quot;color: rgb(255, 41, 65);font-size: 16px;font-family: Optima-Regular, PingFangTC-light;&quot;&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;Matlab&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWzfenALo6kEeDUGXCyFibSibU24BtebdP2ialR438RwuG8TnZUIv9k8Ubg/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;width:17px;height:50px;vertical-align:top;&#39;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;下面是用 &lt;/span&gt;&lt;span style=&quot;color: black;&quot;&gt;Matlab &lt;/span&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;来定义 &lt;/span&gt;0 &lt;span style=&quot;font-family: DengXian;&quot;&gt;到 &lt;/span&gt;4 &lt;span style=&quot;font-family: DengXian;&quot;&gt;维的张量。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot; style=&quot;white-space: normal;&quot;&gt;&lt;pre style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;&quot;&gt;&lt;code class=&quot;hljs-sublime&quot; style=&quot;margin-right: 0.15em;margin-left: 0.15em;padding: 5.95px;border-radius: 4px;font-size: 0.85em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;overflow-x: auto;white-space: nowrap;&quot;&gt;% 0 维数组&lt;br&gt;X0 = 2;&lt;br&gt;&lt;br&gt;% 1 维数组&lt;br&gt;X1 = [1 2; 3 4];&lt;br&gt;&lt;br&gt;% 2 维数组&lt;br&gt;X2 = [1 2 3; 4 5 6; 7 8 9];&lt;br&gt;&lt;br&gt;% 3 维数组&lt;br&gt;X3 = cat( 3, X2, [3 2 1; 0 9 8; 5 3 7] );&lt;br&gt;&lt;br&gt;% 4 维数组&lt;br&gt;X4 = repmat( 5,[2 3 1 4] );&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;不难看出&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;ul class=&quot; list-paddingleft-2&quot; style=&quot;&quot;&gt;&lt;li&gt;&lt;p&gt;X0, X1, X2 &lt;span style=&quot;font-family: DengXian;&quot;&gt;都是用方括号 “&lt;/span&gt;[]&lt;span style=&quot;font-family: DengXian;&quot;&gt;”&lt;/span&gt; &lt;span style=&quot;font-family: DengXian;&quot;&gt;直接设定张量里的元素来定义张量&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;X3 &lt;span style=&quot;font-family: DengXian;&quot;&gt;用 &lt;/span&gt;cat &lt;span style=&quot;font-family: DengXian;&quot;&gt;把 &lt;/span&gt;X2 (3×3) &lt;span style=&quot;font-family: DengXian;&quot;&gt;和另一个 &lt;/span&gt;3×3 &lt;span style=&quot;font-family: DengXian;&quot;&gt;按张量按第 &lt;/span&gt;3 &lt;span style=&quot;font-family: DengXian;&quot;&gt;维度上拼接起来&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;X4 &lt;span style=&quot;font-family: DengXian;&quot;&gt;用 &lt;/span&gt;repmat &lt;span style=&quot;font-family: DengXian;&quot;&gt;把元素 &lt;/span&gt;5 &lt;span style=&quot;font-family: DengXian;&quot;&gt;复制一个形状为 &lt;/span&gt;[2, 3, 1, 4] &lt;span style=&quot;font-family: DengXian;&quot;&gt;的张量&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;882155&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;section&gt;&lt;section style=&quot;padding:10px 10px;&quot;&gt;&lt;section class=&quot;autonum&quot; style=&quot;float: left;width: 40px;height: 40px;text-align: center;color: rgb(255, 255, 255);background-color: rgb(13, 12, 12);font-size: 24px;line-height: 40px;&quot;&gt;3&lt;/section&gt;&lt;section style=&quot;width: auto;display: inline-block;float: left;padding: 0px 15px;height: 40px;font-size: 18px;line-height: 35px;border-bottom: 2px solid rgb(13, 12, 12);border-top: 2px solid rgb(13, 12, 12);&quot;&gt;机器学习的张量&lt;/section&gt;&lt;section style=&#39;background-image: url(&quot;https://mmbiz.qpic.cn/mmbiz_png/fgnkxfGnnkSBJo13oUicPbCbqeTcIyiakNc2UGmnmA1qH7HExsicAyuzE3Foogxo1VmRNr68icYkKibV0wM7nqTIHng/640?wx_fmt=png&quot;);width: 18px;height: 40px;float: left;background-repeat: no-repeat;background-color: rgb(13, 12, 12);background-size: 100% 40px;&#39;&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;width:100%;clear:both;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;882500&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;section&gt;&lt;section style=&quot;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px auto;text-align: center;white-space: normal;&quot;&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWuIkiaMRfF2nPrvryogjrO4XfhpWegMwicuiapXBQia8qeINYhefTtwGfrQ/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;width:42px;height:50px;vertical-align:top;line-height:50px;text-align:center;color:#fff;&#39;&gt;&lt;p style=&quot;font-size: 20px;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px;&quot;&gt;&lt;span style=&quot;font-size: 16px;font-family: Optima-Regular, PingFangTC-light;&quot;&gt;3.1&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWEnrBa7fuiccJgxAndh66NF0fKuTFduWXp2icIoXhBpibVePONwaJ3Jvzg/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;height:50px;&#39;&gt;&lt;section style=&quot;display:inline-block;padding-left:10px;line-height:50px;color:#333;margin-top:0;vertical-align:top;&quot;&gt;&lt;p style=&quot;font-size: 14px;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px;&quot;&gt;&lt;span style=&quot;color: rgb(255, 41, 65);font-size: 16px;font-family: Optima-Regular, PingFangTC-light;&quot;&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;简介&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWzfenALo6kEeDUGXCyFibSibU24BtebdP2ialR438RwuG8TnZUIv9k8Ubg/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;width:17px;height:50px;vertical-align:top;&#39;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;机器学习 &lt;/span&gt;(&lt;span style=&quot;font-family: DengXian;&quot;&gt;深度学习&lt;/span&gt;) &lt;span style=&quot;font-family: DengXian;&quot;&gt;中用到的数据，包括结构性数据 &lt;/span&gt;(&lt;span style=&quot;font-family: DengXian;&quot;&gt;数据表、序列&lt;/span&gt;) &lt;span style=&quot;font-family: DengXian;&quot;&gt;和非结构性数据 &lt;/span&gt;(&lt;span style=&quot;font-family: DengXian;&quot;&gt;图片、视屏&lt;/span&gt;) &lt;span style=&quot;font-family: DengXian;&quot;&gt;都是张量，总结如下：&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;ul class=&quot; list-paddingleft-2&quot; style=&quot;list-style-type: circle;&quot;&gt;&lt;li&gt;&lt;p style=&quot;text-align: left;line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;数据表&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;：&lt;/span&gt;2 &lt;span style=&quot;font-family: DengXian;&quot;&gt;维，形状 &lt;/span&gt;= (&lt;span style=&quot;font-family: DengXian;color: red;&quot;&gt;样本数&lt;/span&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;，特征数&lt;/span&gt;)&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p style=&quot;text-align: left;line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;序列类&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;：&lt;/span&gt;3 &lt;span style=&quot;font-family: DengXian;&quot;&gt;维，形状 &lt;/span&gt;= (&lt;span style=&quot;font-family: DengXian;color: red;&quot;&gt;样本数&lt;/span&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;，步长，特征数&lt;/span&gt;)&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p style=&quot;text-align: left;line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;图像类&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;：&lt;/span&gt;4 &lt;span style=&quot;font-family: DengXian;&quot;&gt;维，形状 &lt;/span&gt;= (&lt;span style=&quot;font-family: DengXian;color: red;&quot;&gt;样本数&lt;/span&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;，宽，高，通道数&lt;/span&gt;)&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p style=&quot;text-align: left;line-height: normal;&quot;&gt;&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;视屏类&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;：&lt;/span&gt;5 &lt;span style=&quot;font-family: DengXian;&quot;&gt;维，形状 &lt;/span&gt;= (&lt;span style=&quot;font-family: DengXian;color: red;&quot;&gt;样本数&lt;/span&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;，帧数，宽，高，通道数&lt;/span&gt;)&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&quot;white-space: normal;text-align: left;line-height: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;line-height: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;机器学习，尤其深度学习，需要大量的数据，因此&lt;span style=&quot;color: red;&quot;&gt;样本数&lt;/span&gt;肯定占一个维度，惯例我们把它称为维度&lt;/span&gt; 1&lt;span style=&quot;font-family: DengXian;&quot;&gt;。这样机器学习要处理的张量至少从 &lt;/span&gt;2 &lt;span style=&quot;font-family: DengXian;&quot;&gt;维开始。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;line-height: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;882500&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;section&gt;&lt;section style=&quot;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px auto;text-align: center;white-space: normal;&quot;&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWuIkiaMRfF2nPrvryogjrO4XfhpWegMwicuiapXBQia8qeINYhefTtwGfrQ/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;width:42px;height:50px;vertical-align:top;line-height:50px;text-align:center;color:#fff;&#39;&gt;&lt;p style=&quot;font-size: 20px;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px;&quot;&gt;&lt;span style=&quot;font-size: 16px;font-family: Optima-Regular, PingFangTC-light;&quot;&gt;3.2&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWEnrBa7fuiccJgxAndh66NF0fKuTFduWXp2icIoXhBpibVePONwaJ3Jvzg/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;height:50px;&#39;&gt;&lt;section style=&quot;display:inline-block;padding-left:10px;line-height:50px;color:#333;margin-top:0;vertical-align:top;&quot;&gt;&lt;p style=&quot;font-size: 14px;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px;&quot;&gt;&lt;span style=&quot;color: rgb(255, 41, 65);font-size: 16px;font-family: Optima-Regular, PingFangTC-light;&quot;&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;2D 数据表&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWzfenALo6kEeDUGXCyFibSibU24BtebdP2ialR438RwuG8TnZUIv9k8Ubg/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;width:17px;height:50px;vertical-align:top;&#39;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;2 &lt;span style=&quot;font-family: DengXian;&quot;&gt;维张量就是矩阵，也叫数据表，一般用 &lt;/span&gt;csv &lt;span style=&quot;font-family: DengXian;&quot;&gt;存储。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;159&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCG10MfSaJWcNALWNO2CBJyFjGZEAbIqV10ldtfLZIzJDUcZx1F07bHVWdjiaUxluTQJSCjv58tn0Xg/0?wx_fmt=png&quot; data-ratio=&quot;0.2857142857142857&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCG10MfSaJWcNALWNO2CBJyFjGZEAbIqV10ldtfLZIzJDUcZx1F07bHVWdjiaUxluTQJSCjv58tn0Xg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;672&quot; style=&quot;width: 556.25px;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;这套房屋 &lt;/span&gt;21,000 &lt;span style=&quot;font-family: DengXian;&quot;&gt;个数据包括其价格 &lt;/span&gt;(y)&lt;span style=&quot;font-family: DengXian;&quot;&gt;，平方英尺，卧室数，楼层，日期，翻新年份等等&lt;/span&gt; 21 &lt;span style=&quot;font-family: DengXian;&quot;&gt;栏。该数据形状为 &lt;/span&gt;(21000, 21)&lt;span style=&quot;font-family: DengXian;&quot;&gt;。传统机器学习的线性回归可以来预测房价。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;2 &lt;span style=&quot;font-family: DengXian;&quot;&gt;维张量的数据表示图如下：&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;189&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCG67olIO7NH4LibhJeKIKGUrw6GXicbFiac9CwoF3Mk9dyIibWZxoCgaf1uoVCvlhQiamLacTZsFfdF0AA/0?wx_fmt=png&quot; data-ratio=&quot;0.33916083916083917&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCG67olIO7NH4LibhJeKIKGUrw6GXicbFiac9CwoF3Mk9dyIibWZxoCgaf1uoVCvlhQiamLacTZsFfdF0AA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1144&quot; style=&quot;text-align: center;white-space: normal;width: 100%;height: auto;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;882500&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;section&gt;&lt;section style=&quot;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px auto;text-align: center;white-space: normal;&quot;&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWuIkiaMRfF2nPrvryogjrO4XfhpWegMwicuiapXBQia8qeINYhefTtwGfrQ/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;width:42px;height:50px;vertical-align:top;line-height:50px;text-align:center;color:#fff;&#39;&gt;&lt;p style=&quot;font-size: 20px;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px;&quot;&gt;&lt;span style=&quot;font-size: 16px;font-family: Optima-Regular, PingFangTC-light;&quot;&gt;3.3&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWEnrBa7fuiccJgxAndh66NF0fKuTFduWXp2icIoXhBpibVePONwaJ3Jvzg/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;height:50px;&#39;&gt;&lt;section style=&quot;display:inline-block;padding-left:10px;line-height:50px;color:#333;margin-top:0;vertical-align:top;&quot;&gt;&lt;p style=&quot;font-size: 14px;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px;&quot;&gt;&lt;span style=&quot;color: rgb(255, 41, 65);font-size: 16px;font-family: Optima-Regular, PingFangTC-light;&quot;&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;3D 序列数据&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWzfenALo6kEeDUGXCyFibSibU24BtebdP2ialR438RwuG8TnZUIv9k8Ubg/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;width:17px;height:50px;vertical-align:top;&#39;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;推特 &lt;/span&gt;(twitter) &lt;span style=&quot;font-family: DengXian;&quot;&gt;的每条推文 &lt;/span&gt;(tweet) &lt;span style=&quot;font-family: DengXian;&quot;&gt;规定只能发 &lt;/span&gt;280 &lt;span style=&quot;font-family: DengXian;&quot;&gt;个字符。在编码推文时，将 &lt;/span&gt;280 &lt;span style=&quot;font-family: DengXian;&quot;&gt;个字符的序列用独热编码 &lt;/span&gt;(one-hot encoding) &lt;span style=&quot;font-family: DengXian;&quot;&gt;到包含 &lt;/span&gt;128 &lt;span style=&quot;font-family: DengXian;&quot;&gt;个字符的 &lt;/span&gt;ASCII &lt;span style=&quot;font-family: DengXian;&quot;&gt;表，如下所示。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;370&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;https://upload.wikimedia.org/wikipedia/commons/thumb/1/1b/ASCII-Table-wide.svg/875px-ASCII-Table-wide.svg.png&quot; data-ratio=&quot;0.6651428571428571&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCG67olIO7NH4LibhJeKIKGUr42JicFxDht13mv3YEljsVwx4ibwzgP83XRfp6TeEhssicc2nTe0NwTTmw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;875&quot; style=&quot;width: 100%;height: auto;&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;这样，每条推文都可以编码为 &lt;/span&gt;2 &lt;span style=&quot;font-family: DengXian;&quot;&gt;维张量形状 &lt;/span&gt;(280, 128)&lt;span style=&quot;font-family: DengXian;&quot;&gt;，比如一条 &lt;/span&gt;tweet &lt;span style=&quot;font-family: DengXian;&quot;&gt;是 “&lt;/span&gt;&lt;span style=&quot;color: rgb(172, 57, 255);&quot;&gt;I love python :)&lt;/span&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;”，这句话映射到 &lt;/span&gt;ASCII &lt;span style=&quot;font-family: DengXian;&quot;&gt;表变成：&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;358&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCG67olIO7NH4LibhJeKIKGUr2khkGlLfBfDiawvVPmvNEywPED5rRic9ic8UYJCsHD15tYoSK6dDuztVQ/0?wx_fmt=png&quot; data-ratio=&quot;0.6425531914893617&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCG67olIO7NH4LibhJeKIKGUr2khkGlLfBfDiawvVPmvNEywPED5rRic9ic8UYJCsHD15tYoSK6dDuztVQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;940&quot; style=&quot;width: 100%;height: auto;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;如果收集到 &lt;/span&gt;1 &lt;span style=&quot;font-family: DengXian;&quot;&gt;百万条推文，那么整个数据集的形状为 &lt;/span&gt;(1000000, 280, 128)&lt;span style=&quot;font-family: DengXian;&quot;&gt;。传统机器学习的对率回归可以来做情感分析。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;3 &lt;span style=&quot;font-family:DengXian;&quot;&gt;维张量的数据表示图如下：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;216&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCG67olIO7NH4LibhJeKIKGUrPA6RlJmKlAtlypRUZW12PicCO2fB8lLbEF52XTgj7In9ITjr3cqmACA/0?wx_fmt=png&quot; data-ratio=&quot;0.38866396761133604&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCG67olIO7NH4LibhJeKIKGUrPA6RlJmKlAtlypRUZW12PicCO2fB8lLbEF52XTgj7In9ITjr3cqmACA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1235&quot; style=&quot;width: 100%;height: auto;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;882500&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;section&gt;&lt;section style=&quot;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px auto;text-align: center;white-space: normal;&quot;&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWuIkiaMRfF2nPrvryogjrO4XfhpWegMwicuiapXBQia8qeINYhefTtwGfrQ/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;width:42px;height:50px;vertical-align:top;line-height:50px;text-align:center;color:#fff;&#39;&gt;&lt;p style=&quot;font-size: 20px;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px;&quot;&gt;&lt;span style=&quot;font-size: 16px;font-family: Optima-Regular, PingFangTC-light;&quot;&gt;3.4&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWEnrBa7fuiccJgxAndh66NF0fKuTFduWXp2icIoXhBpibVePONwaJ3Jvzg/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;height:50px;&#39;&gt;&lt;section style=&quot;display:inline-block;padding-left:10px;line-height:50px;color:#333;margin-top:0;vertical-align:top;&quot;&gt;&lt;p style=&quot;font-size: 14px;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px;&quot;&gt;&lt;span style=&quot;color: rgb(255, 41, 65);font-size: 16px;font-family: Optima-Regular, PingFangTC-light;&quot;&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;4D 图像数据&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWzfenALo6kEeDUGXCyFibSibU24BtebdP2ialR438RwuG8TnZUIv9k8Ubg/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;width:17px;height:50px;vertical-align:top;&#39;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;图像通常具有&lt;/span&gt;3&lt;span style=&quot;font-family:DengXian;&quot;&gt;个维度：宽度，高度和颜色通道。虽然是黑白图像 &lt;/span&gt;(&lt;span style=&quot;font-family:DengXian;&quot;&gt;如 &lt;/span&gt;MNIST &lt;span style=&quot;font-family:DengXian;&quot;&gt;数字&lt;/span&gt;) &lt;span style=&quot;font-family:DengXian;&quot;&gt;只有一个颜色通道，按照惯例，我们还是把它当成 &lt;/span&gt;3 &lt;span style=&quot;font-family:DengXian;&quot;&gt;维，即颜色通道只有一维。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot; list-paddingleft-2&quot; style=&quot;list-style-type: disc;&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;color: black;&quot;&gt;一组黑白照片可存成形状为 &lt;/span&gt;&lt;span style=&quot;color: black;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-family: DengXian;color: black;&quot;&gt;样本数，宽，高，&lt;/span&gt;&lt;span style=&quot;color: red;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: black;&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;font-family: DengXian;color: black;&quot;&gt;的 &lt;/span&gt;&lt;span style=&quot;color: black;&quot;&gt;4 &lt;/span&gt;&lt;span style=&quot;font-family: DengXian;color: black;&quot;&gt;维张量&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;color: black;&quot;&gt;一组彩色照片可存成形状为 &lt;/span&gt;&lt;span style=&quot;color: black;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-family: DengXian;color: black;&quot;&gt;样本数，宽，高，&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: black;&quot;&gt;) &lt;/span&gt;&lt;span style=&quot;font-family: DengXian;color: black;&quot;&gt;的 &lt;/span&gt;&lt;span style=&quot;color: black;&quot;&gt;4 &lt;/span&gt;&lt;span style=&quot;font-family: DengXian;color: black;&quot;&gt;维张量&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;214&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCG67olIO7NH4LibhJeKIKGUrMkIAcR7G8Xc4a4iaLpTvMfEXbraHdY7tuwabUvrfncnqyAGedcbluuA/0?wx_fmt=png&quot; data-ratio=&quot;0.38436482084690554&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCG67olIO7NH4LibhJeKIKGUrMkIAcR7G8Xc4a4iaLpTvMfEXbraHdY7tuwabUvrfncnqyAGedcbluuA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1228&quot; style=&quot;width: 100%;height: auto;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;通常 &lt;/span&gt;0 &lt;span style=&quot;font-family: DengXian;&quot;&gt;代表黑色，&lt;/span&gt;255 &lt;span style=&quot;font-family: DengXian;&quot;&gt;代表白色。&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;4 &lt;span style=&quot;font-family:DengXian;&quot;&gt;维张量的数据表示图如下：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;309&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCG67olIO7NH4LibhJeKIKGUr12TPzCWrf8RlUOOaQnPCCJh3ZdibmQweos29PwqAZyMeKljkxdTrkHA/0?wx_fmt=png&quot; data-ratio=&quot;0.5548654244306418&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCG67olIO7NH4LibhJeKIKGUr12TPzCWrf8RlUOOaQnPCCJh3ZdibmQweos29PwqAZyMeKljkxdTrkHA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;966&quot; style=&quot;width: 100%;height: auto;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;882500&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;section&gt;&lt;section style=&quot;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px auto;text-align: center;white-space: normal;&quot;&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWuIkiaMRfF2nPrvryogjrO4XfhpWegMwicuiapXBQia8qeINYhefTtwGfrQ/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;width:42px;height:50px;vertical-align:top;line-height:50px;text-align:center;color:#fff;&#39;&gt;&lt;p style=&quot;font-size: 20px;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px;&quot;&gt;&lt;span style=&quot;font-size: 16px;font-family: Optima-Regular, PingFangTC-light;&quot;&gt;3.5&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWEnrBa7fuiccJgxAndh66NF0fKuTFduWXp2icIoXhBpibVePONwaJ3Jvzg/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;height:50px;&#39;&gt;&lt;section style=&quot;display:inline-block;padding-left:10px;line-height:50px;color:#333;margin-top:0;vertical-align:top;&quot;&gt;&lt;p style=&quot;font-size: 14px;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px;&quot;&gt;&lt;span style=&quot;color: rgb(255, 41, 65);font-size: 16px;font-family: Optima-Regular, PingFangTC-light;&quot;&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;5D 视屏数据&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWzfenALo6kEeDUGXCyFibSibU24BtebdP2ialR438RwuG8TnZUIv9k8Ubg/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;width:17px;height:50px;vertical-align:top;&#39;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;视频可以被分解成一幅幅帧 &lt;/span&gt;(frame)&lt;span style=&quot;font-family:DengXian;&quot;&gt;。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot; list-paddingleft-2&quot; style=&quot;list-style-type: disc;&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;每&lt;span style=&quot;font-family: DengXian;&quot;&gt;幅&lt;/span&gt;帧就是彩色图像，可以存储在形状是 &lt;/span&gt;(&lt;span style=&quot;font-family: DengXian;&quot;&gt;宽度，高度，通道&lt;/span&gt;) &lt;span style=&quot;font-family: DengXian;&quot;&gt;的 &lt;/span&gt;3D &lt;span style=&quot;font-family: DengXian;&quot;&gt;张量中&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;视屏 &lt;/span&gt;(&lt;span style=&quot;font-family: DengXian;&quot;&gt;一个序列的帧&lt;/span&gt;) &lt;span style=&quot;font-family: DengXian;&quot;&gt;可以存储在形状是 &lt;/span&gt;(&lt;span style=&quot;font-family: DengXian;color: red;&quot;&gt;帧数&lt;/span&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;，宽度，高度，通道&lt;/span&gt;) &lt;span style=&quot;font-family: DengXian;&quot;&gt;的 &lt;/span&gt;4D &lt;span style=&quot;font-family: DengXian;&quot;&gt;张量中&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;一批不同的视频可以存储在形状是 &lt;/span&gt;(&lt;span style=&quot;font-family: DengXian;color: blue;&quot;&gt;样本数&lt;/span&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;，&lt;span style=&quot;color:red;&quot;&gt;帧数&lt;/span&gt;，宽度，高度，通道&lt;/span&gt;) &lt;span style=&quot;font-family: DengXian;&quot;&gt;的 &lt;/span&gt;5D &lt;span style=&quot;font-family: DengXian;&quot;&gt;张量中&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;下面一个 &lt;/span&gt;9:42 &lt;span style=&quot;font-family:DengXian;&quot;&gt;秒的 &lt;/span&gt;1280x720 YouTube &lt;span style=&quot;font-family:DengXian;&quot;&gt;视频 &lt;/span&gt;(&lt;span style=&quot;font-family: DengXian;&quot;&gt;哈登三分绝杀勇士&lt;/span&gt;)&lt;span style=&quot;font-family: DengXian;&quot;&gt;，被分解成 &lt;/span&gt;40 &lt;span style=&quot;font-family: DengXian;&quot;&gt;个样本数据，每个样本包括 &lt;/span&gt;240 &lt;span style=&quot;font-family: DengXian;&quot;&gt;帧。这样的视频剪辑将存储在形状为 &lt;/span&gt;(&lt;span style=&quot;color: blue;&quot;&gt;40&lt;/span&gt;, &lt;span style=&quot;color: red;&quot;&gt;240&lt;/span&gt;, 1280, 720, 3) &lt;span style=&quot;font-family: DengXian;&quot;&gt;的张量中。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.5628571428571428&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCG67olIO7NH4LibhJeKIKGUrRchgib2jFooqowdPh4G8qsPU2B2oCULMfGd9S9e9zBzukDDaG5UOfCA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;700&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;5 &lt;span style=&quot;font-family:DengXian;&quot;&gt;维张量的数据表示图如下：&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;203&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCG67olIO7NH4LibhJeKIKGUruiclbcqibbXz21V9MuuN96ICCgu8fPbD55OqDNTQOEJicFVN3AicibjHt6w/0?wx_fmt=png&quot; data-ratio=&quot;0.36370839936608557&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCG67olIO7NH4LibhJeKIKGUruiclbcqibbXz21V9MuuN96ICCgu8fPbD55OqDNTQOEJicFVN3AicibjHt6w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1262&quot; style=&quot;width: 100%;height: auto;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;882155&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;section&gt;&lt;section style=&quot;padding:10px 10px;&quot;&gt;&lt;section class=&quot;autonum&quot; style=&quot;float:left;width:40px;height:40px;text-align:center;color:#fff;background-color:#0d0c0c;font-size:24px;line-height:40px;&quot;&gt;4&lt;/section&gt;&lt;section style=&quot;width:auto;display:inline-block;float:left;padding:0px 15px;height:40px;font-size:18px;line-height:35px;border-bottom:solid 2px #0d0c0c;border-top:solid 2px #0d0c0c;&quot;&gt;量化金融的张量&lt;/section&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/fgnkxfGnnkSBJo13oUicPbCbqeTcIyiakNc2UGmnmA1qH7HExsicAyuzE3Foogxo1VmRNr68icYkKibV0wM7nqTIHng/640?wx_fmt=png&quot;);width:18px;height:40px;float:left;background-repeat:no-repeat;background-color:#0d0c0c;background-size:100% 40px;&#39;&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;width:100%;clear:both;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;882500&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot; style=&quot;white-space: normal;&quot;&gt;&lt;section&gt;&lt;section style=&quot;margin-right: auto;margin-left: auto;border-width: 0px;border-style: initial;border-color: initial;text-align: center;&quot;&gt;&lt;section style=&#39;margin-right: auto;margin-left: auto;background-image: url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWuIkiaMRfF2nPrvryogjrO4XfhpWegMwicuiapXBQia8qeINYhefTtwGfrQ/640?wx_fmt=png&quot;);display: inline-block;background-size: auto 50px;background-repeat: no-repeat;width: 42px;height: 50px;vertical-align: top;line-height: 50px;color: rgb(255, 255, 255);&#39;&gt;&lt;p style=&quot;font-size: 20px;border-width: 0px;border-style: initial;border-color: initial;&quot;&gt;&lt;span style=&quot;font-size: 16px;font-family: Optima-Regular, PingFangTC-light;&quot;&gt;4.1&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section style=&#39;margin-right: auto;margin-left: auto;background-image: url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWEnrBa7fuiccJgxAndh66NF0fKuTFduWXp2icIoXhBpibVePONwaJ3Jvzg/640?wx_fmt=png&quot;);display: inline-block;text-align: left;background-size: auto 50px;background-repeat: no-repeat;height: 50px;&#39;&gt;&lt;section style=&quot;padding-left: 10px;display: inline-block;line-height: 50px;vertical-align: top;&quot;&gt;&lt;p style=&quot;font-size: 14px;border-width: 0px;border-style: initial;border-color: initial;&quot;&gt;&lt;span style=&quot;color: rgb(255, 41, 65);font-size: 16px;font-family: Optima-Regular, PingFangTC-light;&quot;&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;简介&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&#39;margin-right: auto;margin-left: auto;background-image: url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWzfenALo6kEeDUGXCyFibSibU24BtebdP2ialR438RwuG8TnZUIv9k8Ubg/640?wx_fmt=png&quot;);display: inline-block;text-align: left;background-size: auto 50px;background-repeat: no-repeat;width: 17px;height: 50px;vertical-align: top;&#39;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;在量化金融中，我们用股票数据举例来说明不同维度的张量，习惯将维度定义如下：&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;151&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPI6H8QeKeVNsVrfO2RgBf7E0pic161ibmJgoic9MVK1lGJzqgVO9BdkQAZA/0?wx_fmt=png&quot; data-ratio=&quot;0.27258320126782887&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPI6H8QeKeVNsVrfO2RgBf7E0pic161ibmJgoic9MVK1lGJzqgVO9BdkQAZA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;631&quot; style=&quot;width: 556.25px;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;结合上表，下图清晰画出各个维度的代表的意思。&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPIHPJsantr5ZNE179JnBIKVl36SJPyiaRO0eiaibvdXAGicCO7Mth2pxjJJA/640?wx_fmt=png&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.8506271379703535&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPIHPJsantr5ZNE179JnBIKVl36SJPyiaRO0eiaibvdXAGicCO7Mth2pxjJJA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;877&quot; style=&quot;width: 501px;height: auto;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;接下来我们特别选取聚宽 &lt;/span&gt;(JoinQuant) &lt;span style=&quot;font-family: DengXian;&quot;&gt;量化平台来举 &lt;/span&gt;A &lt;span style=&quot;font-family: DengXian;&quot;&gt;股的例子，选取 &lt;/span&gt;Quantoptian &lt;span style=&quot;font-family: DengXian;&quot;&gt;量化平台来举美股的例子。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;882500&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;section&gt;&lt;section style=&quot;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px auto;text-align: center;white-space: normal;&quot;&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWuIkiaMRfF2nPrvryogjrO4XfhpWegMwicuiapXBQia8qeINYhefTtwGfrQ/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;width:42px;height:50px;vertical-align:top;line-height:50px;text-align:center;color:#fff;&#39;&gt;&lt;p style=&quot;font-size: 20px;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px;&quot;&gt;&lt;span style=&quot;font-size: 16px;font-family: Optima-Regular, PingFangTC-light;&quot;&gt;4.2&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWEnrBa7fuiccJgxAndh66NF0fKuTFduWXp2icIoXhBpibVePONwaJ3Jvzg/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;height:50px;&#39;&gt;&lt;section style=&quot;display:inline-block;padding-left:10px;line-height:50px;color:#333;margin-top:0;vertical-align:top;&quot;&gt;&lt;p style=&quot;font-size: 14px;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px;&quot;&gt;&lt;span style=&quot;color: rgb(255, 41, 65);font-size: 16px;font-family: Optima-Regular, PingFangTC-light;&quot;&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;JoinQuant 之 A 股&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWzfenALo6kEeDUGXCyFibSibU24BtebdP2ialR438RwuG8TnZUIv9k8Ubg/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;width:17px;height:50px;vertical-align:top;&#39;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;首先引入 Python 基本的 numpy 模块。&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot; style=&quot;white-space: normal;&quot;&gt;&lt;pre style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;&quot;&gt;&lt;code class=&quot;hljs-github&quot; style=&quot;margin-right: 0.15em;margin-left: 0.15em;padding: 5.95px;border-radius: 4px;font-size: 0.85em;background: rgb(248, 248, 248);display: block;overflow-x: auto;white-space: nowrap;&quot;&gt;&lt;span class=&quot;hljs-github-keyword&quot; style=&quot;background: rgba(0, 0, 0, 0);display: inline;width: 40px;text-decoration-style: solid;text-decoration-color: rgb(51, 51, 51);font-weight: 700;&quot;&gt;import&lt;/span&gt; numpy &lt;span class=&quot;hljs-github-keyword&quot; style=&quot;background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration-style: solid;text-decoration-color: rgb(51, 51, 51);font-weight: 700;&quot;&gt;as&lt;/span&gt; np&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;921851&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot; style=&quot;white-space: normal;&quot;&gt;&lt;section&gt;&lt;section class=&quot;layout&quot;&gt;&lt;section style=&quot;margin-top: 1em;margin-bottom: 1em;box-sizing: border-box;border-bottom: 2px solid rgb(236, 68, 68);clear: both;&quot;&gt;&lt;section style=&quot;padding-top: 3px;padding-right: 10px;padding-left: 10px;display: inline-block;color: rgb(255, 255, 255);box-sizing: border-box;border-top-left-radius: 3px;border-top-right-radius: 3px;height: 28px;background-color: rgb(236, 68, 68);&quot;&gt;0 维张量：一个收盘价&lt;/section&gt;&lt;section style=&quot;margin-left: 2px;box-sizing: border-box;border-top: 28px solid transparent;border-right-color: rgb(206, 206, 206);border-bottom: 0px solid transparent;border-left: 15px solid rgb(206, 206, 206);display: inline-block;vertical-align: top;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot; style=&quot;white-space: normal;&quot;&gt;&lt;pre style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;&quot;&gt;&lt;code class=&quot;hljs-github&quot; style=&quot;margin-right: 0.15em;margin-left: 0.15em;padding: 5.95px;border-radius: 4px;font-size: 0.85em;background: rgb(248, 248, 248);display: block;overflow-x: auto;white-space: nowrap;&quot;&gt;&lt;span class=&quot;hljs-github-comment&quot; style=&quot;color: rgb(153, 153, 136);background: rgba(0, 0, 0, 0);display: inline;width: 270px;text-decoration-style: solid;text-decoration-color: rgb(153, 153, 136);font-style: italic;&quot;&gt;# 茅台 (600519.XSHG) 在2019年1月3日的收盘价&lt;/span&gt;&lt;br&gt;X0 = get_price(&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 85px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;600519.XSHG&#39;&lt;/span&gt;,start_date=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 79px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;2019-01-03&#39;&lt;/span&gt;,&lt;br&gt;end_date=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 79px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;2019-01-03&#39;&lt;/span&gt;, frequency=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 45px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;daily&#39;&lt;/span&gt;, &lt;br&gt;fields=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 45px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;close&#39;&lt;/span&gt;)&lt;br&gt;&lt;br&gt;print( &lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 73px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;张量形状是&#39;&lt;/span&gt;, X0.shape )&lt;br&gt;print( &lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 108px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;张量压缩后形状是&#39;&lt;/span&gt;, np.squeeze(X0).shape )&lt;br&gt;X0&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;结果得到茅台在 &lt;/span&gt;2019 &lt;span style=&quot;font-family: DengXian;&quot;&gt;年 &lt;/span&gt;1 &lt;span style=&quot;font-family: DengXian;&quot;&gt;月 &lt;/span&gt;3 &lt;span style=&quot;font-family: DengXian;&quot;&gt;日的收盘价，&lt;/span&gt;&lt;span style=&quot;line-height: 21.25px;font-family: DengXian;&quot;&gt;记为 &lt;/span&gt;X0&lt;span style=&quot;line-height: 21.25px;font-family: DengXian;&quot;&gt;，它&lt;/span&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;是一个 &lt;/span&gt;1×1 &lt;span style=&quot;font-family: DengXian;&quot;&gt;的标量，压缩之后的形状是 &lt;/span&gt;()&lt;span style=&quot;font-family: DengXian;&quot;&gt;，是一个 &lt;/span&gt;0 &lt;span style=&quot;font-family: DengXian;&quot;&gt;维张量。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;124&quot; data-backw=&quot;446&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPIibiaiaaFCVhbHtbWmVWzicbqP1SRLwGfnuQjiaFG0VpzXUIzXWfO4cv8flA/0?wx_fmt=png&quot; data-ratio=&quot;0.27740492170022374&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPIibiaiaaFCVhbHtbWmVWzicbqP1SRLwGfnuQjiaFG0VpzXUIzXWfO4cv8flA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;447&quot; style=&quot;width: 556.25px;box-shadow: none;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;921851&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot; style=&quot;white-space: normal;&quot;&gt;&lt;section&gt;&lt;section class=&quot;layout&quot;&gt;&lt;section style=&quot;margin-top: 1em;margin-bottom: 1em;box-sizing: border-box;border-bottom: 2px solid rgb(236, 68, 68);clear: both;&quot;&gt;&lt;section style=&quot;padding-top: 3px;padding-right: 10px;padding-left: 10px;display: inline-block;color: rgb(255, 255, 255);box-sizing: border-box;border-top-left-radius: 3px;border-top-right-radius: 3px;height: 28px;background-color: rgb(236, 68, 68);&quot;&gt;1 维张量：加入时间维度&lt;/section&gt;&lt;section style=&quot;margin-left: 2px;box-sizing: border-box;border-top: 28px solid transparent;border-right-color: rgb(206, 206, 206);border-bottom: 0px solid transparent;border-left: 15px solid rgb(206, 206, 206);display: inline-block;vertical-align: top;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot; style=&quot;white-space: normal;&quot;&gt;&lt;pre style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;&quot;&gt;&lt;code class=&quot;hljs-github&quot; style=&quot;margin-right: 0.15em;margin-left: 0.15em;padding: 5.95px;border-radius: 4px;font-size: 0.85em;background: rgb(248, 248, 248);display: block;overflow-x: auto;white-space: nowrap;&quot;&gt;&lt;span class=&quot;hljs-github-comment&quot; style=&quot;color: rgb(153, 153, 136);background: rgba(0, 0, 0, 0);display: inline;width: 348px;text-decoration-style: solid;text-decoration-color: rgb(153, 153, 136);font-style: italic;&quot;&gt;# 获取茅台 (600519.XSHG) 从2019年1月3日起的4天历史收盘价&lt;/span&gt;&lt;br&gt;X1 = get_price(&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 85px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;600519.XSHG&#39;&lt;/span&gt;, start_date=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 78px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;2018-12-27&#39;&lt;/span&gt;, &lt;br&gt;end_date=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 79px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;2019-01-03&#39;&lt;/span&gt;, frequency=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 45px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;daily&#39;&lt;/span&gt;, &lt;br&gt;fields=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 45px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;close&#39;&lt;/span&gt;)&lt;br&gt;&lt;br&gt;print( &lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 73px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;张量形状是&#39;&lt;/span&gt;, X1.shape )&lt;br&gt;print( &lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 108px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;张量压缩后形状是&#39;&lt;/span&gt;, np.squeeze(X1).shape )&lt;br&gt;X1&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;结果得到茅台从 &lt;/span&gt;2019 &lt;span style=&quot;font-family: DengXian;&quot;&gt;年 &lt;/span&gt;1 &lt;span style=&quot;font-family: DengXian;&quot;&gt;月 &lt;/span&gt;3 &lt;span style=&quot;font-family: DengXian;&quot;&gt;日起 &lt;/span&gt;&lt;span style=&quot;color: red;&quot;&gt;4 &lt;/span&gt;&lt;span style=&quot;font-family: DengXian;color: red;&quot;&gt;天的历史收盘价&lt;/span&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;，记为 &lt;/span&gt;X1&lt;span style=&quot;font-family: DengXian;&quot;&gt;，它是一个 &lt;/span&gt;4×1 &lt;span style=&quot;font-family: DengXian;&quot;&gt;的向量，压缩之后的形状是 &lt;/span&gt;(4,)&lt;span style=&quot;font-family: DengXian;&quot;&gt;，是一个 &lt;/span&gt;1 &lt;span style=&quot;font-family: DengXian;&quot;&gt;维张量。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;210&quot; data-backw=&quot;536&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPIu5sEVYj1aqObguFy2cFwGZ3tMTYPmibVVvPicvMxZSjmjOlezy81PbDw/0?wx_fmt=png&quot; data-ratio=&quot;0.3917910447761194&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPIu5sEVYj1aqObguFy2cFwGZ3tMTYPmibVVvPicvMxZSjmjOlezy81PbDw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;536&quot; style=&quot;width: 556.25px;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;921851&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot; style=&quot;white-space: normal;&quot;&gt;&lt;section&gt;&lt;section class=&quot;layout&quot;&gt;&lt;section style=&quot;margin-top: 1em;margin-bottom: 1em;box-sizing: border-box;border-bottom: 2px solid rgb(236, 68, 68);clear: both;&quot;&gt;&lt;section style=&quot;padding-top: 3px;padding-right: 10px;padding-left: 10px;display: inline-block;color: rgb(255, 255, 255);box-sizing: border-box;border-top-left-radius: 3px;border-top-right-radius: 3px;height: 28px;background-color: rgb(236, 68, 68);&quot;&gt;2 维张量：加入股票维度&lt;/section&gt;&lt;section style=&quot;margin-left: 2px;box-sizing: border-box;border-top: 28px solid transparent;border-right-color: rgb(206, 206, 206);border-bottom: 0px solid transparent;border-left: 15px solid rgb(206, 206, 206);display: inline-block;vertical-align: top;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot; style=&quot;white-space: normal;&quot;&gt;&lt;pre style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;&quot;&gt;&lt;code class=&quot;hljs-github&quot; style=&quot;margin-right: 0.15em;margin-left: 0.15em;padding: 5.95px;border-radius: 4px;font-size: 0.85em;background: rgb(248, 248, 248);display: block;overflow-x: auto;white-space: nowrap;&quot;&gt;&lt;span class=&quot;hljs-github-comment&quot; style=&quot;color: rgb(153, 153, 136);background: rgba(0, 0, 0, 0);display: inline;width: 505px;text-decoration-style: solid;text-decoration-color: rgb(153, 153, 136);font-style: italic;&quot;&gt;# 获取茅台 (600519.XSHG) 和平安银行 (000001.XSHE) &lt;br&gt;# 从2019年1月3日起的4天历史收盘价&lt;/span&gt;&lt;br&gt;X2 = get_price([&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 85px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;600519.XSHG&#39;&lt;/span&gt;, &lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 85px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;000001.XSHE&#39;&lt;/span&gt;], &lt;br&gt;start_date=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 78px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;2018-12-27&#39;&lt;/span&gt;, end_date=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 79px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;2019-01-03&#39;&lt;/span&gt;,&lt;br&gt;frequency=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 46px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;daily&#39;&lt;/span&gt;, fields=[&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 46px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;close&#39;&lt;/span&gt;])&lt;br&gt;&lt;br&gt;print( &lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 73px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;张量形状是&#39;&lt;/span&gt;, X2.shape )&lt;br&gt;print( &lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 108px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;张量压缩后形状是&#39;&lt;/span&gt;, np.squeeze(X2).shape )&lt;br&gt;&lt;br&gt;X2[&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 45px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;close&#39;&lt;/span&gt;]&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;结果得到&lt;span style=&quot;color: red;&quot;&gt;茅台和平安银行&lt;/span&gt;从 &lt;/span&gt;2019 &lt;span style=&quot;font-family: DengXian;&quot;&gt;年 &lt;/span&gt;1 &lt;span style=&quot;font-family: DengXian;&quot;&gt;月 &lt;/span&gt;3 &lt;span style=&quot;font-family: DengXian;&quot;&gt;日起 &lt;/span&gt;&lt;span style=&quot;color: black;&quot;&gt;4 &lt;/span&gt;&lt;span style=&quot;font-family: DengXian;color: black;&quot;&gt;天的历史收盘价&lt;/span&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;，记为 &lt;/span&gt;X2&lt;span style=&quot;font-family: DengXian;&quot;&gt;，它是一个 &lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;1&lt;/span&gt;×4×2 &lt;span style=&quot;font-family: DengXian;&quot;&gt;的张量，这个 &lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;1 &lt;/span&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;维度指的产出只有 &lt;/span&gt;[&lt;span style=&quot;color: rgb(221, 17, 68);font-family: monospace;font-size: 14.45px;background-color: rgb(248, 248, 248);&quot;&gt;&#39;close&#39;&lt;/span&gt;] &lt;span style=&quot;font-family: DengXian;&quot;&gt;一种类型的信息，因此该维度可以被压缩。&lt;/span&gt;X2 &lt;span style=&quot;font-family: DengXian;&quot;&gt;压缩之后的形状是 &lt;/span&gt;(4, 2)&lt;span style=&quot;font-family: DengXian;&quot;&gt;，是一个 &lt;/span&gt;2 &lt;span style=&quot;font-family: DengXian;&quot;&gt;维张量。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;208&quot; data-backw=&quot;541&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPITQRGk6DpibvVYR3n07IiaPsTCibcQ8TW7vFVjzxJEkAN6icQF3LMKcG8yg/0?wx_fmt=png&quot; data-ratio=&quot;0.3844731977818854&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPITQRGk6DpibvVYR3n07IiaPsTCibcQ8TW7vFVjzxJEkAN6icQF3LMKcG8yg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;541&quot; style=&quot;width: 556.25px;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;921851&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot; style=&quot;white-space: normal;&quot;&gt;&lt;section&gt;&lt;section class=&quot;layout&quot;&gt;&lt;section style=&quot;margin-top: 1em;margin-bottom: 1em;box-sizing: border-box;border-bottom: 2px solid rgb(236, 68, 68);clear: both;&quot;&gt;&lt;section style=&quot;padding-top: 3px;padding-right: 10px;padding-left: 10px;display: inline-block;color: rgb(255, 255, 255);box-sizing: border-box;border-top-left-radius: 3px;border-top-right-radius: 3px;height: 28px;background-color: rgb(236, 68, 68);&quot;&gt;3 维张量：加入信息维度&lt;/section&gt;&lt;section style=&quot;margin-left: 2px;box-sizing: border-box;border-top: 28px solid transparent;border-right-color: rgb(206, 206, 206);border-bottom: 0px solid transparent;border-left: 15px solid rgb(206, 206, 206);display: inline-block;vertical-align: top;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot; style=&quot;white-space: normal;&quot;&gt;&lt;pre style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;&quot;&gt;&lt;code class=&quot;hljs-github&quot; style=&quot;margin-right: 0.15em;margin-left: 0.15em;padding: 5.95px;border-radius: 4px;font-size: 0.85em;background: rgb(248, 248, 248);display: block;overflow-x: auto;white-space: nowrap;&quot;&gt;&lt;span class=&quot;hljs-github-comment&quot; style=&quot;color: rgb(153, 153, 136);background: rgba(0, 0, 0, 0);display: inline;width: 310px;text-decoration-style: solid;text-decoration-color: rgb(153, 153, 136);font-style: italic;&quot;&gt;# 获取茅台 (600519.XSHG) 和平安银行 (000001.XSHE)&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;hljs-github-comment&quot; style=&quot;color: rgb(153, 153, 136);background: rgba(0, 0, 0, 0);display: inline;width: 249px;text-decoration-style: solid;text-decoration-color: rgb(153, 153, 136);font-style: italic;&quot;&gt;# 从2019年1月3日起的4天历史收盘价和交易量&lt;/span&gt;&lt;br&gt;X3 = get_price([&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 85px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;600519.XSHG&#39;&lt;/span&gt;, &lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 85px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;000001.XSHE&#39;&lt;/span&gt;],&lt;br&gt;start_date=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 78px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;2018-12-27&#39;&lt;/span&gt;, end_date=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 79px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;2019-01-03&#39;&lt;/span&gt;,&lt;br&gt;frequency=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 46px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;daily&#39;&lt;/span&gt;, fields=[&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 46px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;close&#39;&lt;/span&gt;,&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 53px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;volume&#39;&lt;/span&gt;])&lt;br&gt;&lt;br&gt;print( &lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 73px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;张量形状是&#39;&lt;/span&gt;, X3.shape )&lt;br&gt;print( &lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 108px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;张量压缩后形状是&#39;&lt;/span&gt;, np.squeeze(X3).shape )&lt;br&gt;&lt;br&gt;X3[&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 45px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;close&#39;&lt;/span&gt;]&lt;br&gt;X3[&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 53px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;volume&#39;&lt;/span&gt;]&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;结果得到&lt;span style=&quot;color: black;&quot;&gt;茅台和平安银行&lt;/span&gt;从 &lt;/span&gt;2019 &lt;span style=&quot;font-family: DengXian;&quot;&gt;年 &lt;/span&gt;1 &lt;span style=&quot;font-family: DengXian;&quot;&gt;月 &lt;/span&gt;3 &lt;span style=&quot;font-family: DengXian;&quot;&gt;日起 &lt;/span&gt;&lt;span style=&quot;color: black;&quot;&gt;4 &lt;/span&gt;&lt;span style=&quot;font-family: DengXian;color: black;&quot;&gt;天的历史&lt;/span&gt;&lt;span style=&quot;font-family: DengXian;color: red;&quot;&gt;收盘价和交易量&lt;/span&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;，记为 &lt;/span&gt;X3&lt;span style=&quot;font-family: DengXian;&quot;&gt;，它是一个 &lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;2&lt;/span&gt;×4×2 &lt;span style=&quot;font-family: DengXian;&quot;&gt;的张量，这个 &lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;2 &lt;/span&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;维度指的产出有 &lt;/span&gt;[&lt;span style=&quot;color: rgb(221, 17, 68);font-family: monospace;font-size: 14.45px;background-color: rgb(248, 248, 248);&quot;&gt;&#39;close&#39;&lt;/span&gt;] &lt;span style=&quot;font-family: DengXian;&quot;&gt;和 &lt;/span&gt;[&lt;span style=&quot;color: rgb(221, 17, 68);font-family: monospace;font-size: 14.45px;background-color: rgb(248, 248, 248);&quot;&gt;&#39;volume&#39;&lt;/span&gt;] &lt;span style=&quot;font-family: DengXian;&quot;&gt;两种类型的信息，因此该维度不能被压缩。&lt;/span&gt;X3 &lt;span style=&quot;font-family: DengXian;&quot;&gt;压缩之后的形状还是 &lt;/span&gt;(2, 4, 2)&lt;span style=&quot;font-family: DengXian;&quot;&gt;，是一个 &lt;/span&gt;3 &lt;span style=&quot;font-family: DengXian;&quot;&gt;维张量。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;213&quot; data-backw=&quot;541&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPIOHzW5gKwJeLZcDmWWew8HrQiadk2ic7ZEyjMSiavGeIH45icKE4TUEAQ5A/0?wx_fmt=png&quot; data-ratio=&quot;0.39186691312384475&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPIOHzW5gKwJeLZcDmWWew8HrQiadk2ic7ZEyjMSiavGeIH45icKE4TUEAQ5A/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;541&quot; style=&quot;width: 556.25px;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;154&quot; data-backw=&quot;544&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPIeqdhqGhQb80oIfNaxFsChTfOvdKm9LUdretZgUIzZETaP1FmjmibstQ/0?wx_fmt=png&quot; data-ratio=&quot;0.283609576427256&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPIeqdhqGhQb80oIfNaxFsChTfOvdKm9LUdretZgUIzZETaP1FmjmibstQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;543&quot; style=&quot;width: 556.25px;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;1544155&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot; style=&quot;white-space: normal;&quot;&gt;&lt;section&gt;&lt;section class=&quot;layout&quot;&gt;&lt;section style=&quot;margin-top: 1em;margin-bottom: 1em;box-sizing: border-box;border-bottom: 2px solid rgb(236, 68, 68);clear: both;&quot;&gt;&lt;section style=&quot;padding-top: 3px;padding-right: 10px;padding-left: 10px;display: inline-block;color: rgb(255, 255, 255);box-sizing: border-box;border-top-left-radius: 3px;border-top-right-radius: 3px;height: 28px;background-color: rgb(236, 68, 68);&quot;&gt;4 维张量：加入频率维度&lt;/section&gt;&lt;section style=&quot;margin-left: 2px;box-sizing: border-box;border-top: 28px solid transparent;border-right-color: rgb(206, 206, 206);border-bottom: 0px solid transparent;border-left: 15px solid rgb(206, 206, 206);display: inline-block;vertical-align: top;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;当你可以在时间维度上纵横 &lt;/span&gt;(&lt;span style=&quot;font-family: DengXian;&quot;&gt;不同天，如 &lt;/span&gt;t, t-1, t-2, …)&lt;span style=&quot;font-family: DengXian;&quot;&gt;，可以在横截维度上驰骋 &lt;/span&gt;(&lt;span style=&quot;font-family: DengXian;&quot;&gt;不同股票，如茅台、平安等&lt;/span&gt;)&lt;span style=&quot;font-family: DengXian;&quot;&gt;，可以在信息维度上选择 &lt;/span&gt;(&lt;span style=&quot;font-family: DengXian;&quot;&gt;不同产出，如收盘价、交易量等&lt;/span&gt;)&lt;span style=&quot;font-family: DengXian;&quot;&gt;，你几乎可以获取任何信息。但是还有一个维度，频率维度，即在日内收集 &lt;/span&gt;tick &lt;span style=&quot;font-family: DengXian;&quot;&gt;级别的数据。国外和国内对于 &lt;/span&gt;tick &lt;span style=&quot;font-family: DengXian;&quot;&gt;数据定义有些不同：&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;ul class=&quot; list-paddingleft-2&quot; style=&quot;&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;国外：任何委托单 &lt;/span&gt;(order) &lt;span style=&quot;font-family: DengXian;&quot;&gt;使委托账本 &lt;/span&gt;(order book) &lt;span style=&quot;font-family: DengXian;&quot;&gt;变化而得到的表格&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;国内：对委托账本的按一定切片时间 &lt;/span&gt;(500 &lt;span style=&quot;font-family: DengXian;&quot;&gt;毫秒，&lt;/span&gt;3 &lt;span style=&quot;font-family: DengXian;&quot;&gt;秒，&lt;/span&gt;6 &lt;span style=&quot;font-family: DengXian;&quot;&gt;秒等&lt;/span&gt;) &lt;span style=&quot;font-family: DengXian;&quot;&gt;抽样的信息。&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot; style=&quot;white-space: normal;&quot;&gt;&lt;pre style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;&quot;&gt;&lt;code class=&quot;hljs-github&quot; style=&quot;margin-right: 0.15em;margin-left: 0.15em;padding: 5.95px;border-radius: 4px;font-size: 0.85em;background: rgb(248, 248, 248);display: block;overflow-x: auto;white-space: nowrap;&quot;&gt;&lt;span class=&quot;hljs-github-comment&quot; style=&quot;color: rgb(153, 153, 136);background: rgba(0, 0, 0, 0);display: inline;width: 195px;text-decoration-style: solid;text-decoration-color: rgb(153, 153, 136);font-style: italic;&quot;&gt;# 引入 tick 级别的当前价和交易量&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;hljs-github-comment&quot; style=&quot;color: rgb(153, 153, 136);background: rgba(0, 0, 0, 0);display: inline;width: 279px;text-decoration-style: solid;text-decoration-color: rgb(153, 153, 136);font-style: italic;&quot;&gt;# 融入 3 维张量得到的张量形状为 (2, 4, 2, 10)&lt;/span&gt;&lt;br&gt;d = get_ticks(&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 85px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;000001.XSHE&#39;&lt;/span&gt;, start_dt=&lt;span class=&quot;hljs-github-keyword&quot; style=&quot;background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration-style: solid;text-decoration-color: rgb(51, 51, 51);font-weight: 700;&quot;&gt;None&lt;/span&gt;, &lt;br&gt;end_dt=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 79px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&quot;2019-01-03&quot;&lt;/span&gt;, count=&lt;span class=&quot;hljs-github-number&quot; style=&quot;color: rgb(0, 128, 128);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration-style: solid;text-decoration-color: rgb(0, 128, 128);&quot;&gt;10&lt;/span&gt;,&lt;br&gt;fields=[&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;time&#39;&lt;/span&gt;,&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 59px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;current&#39;&lt;/span&gt;,&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 53px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;volume&#39;&lt;/span&gt;])&lt;br&gt;&lt;br&gt;d&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;上面代码是获取&lt;span style=&quot;color: black;&quot;&gt;平安银行&lt;/span&gt;在 &lt;/span&gt;2019 &lt;span style=&quot;font-family: DengXian;&quot;&gt;年 &lt;/span&gt;1 &lt;span style=&quot;font-family: DengXian;&quot;&gt;月 &lt;/span&gt;3 &lt;span style=&quot;font-family: DengXian;&quot;&gt;日开盘前，即 &lt;/span&gt;2019 &lt;span style=&quot;font-family: DengXian;&quot;&gt;年 &lt;/span&gt;1 &lt;span style=&quot;font-family: DengXian;&quot;&gt;月 &lt;/span&gt;2 &lt;span style=&quot;font-family: DengXian;&quot;&gt;日收盘前 &lt;/span&gt;(A &lt;span style=&quot;font-family: DengXian;&quot;&gt;股是每天下午 &lt;/span&gt;15 &lt;span style=&quot;font-family: DengXian;&quot;&gt;点收盘&lt;/span&gt;) &lt;span style=&quot;font-family: DengXian;&quot;&gt;的 &lt;/span&gt;10 &lt;span style=&quot;font-family: DengXian;&quot;&gt;个 &lt;/span&gt;tick &lt;span style=&quot;font-family: DengXian;&quot;&gt;数据 &lt;/span&gt;(&lt;span style=&quot;font-family: DengXian;&quot;&gt;现价和交易量&lt;/span&gt;)&lt;span style=&quot;font-family: DengXian;&quot;&gt;，得到以下结果是个 &lt;/span&gt;record &lt;span style=&quot;font-family: DengXian;&quot;&gt;类型的数组。该数组有 &lt;/span&gt;10 &lt;span style=&quot;font-family: DengXian;&quot;&gt;条记录，每条记录分别包含时间、现价和交易量。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;166&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPIRbCc9dST32Z383ZXHfnMeCau6dFglHS04HmGF4JUIL6sicHsC9BrUIg/0?wx_fmt=png&quot; data-ratio=&quot;0.2980769230769231&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPIRbCc9dST32Z383ZXHfnMeCau6dFglHS04HmGF4JUIL6sicHsC9BrUIg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;624&quot; style=&quot;width: 556.25px;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;从上面结果来看，时间用了科学计数表现形式，根本看不出来具体的精确到秒的区别，因此我们将 &lt;/span&gt;record &lt;span style=&quot;font-family: DengXian;&quot;&gt;类型数组转换成 &lt;/span&gt;list&lt;span style=&quot;font-family: DengXian;&quot;&gt;。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot; style=&quot;white-space: normal;&quot;&gt;&lt;pre style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;&quot;&gt;&lt;code class=&quot;hljs-github&quot; style=&quot;margin-right: 0.15em;margin-left: 0.15em;padding: 5.95px;border-radius: 4px;font-size: 0.85em;background: rgb(248, 248, 248);display: block;overflow-x: auto;white-space: nowrap;&quot;&gt;d.tolist()&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;169&quot; data-backw=&quot;539&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPIlTLvPoy1ibGlcAlYiaJhYeDKjV4K7VB5Q4ic1ChLm2IzV8XpJSU6PU48g/0?wx_fmt=png&quot; data-ratio=&quot;0.3141263940520446&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPIlTLvPoy1ibGlcAlYiaJhYeDKjV4K7VB5Q4ic1ChLm2IzV8XpJSU6PU48g/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;538&quot; style=&quot;width: 556.25px;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;现在时间看清楚了，结合 &lt;/span&gt;3 &lt;span style=&quot;font-family: DengXian;&quot;&gt;维张量里的收盘价和交易量，我们发现 &lt;/span&gt;tick &lt;span style=&quot;font-family: DengXian;&quot;&gt;数据最后一行&lt;/span&gt; (&lt;span style=&quot;font-family: DengXian;&quot;&gt;时间是 &lt;/span&gt;2019&lt;span style=&quot;font-family: DengXian;&quot;&gt; 年 &lt;/span&gt;1 &lt;span style=&quot;font-family: DengXian;&quot;&gt;月 &lt;/span&gt;2 &lt;span style=&quot;font-family: DengXian;&quot;&gt;日 &lt;/span&gt;15&lt;span style=&quot;font-family: DengXian;&quot;&gt; 点&lt;/span&gt;) &lt;span style=&quot;font-family: DengXian;&quot;&gt;的现价 &lt;/span&gt;9.19 &lt;span style=&quot;font-family: DengXian;&quot;&gt;和交易量 &lt;/span&gt;539386 &lt;span style=&quot;font-family: DengXian;&quot;&gt;和下图右的同一天的平安银行栏下的数据完全吻合。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;246&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPIGaqtcr0RJaib9wGLiaibPHWuDicTgfeN3DTJf9dYXe17WibOSx2OdsXh3FA/0?wx_fmt=png&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.4434850863422292&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPIGaqtcr0RJaib9wGLiaibPHWuDicTgfeN3DTJf9dYXe17WibOSx2OdsXh3FA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1274&quot; style=&quot;width: 556.25px;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;此外我们发现时间栏下面的数相差为 &lt;/span&gt;3&lt;span style=&quot;font-family: DengXian;&quot;&gt;，即 &lt;/span&gt;tick &lt;span style=&quot;font-family: DengXian;&quot;&gt;大小为 &lt;/span&gt;3 &lt;span style=&quot;font-family: DengXian;&quot;&gt;秒，即交易所每 &lt;/span&gt;3 &lt;span style=&quot;font-family: DengXian;&quot;&gt;秒照一次快照。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;882500&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;section&gt;&lt;section style=&quot;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px auto;text-align: center;white-space: normal;&quot;&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWuIkiaMRfF2nPrvryogjrO4XfhpWegMwicuiapXBQia8qeINYhefTtwGfrQ/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;width:42px;height:50px;vertical-align:top;line-height:50px;text-align:center;color:#fff;&#39;&gt;&lt;p style=&quot;font-size: 20px;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px;&quot;&gt;&lt;span style=&quot;font-size: 16px;font-family: Optima-Regular, PingFangTC-light;&quot;&gt;4.3&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWEnrBa7fuiccJgxAndh66NF0fKuTFduWXp2icIoXhBpibVePONwaJ3Jvzg/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;height:50px;&#39;&gt;&lt;section style=&quot;display:inline-block;padding-left:10px;line-height:50px;color:#333;margin-top:0;vertical-align:top;&quot;&gt;&lt;p style=&quot;font-size: 14px;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px;&quot;&gt;&lt;span style=&quot;color: rgb(255, 41, 65);font-size: 16px;font-family: Optima-Regular, PingFangTC-light;&quot;&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;Quantopian 之美股&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWzfenALo6kEeDUGXCyFibSibU24BtebdP2ialR438RwuG8TnZUIv9k8Ubg/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;width:17px;height:50px;vertical-align:top;&#39;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;首先引入 Python 基本的 numpy 和 pandas 模块,还有 quantopian.research 特有的 prices 和 symbols 模块。&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot; style=&quot;white-space: normal;&quot;&gt;&lt;pre style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;&quot;&gt;&lt;code class=&quot;hljs-github&quot; style=&quot;margin-right: 0.15em;margin-left: 0.15em;padding: 5.95px;border-radius: 4px;font-size: 0.85em;background: rgb(248, 248, 248);display: block;overflow-x: auto;white-space: nowrap;&quot;&gt;&lt;span class=&quot;hljs-github-keyword&quot; style=&quot;background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration-style: solid;text-decoration-color: rgb(51, 51, 51);font-weight: 700;&quot;&gt;from&lt;/span&gt; quantopian.research &lt;span class=&quot;hljs-github-keyword&quot; style=&quot;background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration-style: solid;text-decoration-color: rgb(51, 51, 51);font-weight: 700;&quot;&gt;import&lt;/span&gt; prices, symbols&lt;br&gt;&lt;span class=&quot;hljs-github-keyword&quot; style=&quot;background: rgba(0, 0, 0, 0);display: inline;width: 40px;text-decoration-style: solid;text-decoration-color: rgb(51, 51, 51);font-weight: 700;&quot;&gt;import&lt;/span&gt; numpy &lt;span class=&quot;hljs-github-keyword&quot; style=&quot;background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration-style: solid;text-decoration-color: rgb(51, 51, 51);font-weight: 700;&quot;&gt;as&lt;/span&gt; np&lt;br&gt;&lt;span class=&quot;hljs-github-keyword&quot; style=&quot;background: rgba(0, 0, 0, 0);display: inline;width: 40px;text-decoration-style: solid;text-decoration-color: rgb(51, 51, 51);font-weight: 700;&quot;&gt;import&lt;/span&gt; pandas &lt;span class=&quot;hljs-github-keyword&quot; style=&quot;background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration-style: solid;text-decoration-color: rgb(51, 51, 51);font-weight: 700;&quot;&gt;as&lt;/span&gt; pd&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;1544155&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot; style=&quot;white-space: normal;&quot;&gt;&lt;section&gt;&lt;section class=&quot;layout&quot;&gt;&lt;section style=&quot;margin-top: 1em;margin-bottom: 1em;box-sizing: border-box;border-bottom: 2px solid rgb(236, 68, 68);clear: both;&quot;&gt;&lt;section style=&quot;padding-top: 3px;padding-right: 10px;padding-left: 10px;display: inline-block;color: rgb(255, 255, 255);box-sizing: border-box;border-top-left-radius: 3px;border-top-right-radius: 3px;height: 28px;background-color: rgb(236, 68, 68);&quot;&gt;0 维张量：一个收盘价&lt;/section&gt;&lt;section style=&quot;margin-left: 2px;box-sizing: border-box;border-top: 28px solid transparent;border-right-color: rgb(206, 206, 206);border-bottom: 0px solid transparent;border-left: 15px solid rgb(206, 206, 206);display: inline-block;vertical-align: top;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot; style=&quot;white-space: normal;&quot;&gt;&lt;pre style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;&quot;&gt;&lt;code class=&quot;hljs-github&quot; style=&quot;margin-right: 0.15em;margin-left: 0.15em;padding: 5.95px;border-radius: 4px;font-size: 0.85em;background: rgb(248, 248, 248);display: block;overflow-x: auto;white-space: nowrap;&quot;&gt;&lt;span class=&quot;hljs-github-comment&quot; style=&quot;color: rgb(153, 153, 136);background: rgba(0, 0, 0, 0);display: inline;width: 224px;text-decoration-style: solid;text-decoration-color: rgb(153, 153, 136);font-style: italic;&quot;&gt;# 苹果 (AAPL) 在2019年1月3日的收盘价&lt;/span&gt;&lt;br&gt;X0 = prices( assets=symbols([&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;AAPL&#39;&lt;/span&gt;]), &lt;br&gt;start=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 78px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;2019-01-03&#39;&lt;/span&gt;, end=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 78px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;2019-01-03&#39;&lt;/span&gt; )&lt;br&gt;&lt;br&gt;&lt;span class=&quot;hljs-github-keyword&quot; style=&quot;background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration-style: solid;text-decoration-color: rgb(51, 51, 51);font-weight: 700;&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 150px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;The shape of tenor is&#39;&lt;/span&gt;, X0.shape&lt;br&gt;&lt;span class=&quot;hljs-github-keyword&quot; style=&quot;background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration-style: solid;text-decoration-color: rgb(51, 51, 51);font-weight: 700;&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 254px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;The shape of tenor (after squeeze) is&#39;&lt;/span&gt;, &lt;br&gt;np.squeeze(X0).shape&lt;br&gt;&lt;br&gt;X0&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;结果得到苹果在 &lt;/span&gt;2019 &lt;span style=&quot;font-family: DengXian;&quot;&gt;年 &lt;/span&gt;1 &lt;span style=&quot;font-family: DengXian;&quot;&gt;月 &lt;/span&gt;3 &lt;span style=&quot;font-family: DengXian;&quot;&gt;日的收盘价，&lt;span style=&quot;line-height: 21.25px;&quot;&gt;记为 &lt;/span&gt;&lt;/span&gt;X0&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;span style=&quot;line-height: 21.25px;&quot;&gt;，它&lt;/span&gt;是一个 &lt;/span&gt;1×1 &lt;span style=&quot;font-family: DengXian;&quot;&gt;的标量，压缩之后的形状是 &lt;/span&gt;()&lt;span style=&quot;font-family: DengXian;&quot;&gt;，是一个 &lt;/span&gt;0 &lt;span style=&quot;font-family: DengXian;&quot;&gt;维张量。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;99&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPIIZg7V0bxVul2WwaKBJ9I8icGAJgS68lRq50ErJbiaGsklaBNQe6RhbFw/0?wx_fmt=png&quot; data-ratio=&quot;0.1781305114638448&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPIIZg7V0bxVul2WwaKBJ9I8icGAJgS68lRq50ErJbiaGsklaBNQe6RhbFw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;567&quot; style=&quot;width: 556.25px;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;1544155&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot; style=&quot;white-space: normal;&quot;&gt;&lt;section&gt;&lt;section class=&quot;layout&quot;&gt;&lt;section style=&quot;margin-top: 1em;margin-bottom: 1em;box-sizing: border-box;border-bottom: 2px solid rgb(236, 68, 68);clear: both;&quot;&gt;&lt;section style=&quot;padding-top: 3px;padding-right: 10px;padding-left: 10px;display: inline-block;color: rgb(255, 255, 255);box-sizing: border-box;border-top-left-radius: 3px;border-top-right-radius: 3px;height: 28px;background-color: rgb(236, 68, 68);&quot;&gt;1 维张量：加入时间维度&lt;/section&gt;&lt;section style=&quot;margin-left: 2px;box-sizing: border-box;border-top: 28px solid transparent;border-right-color: rgb(206, 206, 206);border-bottom: 0px solid transparent;border-left: 15px solid rgb(206, 206, 206);display: inline-block;vertical-align: top;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot; style=&quot;white-space: normal;&quot;&gt;&lt;pre style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;&quot;&gt;&lt;code class=&quot;hljs-github&quot; style=&quot;margin-right: 0.15em;margin-left: 0.15em;padding: 5.95px;border-radius: 4px;font-size: 0.85em;background: rgb(248, 248, 248);display: block;overflow-x: auto;white-space: nowrap;&quot;&gt;&lt;span class=&quot;hljs-github-comment&quot; style=&quot;color: rgb(153, 153, 136);background: rgba(0, 0, 0, 0);display: inline;width: 278px;text-decoration-style: solid;text-decoration-color: rgb(153, 153, 136);font-style: italic;&quot;&gt;# 苹果 (AAPL) 从2019年1月3日起的5天历史收盘价&lt;/span&gt;&lt;br&gt;X1 = prices( assets=symbols([&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;AAPL&#39;&lt;/span&gt;]), &lt;br&gt;start=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 78px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;2018-12-27&#39;&lt;/span&gt;, end=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 78px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;2019-01-03&#39;&lt;/span&gt; )&lt;br&gt;&lt;br&gt;&lt;span class=&quot;hljs-github-keyword&quot; style=&quot;background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration-style: solid;text-decoration-color: rgb(51, 51, 51);font-weight: 700;&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 150px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;The shape of tenor is&#39;&lt;/span&gt;, X1.shape&lt;br&gt;&lt;span class=&quot;hljs-github-keyword&quot; style=&quot;background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration-style: solid;text-decoration-color: rgb(51, 51, 51);font-weight: 700;&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 254px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;The shape of tenor (after squeeze) is&#39;&lt;/span&gt;, np.squeeze(X1).shape&lt;br&gt;&lt;br&gt;X1&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;结果得到苹果从 &lt;/span&gt;2019 &lt;span style=&quot;font-family: DengXian;&quot;&gt;年 &lt;/span&gt;1 &lt;span style=&quot;font-family: DengXian;&quot;&gt;月 &lt;/span&gt;3 &lt;span style=&quot;font-family: DengXian;&quot;&gt;日起&lt;/span&gt; 5&lt;span style=&quot;color: red;&quot;&gt; &lt;/span&gt;&lt;span style=&quot;font-family: DengXian;color: red;&quot;&gt;天的历史收盘价&lt;/span&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;，记为 &lt;/span&gt;X1&lt;span style=&quot;font-family: DengXian;&quot;&gt;，它是一个 &lt;/span&gt;5×1 &lt;span style=&quot;font-family: DengXian;&quot;&gt;的向量，压缩之后的形状是 &lt;/span&gt;(5,)&lt;span style=&quot;font-family: DengXian;&quot;&gt;，是一个 &lt;/span&gt;1 &lt;span style=&quot;font-family: DengXian;&quot;&gt;维张量。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;203&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPIg6hptP8tgfmXmy1WEt0AckODTmlzSql6icYEsSq75pK0CePic3ZBzbiaQ/0?wx_fmt=png&quot; data-ratio=&quot;0.3644524236983842&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPIg6hptP8tgfmXmy1WEt0AckODTmlzSql6icYEsSq75pK0CePic3ZBzbiaQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;557&quot; style=&quot;width: 556.25px;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;1544155&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot; style=&quot;white-space: normal;&quot;&gt;&lt;section&gt;&lt;section class=&quot;layout&quot;&gt;&lt;section style=&quot;margin-top: 1em;margin-bottom: 1em;box-sizing: border-box;border-bottom: 2px solid rgb(236, 68, 68);clear: both;&quot;&gt;&lt;section style=&quot;padding-top: 3px;padding-right: 10px;padding-left: 10px;display: inline-block;color: rgb(255, 255, 255);box-sizing: border-box;border-top-left-radius: 3px;border-top-right-radius: 3px;height: 28px;background-color: rgb(236, 68, 68);&quot;&gt;2 维张量：加入股票维度&lt;/section&gt;&lt;section style=&quot;margin-left: 2px;box-sizing: border-box;border-top: 28px solid transparent;border-right-color: rgb(206, 206, 206);border-bottom: 0px solid transparent;border-left: 15px solid rgb(206, 206, 206);display: inline-block;vertical-align: top;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot; style=&quot;white-space: normal;&quot;&gt;&lt;pre style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;&quot;&gt;&lt;code class=&quot;hljs-github&quot; style=&quot;margin-right: 0.15em;margin-left: 0.15em;padding: 5.95px;border-radius: 4px;font-size: 0.85em;background: rgb(248, 248, 248);display: block;overflow-x: auto;white-space: nowrap;&quot;&gt;&lt;span class=&quot;hljs-github-comment&quot; style=&quot;color: rgb(153, 153, 136);background: rgba(0, 0, 0, 0);display: inline;width: 164px;text-decoration-style: solid;text-decoration-color: rgb(153, 153, 136);font-style: italic;&quot;&gt;# 苹果 (AAPL) 和脸书 (FB) &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;hljs-github-comment&quot; style=&quot;color: rgb(153, 153, 136);background: rgba(0, 0, 0, 0);display: inline;width: 201px;text-decoration-style: solid;text-decoration-color: rgb(153, 153, 136);font-style: italic;&quot;&gt;# 从2019年1月3日起的5天历史收盘价&lt;/span&gt;&lt;br&gt;&lt;br&gt;X2 = prices( assets=symbols([&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;AAPL&#39;&lt;/span&gt;,&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;FB&#39;&lt;/span&gt;]), &lt;br&gt;start=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 78px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;2018-12-27&#39;&lt;/span&gt;, end=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 78px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;2019-01-03&#39;&lt;/span&gt; )&lt;br&gt;&lt;br&gt;&lt;span class=&quot;hljs-github-keyword&quot; style=&quot;background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration-style: solid;text-decoration-color: rgb(51, 51, 51);font-weight: 700;&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 150px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;The shape of tenor is&#39;&lt;/span&gt;, X2.shape&lt;br&gt;&lt;span class=&quot;hljs-github-keyword&quot; style=&quot;background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration-style: solid;text-decoration-color: rgb(51, 51, 51);font-weight: 700;&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 254px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;The shape of tenor (after squeeze) is&#39;&lt;/span&gt;, np.squeeze(X2).shape&lt;br&gt;&lt;br&gt;X2&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;结果得到&lt;span style=&quot;color: red;&quot;&gt;苹果和脸书&lt;/span&gt;从 &lt;/span&gt;2019 &lt;span style=&quot;font-family: DengXian;&quot;&gt;年 &lt;/span&gt;1 &lt;span style=&quot;font-family: DengXian;&quot;&gt;月 &lt;/span&gt;3 &lt;span style=&quot;font-family: DengXian;&quot;&gt;日起 &lt;/span&gt;&lt;span style=&quot;color: black;&quot;&gt;5 &lt;/span&gt;&lt;span style=&quot;font-family: DengXian;color: black;&quot;&gt;天的历史收盘价&lt;/span&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;，记为 &lt;/span&gt;X2&lt;span style=&quot;font-family: DengXian;&quot;&gt;，它是一个 &lt;/span&gt;5×2 &lt;span style=&quot;font-family: DengXian;&quot;&gt;的张量。&lt;/span&gt;X2 &lt;span style=&quot;font-family: DengXian;&quot;&gt;压缩之后的形状还是 &lt;/span&gt;(5, 2)&lt;span style=&quot;font-family: DengXian;&quot;&gt;，是一个 &lt;/span&gt;2 &lt;span style=&quot;font-family: DengXian;&quot;&gt;维张量。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;195&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPI0wtCELjbu1NrdFPYoSfhoVAxPqygDjT3icDoicKZkkwp9EB8WiaSDopyw/0?wx_fmt=png&quot; data-ratio=&quot;0.35075885328836426&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPI0wtCELjbu1NrdFPYoSfhoVAxPqygDjT3icDoicKZkkwp9EB8WiaSDopyw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;593&quot; style=&quot;width: 556.25px;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;1544155&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot; style=&quot;white-space: normal;&quot;&gt;&lt;section&gt;&lt;section class=&quot;layout&quot;&gt;&lt;section style=&quot;margin-top: 1em;margin-bottom: 1em;box-sizing: border-box;border-bottom: 2px solid rgb(236, 68, 68);clear: both;&quot;&gt;&lt;section style=&quot;padding-top: 3px;padding-right: 10px;padding-left: 10px;display: inline-block;color: rgb(255, 255, 255);box-sizing: border-box;border-top-left-radius: 3px;border-top-right-radius: 3px;height: 28px;background-color: rgb(236, 68, 68);&quot;&gt;3 维张量：加入信息维度&lt;/section&gt;&lt;section style=&quot;margin-left: 2px;box-sizing: border-box;border-top: 28px solid transparent;border-right-color: rgb(206, 206, 206);border-bottom: 0px solid transparent;border-left: 15px solid rgb(206, 206, 206);display: inline-block;vertical-align: top;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;在 &lt;/span&gt;Quantopian &lt;span style=&quot;font-family: DengXian;&quot;&gt;框架中，&lt;/span&gt;prices &lt;span style=&quot;font-family: DengXian;&quot;&gt;和 &lt;/span&gt;volume &lt;span style=&quot;font-family: DengXian;&quot;&gt;是分开的物体，因此不能够像聚宽那样用 &lt;/span&gt;get_price &lt;span style=&quot;font-family: DengXian;&quot;&gt;函数将这两个信息一次性获取&lt;/span&gt;(&lt;span style=&quot;font-family: DengXian;&quot;&gt;只需设定 &lt;/span&gt;fields =[&lt;span style=&quot;font-size: 14px;&quot;&gt;&lt;span style=&quot;color: rgb(186, 33, 33);&quot;&gt;&#39;close&#39;&lt;/span&gt;,&lt;span style=&quot;color: rgb(186, 33, 33);&quot;&gt;&#39;volume&#39;&lt;/span&gt;&lt;/span&gt;])&lt;span style=&quot;font-family: DengXian;&quot;&gt;。要在 &lt;/span&gt;Quantopian &lt;span style=&quot;font-family: DengXian;&quot;&gt;达到同样效果，必须使用自带的 &lt;/span&gt;Pipeline&lt;span style=&quot;font-family: DengXian;&quot;&gt;。&lt;/span&gt;Pipeline &lt;span style=&quot;font-family: DengXian;&quot;&gt;中文是管道的意思，在这里指的是贯穿了整个数据系统的一个管道，使得使用者能够集中精力从数据中获取所需要的信息，而不是把精力花费在管理日常数据和管理数据库方面。通俗来说，&lt;/span&gt;Pipeline &lt;span style=&quot;font-family: DengXian;&quot;&gt;就是自动化数据工作的利器。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt; &lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;首先引入下面四个模块，前两个用来创建和运行&lt;/span&gt;Pipeline&lt;span style=&quot;font-family: DengXian;&quot;&gt;，&lt;/span&gt;USEquityPricing &lt;span style=&quot;font-family: DengXian;&quot;&gt;储存了美股的各种信息，&lt;/span&gt;StaticAssets &lt;span style=&quot;font-family: DengXian;&quot;&gt;提供了一组固定资产代码而用于调试 &lt;/span&gt;Pipeline &lt;span style=&quot;font-family: DengXian;&quot;&gt;的功能 &lt;/span&gt;(&lt;span style=&quot;font-family: DengXian;&quot;&gt;后面解释&lt;/span&gt;)&lt;span style=&quot;font-family: DengXian;&quot;&gt;。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot; style=&quot;white-space: normal;&quot;&gt;&lt;pre style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;&quot;&gt;&lt;code class=&quot;hljs-github&quot; style=&quot;margin-right: 0.15em;margin-left: 0.15em;padding: 5.95px;border-radius: 4px;font-size: 0.85em;background: rgb(248, 248, 248);display: block;overflow-x: auto;white-space: nowrap;&quot;&gt;&lt;span class=&quot;hljs-github-keyword&quot; style=&quot;background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration-style: solid;text-decoration-color: rgb(51, 51, 51);font-weight: 700;&quot;&gt;from&lt;/span&gt; quantopian.pipeline &lt;span class=&quot;hljs-github-keyword&quot; style=&quot;background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration-style: solid;text-decoration-color: rgb(51, 51, 51);font-weight: 700;&quot;&gt;import&lt;/span&gt; Pipeline&lt;br&gt;&lt;span class=&quot;hljs-github-keyword&quot; style=&quot;background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration-style: solid;text-decoration-color: rgb(51, 51, 51);font-weight: 700;&quot;&gt;from&lt;/span&gt; quantopian.research &lt;span class=&quot;hljs-github-keyword&quot; style=&quot;background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration-style: solid;text-decoration-color: rgb(51, 51, 51);font-weight: 700;&quot;&gt;import&lt;/span&gt; run_pipeline&lt;br&gt;&lt;span class=&quot;hljs-github-keyword&quot; style=&quot;background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration-style: solid;text-decoration-color: rgb(51, 51, 51);font-weight: 700;&quot;&gt;from&lt;/span&gt; quantopian.pipeline.data &lt;span class=&quot;hljs-github-keyword&quot; style=&quot;background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration-style: solid;text-decoration-color: rgb(51, 51, 51);font-weight: 700;&quot;&gt;import&lt;/span&gt; USEquityPricing&lt;br&gt;&lt;span class=&quot;hljs-github-keyword&quot; style=&quot;background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration-style: solid;text-decoration-color: rgb(51, 51, 51);font-weight: 700;&quot;&gt;from&lt;/span&gt; quantopian.pipeline.filters &lt;span class=&quot;hljs-github-keyword&quot; style=&quot;background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration-style: solid;text-decoration-color: rgb(51, 51, 51);font-weight: 700;&quot;&gt;import&lt;/span&gt; StaticAssets&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;要想用 &lt;/span&gt;Pipeline&lt;span style=&quot;font-family: DengXian;&quot;&gt;，必先建 &lt;/span&gt;Pipeline&lt;span style=&quot;font-family: DengXian;&quot;&gt;。以下代码创建一个数据表 &lt;/span&gt;(dataframe)&lt;span style=&quot;font-family: DengXian;&quot;&gt;，限定关注的信息是收盘价和交易量，限定关注的股票是苹果和脸书。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot; style=&quot;white-space: normal;&quot;&gt;&lt;pre style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;&quot;&gt;&lt;code class=&quot;hljs-github&quot; style=&quot;margin-right: 0.15em;margin-left: 0.15em;padding: 5.95px;border-radius: 4px;font-size: 0.85em;background: rgb(248, 248, 248);display: block;overflow-x: auto;white-space: nowrap;&quot;&gt;&lt;span class=&quot;hljs-github-function&quot; style=&quot;background: rgba(0, 0, 0, 0);display: inline;width: 131px;text-decoration-style: solid;text-decoration-color: rgb(51, 51, 51);&quot;&gt;&lt;span class=&quot;hljs-github-keyword&quot; style=&quot;background: rgba(0, 0, 0, 0);display: inline;width: 20px;text-decoration-style: solid;text-decoration-color: rgb(51, 51, 51);font-weight: 700;&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-github-title&quot; style=&quot;color: rgb(153, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 85px;text-decoration-style: solid;text-decoration-color: rgb(153, 0, 0);font-weight: 700;&quot;&gt;make_pipeline&lt;/span&gt;&lt;span class=&quot;hljs-github-params&quot; style=&quot;background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration-style: solid;text-decoration-color: rgb(51, 51, 51);&quot;&gt;()&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;   &lt;br&gt;   close_price = USEquityPricing.close.latest&lt;br&gt;   volume = USEquityPricing.volume.latest&lt;br&gt;   &lt;br&gt;   &lt;span class=&quot;hljs-github-keyword&quot; style=&quot;background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration-style: solid;text-decoration-color: rgb(51, 51, 51);font-weight: 700;&quot;&gt;return&lt;/span&gt; Pipeline(&lt;br&gt;       columns = {&lt;br&gt;           &lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 46px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;close&#39;&lt;/span&gt;: close_price,&lt;br&gt;           &lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 53px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;volume&#39;&lt;/span&gt;: volume,&lt;br&gt;       },&lt;br&gt;       screen = StaticAssets(symbols([&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;AAPL&#39;&lt;/span&gt;,&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;FB&#39;&lt;/span&gt;])),&lt;br&gt;   )&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;建完 &lt;/span&gt;Pipeline&lt;span style=&quot;font-family: DengXian;&quot;&gt;，就可运行。用 &lt;/span&gt;run_pipeline &lt;span style=&quot;font-family: DengXian;&quot;&gt;函数加上对日期的限定就可以了。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot; style=&quot;white-space: normal;&quot;&gt;&lt;pre style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;&quot;&gt;&lt;code class=&quot;hljs-github&quot; style=&quot;margin-right: 0.15em;margin-left: 0.15em;padding: 5.95px;border-radius: 4px;font-size: 0.85em;background: rgb(248, 248, 248);display: block;overflow-x: auto;white-space: nowrap;&quot;&gt;X3 = run_pipeline(&lt;br&gt;   make_pipeline(),&lt;br&gt;   start_date=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 78px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;2018-12-27&#39;&lt;/span&gt;,&lt;br&gt;   end_date=&lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 79px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;2019-01-03&#39;&lt;/span&gt;,&lt;br&gt;)&lt;br&gt;&lt;br&gt;&lt;span class=&quot;hljs-github-keyword&quot; style=&quot;background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration-style: solid;text-decoration-color: rgb(51, 51, 51);font-weight: 700;&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 150px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;The shape of tenor is&#39;&lt;/span&gt;, X3.shape&lt;br&gt;&lt;span class=&quot;hljs-github-keyword&quot; style=&quot;background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration-style: solid;text-decoration-color: rgb(51, 51, 51);font-weight: 700;&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;hljs-github-string&quot; style=&quot;color: rgb(221, 17, 68);background: rgba(0, 0, 0, 0);display: inline;width: 254px;text-decoration-style: solid;text-decoration-color: rgb(221, 17, 68);&quot;&gt;&#39;The shape of tenor (after squeeze) is&#39;&lt;/span&gt;, np.squeeze(X3).shape&lt;br&gt;&lt;br&gt;X3&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;结果得到苹果和脸书从 &lt;/span&gt;2019 &lt;span style=&quot;font-family: DengXian;&quot;&gt;年 &lt;/span&gt;1 &lt;span style=&quot;font-family: DengXian;&quot;&gt;月 &lt;/span&gt;3 &lt;span style=&quot;font-family: DengXian;&quot;&gt;日起 &lt;/span&gt;&lt;span style=&quot;color: black;&quot;&gt;5 &lt;/span&gt;&lt;span style=&quot;font-family: DengXian;color: black;&quot;&gt;天的历史收盘价和交易量&lt;/span&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;，记为 &lt;/span&gt;X3&lt;span style=&quot;font-family: DengXian;&quot;&gt;，它是一个 &lt;/span&gt;10×2 &lt;span style=&quot;font-family: DengXian;&quot;&gt;的张量。咋一看它不是 &lt;/span&gt;3 &lt;span style=&quot;font-family: DengXian;&quot;&gt;维而是 &lt;/span&gt;2 &lt;span style=&quot;font-family: DengXian;&quot;&gt;维张量，但是从下面数据表的结构可看出它是一个 &lt;/span&gt;MultiIndex &lt;span style=&quot;font-family: DengXian;&quot;&gt;的表。在行上有两层，第一层是时间层，第二层是股票层，而列是信息层。表面上看 &lt;/span&gt;X3 &lt;span style=&quot;font-family: DengXian;&quot;&gt;是个 &lt;/span&gt;2 &lt;span style=&quot;font-family: DengXian;&quot;&gt;维张量，实质上它是个 &lt;/span&gt;3 &lt;span style=&quot;font-family: DengXian;&quot;&gt;维张量。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;275&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPI8ObMlnGU0iavVteqvQptLtxnyKr4QCx5wjAZVlWWCrTYvzlfzuU0ZQw/0?wx_fmt=png&quot; data-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_jpg/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPIMulZw1cq2KgDddbiaicZkhz7W6oNBbPlOAB3FfW9Gfqrp7T8SUIEK7hg/0?wx_fmt=jpeg&quot; data-ratio=&quot;0.4947683109118087&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/e4kxNicDVcCEnLOffKdMdfGkPCVwpIgPIMulZw1cq2KgDddbiaicZkhz7W6oNBbPlOAB3FfW9Gfqrp7T8SUIEK7hg/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;669&quot; style=&quot;width: 556.25px;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;1544155&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot; style=&quot;white-space: normal;&quot;&gt;&lt;section&gt;&lt;section class=&quot;layout&quot;&gt;&lt;section style=&quot;margin-top: 1em;margin-bottom: 1em;box-sizing: border-box;border-bottom: 2px solid rgb(236, 68, 68);clear: both;&quot;&gt;&lt;section style=&quot;padding-top: 3px;padding-right: 10px;padding-left: 10px;display: inline-block;color: rgb(255, 255, 255);box-sizing: border-box;border-top-left-radius: 3px;border-top-right-radius: 3px;height: 28px;background-color: rgb(236, 68, 68);&quot;&gt;4 维张量：加入频率维度&lt;/section&gt;&lt;section style=&quot;margin-left: 2px;box-sizing: border-box;border-top: 28px solid transparent;border-right-color: rgb(206, 206, 206);border-bottom: 0px solid transparent;border-left: 15px solid rgb(206, 206, 206);display: inline-block;vertical-align: top;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;找了半天，好像 &lt;/span&gt;Quantoptian &lt;span style=&quot;font-family: DengXian;&quot;&gt;不支持 &lt;/span&gt;tick &lt;span style=&quot;font-family: DengXian;&quot;&gt;数据的获取。这点要给聚宽点个赞。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;882154&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot; style=&quot;white-space: normal;&quot;&gt;&lt;section&gt;&lt;section style=&quot;padding: 10px;&quot;&gt;&lt;section class=&quot;autonum&quot; style=&quot;float: left;width: 40px;height: 40px;text-align: center;color: rgb(255, 255, 255);background-color: rgb(13, 12, 12);font-size: 24px;line-height: 40px;&quot;&gt;5&lt;/section&gt;&lt;section style=&quot;padding-right: 15px;padding-left: 15px;width: auto;display: inline-block;float: left;height: 40px;font-size: 18px;line-height: 35px;border-bottom: 2px solid rgb(13, 12, 12);border-top: 2px solid rgb(13, 12, 12);&quot;&gt;张量运算&lt;/section&gt;&lt;section style=&#39;background-image: url(&quot;https://mmbiz.qpic.cn/mmbiz_png/fgnkxfGnnkSBJo13oUicPbCbqeTcIyiakNc2UGmnmA1qH7HExsicAyuzE3Foogxo1VmRNr68icYkKibV0wM7nqTIHng/640?wx_fmt=png&quot;);width: 18px;height: 40px;float: left;background-repeat: no-repeat;background-color: rgb(13, 12, 12);background-size: 100% 40px;&#39;&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;width: 556.25px;clear: both;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;882500&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;section&gt;&lt;section style=&quot;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px auto;text-align: center;white-space: normal;&quot;&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWuIkiaMRfF2nPrvryogjrO4XfhpWegMwicuiapXBQia8qeINYhefTtwGfrQ/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;width:42px;height:50px;vertical-align:top;line-height:50px;text-align:center;color:#fff;&#39;&gt;&lt;p style=&quot;font-size: 20px;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px;&quot;&gt;&lt;span style=&quot;font-size: 16px;font-family: Optima-Regular, PingFangTC-light;&quot;&gt;5.1&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWEnrBa7fuiccJgxAndh66NF0fKuTFduWXp2icIoXhBpibVePONwaJ3Jvzg/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;height:50px;&#39;&gt;&lt;section style=&quot;display:inline-block;padding-left:10px;line-height:50px;color:#333;margin-top:0;vertical-align:top;&quot;&gt;&lt;p style=&quot;font-size: 14px;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px;&quot;&gt;&lt;span style=&quot;color: rgb(255, 41, 65);font-size: 16px;font-family: Optima-Regular, PingFangTC-light;&quot;&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;化繁为简&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWzfenALo6kEeDUGXCyFibSibU24BtebdP2ialR438RwuG8TnZUIv9k8Ubg/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;width:17px;height:50px;vertical-align:top;&#39;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;深度学习中的神经网络本质就是张量运算，本节用最简单的神经网络 &lt;/span&gt;(&lt;span style=&quot;font-family: DengXian;&quot;&gt;没有隐藏层&lt;/span&gt;) &lt;span style=&quot;font-family: DengXian;&quot;&gt;来列举所有类型的张量运算。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.6134680134680135&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCG67olIO7NH4LibhJeKIKGUrhw7eokzLzM56vKdXiabIJoPibLIh6ohFr1cZTODQvXiakpq0NDoDY1gxQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1485&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;上图实际上是用神经网络来识别手写数字 &lt;/span&gt;(MNIST &lt;span style=&quot;font-family: DengXian;&quot;&gt;的数据&lt;/span&gt;)&lt;span style=&quot;font-family: DengXian;&quot;&gt;，大概分四个步骤：&lt;/span&gt; &lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;ol class=&quot; list-paddingleft-2&quot; style=&quot;list-style-type: decimal;&quot;&gt;&lt;li&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;提取黑白图像的像素矩阵，重塑成向量 &lt;/span&gt;X&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;用权重矩阵 &lt;/span&gt;W &lt;span style=&quot;font-family: DengXian;&quot;&gt;点乘 &lt;/span&gt;X&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;加上偏置向量 &lt;/span&gt;b&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;将分数向量 &lt;/span&gt;WX + b &lt;span style=&quot;font-family: DengXian;&quot;&gt;用 &lt;/span&gt;softmax &lt;span style=&quot;font-family: DengXian;&quot;&gt;转换成概率向量&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;对应的概率值最大的位置索引便是图像里的数字，上图数字 &lt;/span&gt;9 &lt;span style=&quot;font-family:DengXian;&quot;&gt;对应的概率为 &lt;/span&gt;0.97&lt;span style=&quot;font-family:DengXian;&quot;&gt;，因此推断图片里是 &lt;/span&gt;9&lt;span style=&quot;font-family:DengXian;&quot;&gt;。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;将上述四步，从输入到输出用一个公式表示：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;158&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCHVPPx0L69g3S3djpe1XibftgXULXHLjbfNcmCCsicexf6j3VicfbscdwXSth4NMKJzhSmEHOGXf2WJg/0?wx_fmt=png&quot; data-ratio=&quot;0.2824074074074074&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCHVPPx0L69g3S3djpe1XibftgXULXHLjbfNcmCCsicexf6j3VicfbscdwXSth4NMKJzhSmEHOGXf2WJg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;648&quot; style=&quot;width: 100%;height: auto;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;复杂的公式里面涉及到四类张量运算，从里到外按顺序来看：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;ol class=&quot; list-paddingleft-2&quot; style=&quot;list-style-type: decimal;&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;重塑形状 &lt;/span&gt;(reshape)&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&#39;font-variant-numeric: normal;font-variant-east-asian: normal;font-stretch: normal;font-size: 9px;line-height: normal;font-family: &quot;Times New Roman&quot;&#39;&gt; &lt;/span&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;张量点乘 &lt;/span&gt;(tensor dot)&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;广播机制 &lt;/span&gt;(boardcasting)&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;元素层面 &lt;/span&gt;(element-wise)&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;下面我们来各个击破。&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;921851&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;section&gt;&lt;section class=&quot;layout&quot;&gt;&lt;section style=&quot;margin: 1em 0px;color: rgb(51, 51, 51);box-sizing: border-box;border-bottom: 2px solid rgb(236, 68, 68);clear: both;&quot;&gt;&lt;section style=&quot;display: inline-block;padding:3px 10px 0px;color: rgb(255, 255, 255);box-sizing:border-box;border-top-left-radius: 3px;border-top-right-radius: 3px;height: 28px;background-color: rgb(236, 68, 68);&quot;&gt;&lt;strong&gt;重塑形状&lt;/strong&gt;&lt;/section&gt;&lt;section style=&quot;box-sizing:border-box;border-top-width:28px;border-top-style: solid;border-color: transparent rgb(206,206,206);border-bottom-width: 0px;border-bottom-style: solid;border-left-width: 15px;border-left-style: solid;display: inline-block;margin-left:2px;vertical-align:top;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;重塑张量的形状意味着重新排列各个维度的元素个数以匹配目标形状。重塑形成的张量和初始张量有同样的元素。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;270&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCHVPPx0L69g3S3djpe1XibftDmtVVRicqwn4M8KGYrjKGS8WhPJib6Ox1b6cTPtVvNVn4EJgDAzF0CIw/0?wx_fmt=png&quot; data-ratio=&quot;0.4855813953488372&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCHVPPx0L69g3S3djpe1XibftDmtVVRicqwn4M8KGYrjKGS8WhPJib6Ox1b6cTPtVvNVn4EJgDAzF0CIw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1075&quot; style=&quot;width: 100%;height: auto;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;再看三个简单例子。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;例一&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;：生成一个 &lt;/span&gt;3×2 &lt;span style=&quot;font-family: DengXian;&quot;&gt;的矩阵，该矩阵里有 &lt;/span&gt;6 &lt;span style=&quot;font-family: DengXian;&quot;&gt;个元素。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-sublime&quot;&gt;x = np.array( [[&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;], [&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;], [&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;5&lt;/span&gt;]] )&lt;br&gt;print(x.shape)&lt;br&gt;x&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(255, 255, 255);color: rgb(0, 0, 0);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-vs&quot;&gt;(&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;)&lt;br&gt;&lt;br&gt;array([[&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;],&lt;br&gt;       [&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;],&lt;br&gt;       [&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;5&lt;/span&gt;]])&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;&lt;strong&gt;&lt;strong style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;例二&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;：&lt;/span&gt;&lt;/strong&gt;重塑成 &lt;/span&gt;6×1 &lt;span style=&quot;font-family:DengXian;&quot;&gt;的矩阵，也是 &lt;/span&gt;6 &lt;span style=&quot;font-family:DengXian;&quot;&gt;个元素，因此使用 &lt;/span&gt;reshape &lt;span style=&quot;font-family:DengXian;&quot;&gt;不会报错。需要注意的是在 &lt;/span&gt;python &lt;span style=&quot;font-family:DengXian;&quot;&gt;里是按行来获取元素来排列的 &lt;/span&gt;(Matlab &lt;span style=&quot;font-family:DengXian;&quot;&gt;是按列来获取&lt;/span&gt;)&lt;span style=&quot;font-family:DengXian;&quot;&gt;。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-sublime&quot;&gt;x = x.reshape( &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt; )&lt;br&gt;print(x.shape)&lt;br&gt;x&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(255, 255, 255);color: rgb(0, 0, 0);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-vs&quot;&gt;(&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;)&lt;br&gt;&lt;br&gt;array([[&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;0&lt;/span&gt;],&lt;br&gt;       [&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;],&lt;br&gt;       [&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;],&lt;br&gt;       [&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;],&lt;br&gt;       [&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;4&lt;/span&gt;],&lt;br&gt;       [&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;5&lt;/span&gt;]])&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;&lt;strong style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;例三&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;：&lt;/span&gt;重塑成 &lt;/span&gt;2×3 &lt;span style=&quot;font-family:DengXian;&quot;&gt;的矩阵，也是 &lt;/span&gt;6 &lt;span style=&quot;font-family:DengXian;&quot;&gt;个元素，因此使用 &lt;/span&gt;reshape &lt;span style=&quot;font-family:DengXian;&quot;&gt;不会报错。这里在 &lt;/span&gt;reshape &lt;span style=&quot;font-family:DengXian;&quot;&gt;函数的第二个参数放的是 &lt;/span&gt;&lt;span style=&quot;color: rgb(172, 57, 255);&quot;&gt;-1&lt;/span&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;，意思就是我不知道或者不想费力来设定这一维度的元素个数，&lt;/span&gt;python &lt;span style=&quot;font-family:DengXian;&quot;&gt;来帮我算出，结果也看到了是 &lt;/span&gt;3&lt;span style=&quot;font-family:DengXian;&quot;&gt;。因此 &lt;/span&gt;reshape(2, -&lt;span style=&quot;color: rgb(172, 57, 255);&quot;&gt;1&lt;/span&gt;) &lt;span style=&quot;font-family:DengXian;&quot;&gt;和 &lt;/span&gt;reshape(2, &lt;span style=&quot;color: rgb(172, 57, 255);&quot;&gt;3&lt;/span&gt;) &lt;span style=&quot;font-family:DengXian;&quot;&gt;是等价的，只不过使用起来更方便。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-sublime&quot;&gt;x = x.reshape( &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;-1&lt;/span&gt; )&lt;br&gt;print(x.shape)&lt;br&gt;x&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(255, 255, 255);color: rgb(0, 0, 0);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-vs&quot;&gt;(&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;)&lt;br&gt;&lt;br&gt;array([[&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;],&lt;br&gt;       [&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;5&lt;/span&gt;]])&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;921851&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;section&gt;&lt;section class=&quot;layout&quot;&gt;&lt;section style=&quot;margin: 1em 0px;color: rgb(51, 51, 51);box-sizing:border-box;border-bottom-width: 2px;border-bottom-style: solid;border-bottom-color: rgb(236, 68, 68);clear: both;&quot;&gt;&lt;section style=&quot;display: inline-block;padding:3px 10px 0px;color: rgb(255, 255, 255);box-sizing:border-box;border-top-left-radius: 3px;border-top-right-radius: 3px;height: 28px;background-color: rgb(236, 68, 68);&quot;&gt;&lt;strong&gt;张量点乘&lt;/strong&gt;&lt;/section&gt;&lt;section style=&quot;box-sizing:border-box;border-top-width:28px;border-top-style: solid;border-color: transparent rgb(206,206,206);border-bottom-width: 0px;border-bottom-style: solid;border-left-width: 15px;border-left-style: solid;display: inline-block;margin-left:2px;vertical-align:top;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;在 &lt;/span&gt;python &lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;中&lt;/span&gt;乘法指的是在元素层面做乘法，用符号 “&lt;/span&gt;*&lt;span style=&quot;font-family: DengXian;&quot;&gt;”。&lt;/span&gt;在 &lt;/span&gt;numpy &lt;span style=&quot;font-family: DengXian;&quot;&gt;中，点乘指的不是在元素层面做乘法，用 &lt;/span&gt;np.dot &lt;span style=&quot;font-family: DengXian;&quot;&gt;函数。点乘左右两边最常见的张量就是&lt;/span&gt;&lt;/p&gt;&lt;p&gt; &lt;/p&gt;&lt;ul class=&quot; list-paddingleft-2&quot; style=&quot;list-style-type: disc;&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;向量 &lt;/span&gt;(1D) &lt;span style=&quot;font-family:DengXian;&quot;&gt;和向量 &lt;/span&gt;(1D)&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;矩阵 &lt;/span&gt;(2D) &lt;span style=&quot;font-family:DengXian;&quot;&gt;和向量 &lt;/span&gt;(1D)&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;矩阵 &lt;/span&gt;(2D) &lt;span style=&quot;font-family:DengXian;&quot;&gt;和矩阵 &lt;/span&gt;(2D)&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;分别看看三个简单例子。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;例一&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;：&lt;/span&gt;np.dot(&lt;span style=&quot;font-family:DengXian;&quot;&gt;向量&lt;/span&gt;, &lt;span style=&quot;font-family:DengXian;&quot;&gt;向量&lt;/span&gt;) &lt;span style=&quot;font-family:DengXian;&quot;&gt;实际上做的就是内积，即把两个向量每个元素相乘，最后再加总。&lt;span style=&quot;font-family: DengXian;&quot;&gt;点乘结果 &lt;/span&gt;&lt;/span&gt;10&lt;span style=&quot;font-family:DengXian;&quot;&gt; &lt;span style=&quot;font-family: DengXian;&quot;&gt;是个标量 &lt;/span&gt;(&lt;/span&gt;0D&lt;span style=&quot;font-family:DengXian;&quot;&gt; &lt;span style=&quot;font-family: DengXian;&quot;&gt;张量&lt;/span&gt;)&lt;span style=&quot;font-family: DengXian;&quot;&gt;，形状 &lt;/span&gt;&lt;/span&gt;= ()&lt;span style=&quot;font-family: DengXian;&quot;&gt;。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-sublime&quot;&gt;x = np.array( [&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;] )&lt;br&gt;y = np.array( [&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;] )&lt;br&gt;z = np.dot(x,y)&lt;br&gt;print(z.shape)&lt;br&gt;z&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(255, 255, 255);color: rgb(0, 0, 0);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-vs&quot;&gt;()&lt;br&gt;&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;10&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;例二&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;：&lt;/span&gt;np.dot(&lt;span style=&quot;font-family:DengXian;&quot;&gt;矩阵&lt;/span&gt;, &lt;span style=&quot;font-family:DengXian;&quot;&gt;向量&lt;/span&gt;) &lt;span style=&quot;font-family:DengXian;&quot;&gt;实际上做的就是普通的矩阵乘以向量。点乘结果是个向量 &lt;/span&gt;(1D &lt;span style=&quot;font-family:DengXian;&quot;&gt;张量&lt;/span&gt;)&lt;span style=&quot;font-family:DengXian;&quot;&gt;，形状 &lt;/span&gt;= (2, )&lt;span style=&quot;font-family:DengXian;&quot;&gt;。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-sublime&quot;&gt;x = np.array( [&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;] )&lt;br&gt;y = np.array( [[&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;], [&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;]] )&lt;br&gt;z = np.dot(y,x)&lt;br&gt;print(z.shape)&lt;br&gt;z&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(255, 255, 255);color: rgb(0, 0, 0);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-vs&quot;&gt;(&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;,)&lt;br&gt;array([&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;10&lt;/span&gt;,  &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;6&lt;/span&gt;])&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;例三&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;：&lt;/span&gt;np.dot(&lt;span style=&quot;font-family:DengXian;&quot;&gt;矩阵&lt;/span&gt;, &lt;span style=&quot;font-family:DengXian;&quot;&gt;矩阵&lt;/span&gt;) &lt;span style=&quot;font-family:DengXian;&quot;&gt;实际上做的就是普通的矩阵乘以矩阵。点乘结果是个矩阵 &lt;/span&gt;(2D &lt;span style=&quot;font-family:DengXian;&quot;&gt;张量&lt;/span&gt;)&lt;span style=&quot;font-family:DengXian;&quot;&gt;，形状 &lt;/span&gt;= (2, 3)&lt;span style=&quot;font-family:DengXian;&quot;&gt;。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-sublime&quot;&gt;x = np.array( [[&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;], [&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;], [&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;]] )&lt;br&gt;y = np.array( [[&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;], [&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;]] )&lt;br&gt;z = np.dot(y,x)&lt;br&gt;print(z.shape)&lt;br&gt;z&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(255, 255, 255);color: rgb(0, 0, 0);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-vs&quot;&gt;(&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;)&lt;br&gt;array([[ &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;12&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;18&lt;/span&gt;],&lt;br&gt;       [ &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;,  &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;6&lt;/span&gt;,  &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;9&lt;/span&gt;]])&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;998729&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;section style=&quot;background-color: rgb(250, 255, 250);border-width: 1px;border-style: solid;border-color: rgb(148, 209, 224);box-shadow: rgba(148, 209, 224, 0.5) 5px 5px 0px;padding: 10px;margin: 12px;line-height: 22px;font-size: 14px;color: rgb(113, 113, 113);text-align: justify;&quot;&gt;&lt;p style=&quot;margin:0;padding:0;&quot;&gt;&lt;span style=&quot;font-size: 17px;&quot;&gt;从例二和例三看出，当 x 第二个维度的元素 (x.shape[1]) 和 y 第一个维度的元素 (y.shape[0]) 个数相等时，np.dot(X, Y) 才有意义，点乘得到的结果形状= (X.shape[0], y.shape[1])。&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;上面例子都是低维张量 &lt;/span&gt;(&lt;span style=&quot;font-family: DengXian;&quot;&gt;维度 &lt;/span&gt;≤ 2) &lt;span style=&quot;font-family: DengXian;&quot;&gt;的点乘运算，接下来我们看两个稍微复杂的例子。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;例四&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;：当 &lt;/span&gt;x &lt;span style=&quot;font-family:DengXian;&quot;&gt;是 &lt;/span&gt;3D &lt;span style=&quot;font-family:DengXian;&quot;&gt;张量，&lt;/span&gt;y &lt;span style=&quot;font-family:DengXian;&quot;&gt;是 &lt;/span&gt;1D &lt;span style=&quot;font-family:DengXian;&quot;&gt;张量，&lt;/span&gt;np.dot(x, y) &lt;span style=&quot;font-family:DengXian;&quot;&gt;是将 &lt;/span&gt;x &lt;span style=&quot;font-family:DengXian;&quot;&gt;和 &lt;/span&gt;y &lt;strong&gt;&lt;span style=&quot;font-family:DengXian;color:red;&quot;&gt;最后一维&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;的元素相乘并加总。此例 &lt;/span&gt;x &lt;span style=&quot;font-family:DengXian;&quot;&gt;的形状是 &lt;/span&gt;(2, 3, &lt;span style=&quot;color:red;&quot;&gt;4&lt;/span&gt;)&lt;span style=&quot;font-family:DengXian;&quot;&gt;，&lt;/span&gt;y &lt;span style=&quot;font-family:DengXian;&quot;&gt;的形状是 &lt;/span&gt;(&lt;span style=&quot;color:red;&quot;&gt;4&lt;/span&gt;, )&lt;span style=&quot;font-family:DengXian;&quot;&gt;，因此点乘结果的形状是 &lt;/span&gt;(2, 3)&lt;span style=&quot;font-family:DengXian;&quot;&gt;。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-sublime&quot;&gt;x = np.ones( shape=(&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;4&lt;/span&gt;) )&lt;br&gt;y = np.array( [&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;4&lt;/span&gt;] )&lt;br&gt;z = np.dot(x,y)&lt;br&gt;print(z.shape)&lt;br&gt;z&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(255, 255, 255);color: rgb(0, 0, 0);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-vs&quot;&gt;(&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;)&lt;br&gt;array([[&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 20px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;10.&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 20px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;10.&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 20px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;10.&lt;/span&gt;],&lt;br&gt;       [&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 20px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;10.&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 20px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;10.&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 20px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;10.&lt;/span&gt;]])&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;color: rgb(0, 0, 0);&quot;&gt;&lt;strong&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;例五&lt;/span&gt;&lt;/strong&gt;&lt;/span&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;：当 &lt;/span&gt;x &lt;span style=&quot;font-family:DengXian;&quot;&gt;是 &lt;/span&gt;3D &lt;span style=&quot;font-family:DengXian;&quot;&gt;张量，&lt;/span&gt;y &lt;span style=&quot;font-family:DengXian;&quot;&gt;是 &lt;/span&gt;2D &lt;span style=&quot;font-family:DengXian;&quot;&gt;张量，&lt;/span&gt;np.dot(x, y) &lt;span style=&quot;font-family:DengXian;&quot;&gt;是将 &lt;/span&gt;x &lt;span style=&quot;font-family:DengXian;&quot;&gt;的&lt;strong&gt;&lt;span style=&quot;color:red;&quot;&gt;最后一维&lt;/span&gt;&lt;/strong&gt;和 &lt;/span&gt;y &lt;span style=&quot;font-family:DengXian;&quot;&gt;的&lt;strong&gt;&lt;span style=&quot;color:red;&quot;&gt;倒数第二维&lt;/span&gt;&lt;/strong&gt;的元素相乘并加总。此例 &lt;/span&gt;x &lt;span style=&quot;font-family:DengXian;&quot;&gt;的形状是 &lt;/span&gt;(2, 3, &lt;span style=&quot;color:red;&quot;&gt;4&lt;/span&gt;)&lt;span style=&quot;font-family:DengXian;&quot;&gt;，&lt;/span&gt;y &lt;span style=&quot;font-family:DengXian;&quot;&gt;的形状是 &lt;/span&gt;(&lt;span style=&quot;color:red;&quot;&gt;4&lt;/span&gt;, 2)&lt;span style=&quot;font-family:DengXian;&quot;&gt;，因此点乘结果的形状是 &lt;/span&gt;(2, 3, 2)&lt;span style=&quot;font-family:DengXian;&quot;&gt;。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-sublime&quot;&gt;x = np.random.normal( &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;, size=(&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;4&lt;/span&gt;) )&lt;br&gt;y = np.random.normal( &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;, size=(&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;) )&lt;br&gt;z = np.dot(x,y)&lt;br&gt;print(z.shape)&lt;br&gt;z&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(255, 255, 255);color: rgb(0, 0, 0);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-vs&quot;&gt;(&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;)&lt;br&gt;array([[[ &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 66px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;2.11753451&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 73px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;-0.27546168&lt;/span&gt;],&lt;br&gt;        [&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 73px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;-1.23348676&lt;/span&gt;,  &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 66px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;0.42524653&lt;/span&gt;],&lt;br&gt;        [&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 59px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;-4.349676&lt;/span&gt;  , &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 65px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;-0.3030879&lt;/span&gt; ]],&lt;br&gt;&lt;br&gt;       [[ &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 66px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;0.15537744&lt;/span&gt;,  &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 66px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;0.44865273&lt;/span&gt;],&lt;br&gt;        [&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 73px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;-3.09328194&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 73px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;-0.43473885&lt;/span&gt;],&lt;br&gt;        [ &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 66px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;0.27844225&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 73px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;-0.48024693&lt;/span&gt;]]])&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;例五的规则也适用于 &lt;/span&gt;nD &lt;span style=&quot;font-family:DengXian;&quot;&gt;张量和 &lt;/span&gt;mD &lt;span style=&quot;font-family:DengXian;&quot;&gt;张量 &lt;/span&gt;(&lt;span style=&quot;font-family:DengXian;&quot;&gt;当 &lt;/span&gt;m ≥ 2 &lt;span style=&quot;font-family:DengXian;&quot;&gt;时&lt;/span&gt;) &lt;span style=&quot;line-height: 125%;font-family: DengXian;font-size: 17px;&quot;&gt;的点乘&lt;/span&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;921851&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;section&gt;&lt;section class=&quot;layout&quot;&gt;&lt;section style=&quot;margin: 1em 0px;color: rgb(51, 51, 51);box-sizing:border-box;border-bottom-width: 2px;border-bottom-style: solid;border-bottom-color: rgb(236, 68, 68);clear: both;&quot;&gt;&lt;section style=&quot;display: inline-block;padding:3px 10px 0px;color: rgb(255, 255, 255);box-sizing:border-box;border-top-left-radius: 3px;border-top-right-radius: 3px;height: 28px;background-color: rgb(236, 68, 68);&quot;&gt;&lt;strong&gt;广播机制&lt;/strong&gt;&lt;/section&gt;&lt;section style=&quot;box-sizing:border-box;border-top-width:28px;border-top-style: solid;border-color: transparent rgb(206,206,206);border-bottom-width: 0px;border-bottom-style: solid;border-left-width: 15px;border-left-style: solid;display: inline-block;margin-left:2px;vertical-align:top;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;当对两个形状不同的张量按元素操作时，可能会触发广播机制。具体做法，先适当复制元素使得这两个张量形状相同后再按元素操作，两个步骤：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;ol class=&quot; list-paddingleft-2&quot; style=&quot;list-style-type: decimal;&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;广播轴 &lt;/span&gt;(broadcast axes)&lt;span style=&quot;font-family: DengXian;&quot;&gt;：比对两个张量的维度，将形状小的张量的维度 &lt;/span&gt;(&lt;span style=&quot;font-family: DengXian;&quot;&gt;轴&lt;/span&gt;) &lt;span style=&quot;font-family: DengXian;&quot;&gt;补齐&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;复制元素：顺着补齐的轴，将形状小的张量里的元素复制，使得最终形状和另一个张量吻合&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;150&quot; data-backw=&quot;501&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCHVPPx0L69g3S3djpe1XibftAD9mcuAviarE2WxEAVCTibNnTbDJziabUxEAZjBrWeykXZhxndWL5Asiaw/0?wx_fmt=png&quot; data-ratio=&quot;0.3002309468822171&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCHVPPx0L69g3S3djpe1XibftAD9mcuAviarE2WxEAVCTibNnTbDJziabUxEAZjBrWeykXZhxndWL5Asiaw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;866&quot; style=&quot;width: 100%;height: auto;border-radius: 3px;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;用代码验证一下我们的理解。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-sublime&quot;&gt;x = np.arange(&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;7&lt;/span&gt;).reshape(&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;)&lt;br&gt;y = np.arange(&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;).reshape(&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;)&lt;br&gt;print( (x + y).shape )&lt;br&gt;x + y&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(255, 255, 255);color: rgb(0, 0, 0);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-vs&quot;&gt;(&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;)&lt;br&gt;array([[&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;4&lt;/span&gt;],&lt;br&gt;       [&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;6&lt;/span&gt;],&lt;br&gt;       [&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;6&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;8&lt;/span&gt;]])&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;有一个情况比较特殊，就是 &lt;/span&gt;x &lt;span style=&quot;font-family:DengXian;&quot;&gt;和 &lt;/span&gt;y &lt;span style=&quot;font-family:DengXian;&quot;&gt;都是 &lt;/span&gt;2D &lt;span style=&quot;font-family:DengXian;&quot;&gt;张量 &lt;/span&gt;(&lt;span style=&quot;font-family:DengXian;&quot;&gt;形状一样&lt;/span&gt;)&lt;span style=&quot;font-family:DengXian;&quot;&gt;，但是 &lt;/span&gt;x &lt;span style=&quot;font-family:DengXian;&quot;&gt;和 &lt;/span&gt;y &lt;span style=&quot;font-family:DengXian;&quot;&gt;分别在不同维度的元素个数为 &lt;/span&gt;1&lt;span style=&quot;font-family:DengXian;&quot;&gt;。这样的话广播机制也适用于它们，如下图。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;190&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCHVPPx0L69g3S3djpe1XibftdyfYp9mRgghXOAxfIwmJ2TEib6wH57XEXrHoItnqEVVyfzNJ1nRWXOg/0?wx_fmt=png&quot; data-ratio=&quot;0.34054669703872437&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCHVPPx0L69g3S3djpe1XibftdyfYp9mRgghXOAxfIwmJ2TEib6wH57XEXrHoItnqEVVyfzNJ1nRWXOg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;878&quot; style=&quot;width: 100%;height: auto;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;用代码验证一下我们的理解。&lt;/span&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-sublime&quot;&gt;x = np.arange(&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;4&lt;/span&gt;).reshape(&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;)&lt;br&gt;y = np.arange(&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;).reshape(&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;)&lt;br&gt;print( (x + y).shape )&lt;br&gt;x + y&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(255, 255, 255);color: rgb(0, 0, 0);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-vs&quot;&gt;(&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;)&lt;br&gt;array([[&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;],&lt;br&gt;       [&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;4&lt;/span&gt;],&lt;br&gt;       [&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;4&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;5&lt;/span&gt;]])&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;扩展到高维张量，&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;ul class=&quot; list-paddingleft-2&quot; style=&quot;list-style-type: disc;&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;一个形状是 &lt;/span&gt;(n&lt;sub&gt;0&lt;/sub&gt;, …, n&lt;sub&gt;i, &lt;/sub&gt;n&lt;sub&gt;i+1&lt;/sub&gt;, …, n&lt;sub&gt;m&lt;/sub&gt;)&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;一个形状是 &lt;/span&gt;(n&lt;sub&gt;i+1&lt;/sub&gt;, …, n&lt;sub&gt;m&lt;/sub&gt;)&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;在进行张量运算时，对于轴 &lt;/span&gt;n&lt;sub&gt;0 &lt;/sub&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;到 &lt;/span&gt;n&lt;sub&gt;i&lt;/sub&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;，广播机制将自动发生。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;用下面两个例子来验证一下我们的理解。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-sublime&quot;&gt;x = np.arange(&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;25&lt;/span&gt;).reshape(&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;4&lt;/span&gt;)&lt;br&gt;y = np.arange(&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;5&lt;/span&gt;).reshape(&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;4&lt;/span&gt;)&lt;br&gt;print( (x + y).shape )&lt;br&gt;x + y&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(255, 255, 255);color: rgb(0, 0, 0);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-vs&quot;&gt;(&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;4&lt;/span&gt;)&lt;br&gt;array([[[ &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;,  &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;4&lt;/span&gt;,  &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;6&lt;/span&gt;,  &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;8&lt;/span&gt;],&lt;br&gt;        [ &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;6&lt;/span&gt;,  &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;8&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;12&lt;/span&gt;],&lt;br&gt;        [&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;12&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;14&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;16&lt;/span&gt;]],&lt;br&gt;&lt;br&gt;       [[&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;14&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;16&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;18&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;20&lt;/span&gt;],&lt;br&gt;        [&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;18&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;20&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;22&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;24&lt;/span&gt;],&lt;br&gt;        [&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;22&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;24&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;26&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;28&lt;/span&gt;]]])&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-sublime&quot;&gt;x = np.arange(&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;25&lt;/span&gt;).reshape(&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;4&lt;/span&gt;)&lt;br&gt;y = np.arange(&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;,&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;13&lt;/span&gt;).reshape(&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;,&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;4&lt;/span&gt;)&lt;br&gt;print( (x + y).shape )&lt;br&gt;x + y&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(255, 255, 255);color: rgb(0, 0, 0);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-vs&quot;&gt;(&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;4&lt;/span&gt;)&lt;br&gt;array([[[ &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;,  &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;4&lt;/span&gt;,  &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;6&lt;/span&gt;,  &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;8&lt;/span&gt;],&lt;br&gt;        [&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;12&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;14&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;16&lt;/span&gt;],&lt;br&gt;        [&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;18&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;20&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;22&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;24&lt;/span&gt;]],&lt;br&gt;&lt;br&gt;       [[&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;14&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;16&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;18&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;20&lt;/span&gt;],&lt;br&gt;        [&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;22&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;24&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;26&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;28&lt;/span&gt;],&lt;br&gt;        [&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;30&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;32&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;34&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;36&lt;/span&gt;]]])&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;921851&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;section&gt;&lt;section class=&quot;layout&quot;&gt;&lt;section style=&quot;margin: 1em 0px;color: rgb(51, 51, 51);box-sizing:border-box;border-bottom-width: 2px;border-bottom-style: solid;border-bottom-color: rgb(236, 68, 68);clear: both;&quot;&gt;&lt;section style=&quot;display: inline-block;padding:3px 10px 0px;color: rgb(255, 255, 255);box-sizing:border-box;border-top-left-radius: 3px;border-top-right-radius: 3px;height: 28px;background-color: rgb(236, 68, 68);&quot;&gt;&lt;strong&gt;元素层面&lt;/strong&gt;&lt;/section&gt;&lt;section style=&quot;box-sizing:border-box;border-top-width:28px;border-top-style: solid;border-color: transparent rgb(206,206,206);border-bottom-width: 0px;border-bottom-style: solid;border-left-width: 15px;border-left-style: solid;display: inline-block;margin-left:2px;vertical-align:top;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;在元素层面的操作用两类：&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;ol class=&quot; list-paddingleft-2&quot; style=&quot;list-style-type: decimal;&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;用运算符 “&lt;/span&gt;+,–, *, /&lt;span style=&quot;font-family: DengXian;&quot;&gt;” 来连接两个形状一样的张量 &lt;/span&gt;(&lt;span style=&quot;font-family: DengXian;&quot;&gt;要不然触发广播机制&lt;/span&gt;)&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;用函数如 &lt;/span&gt;exp(), softmax() &lt;span style=&quot;font-family: DengXian;&quot;&gt;来传递一个张量&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;两类在元素层面&lt;/span&gt;&lt;span style=&quot;line-height: 125%;font-family: DengXian;font-size: 17px;&quot;&gt;运算出来的&lt;/span&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;的结果张量的&lt;/span&gt;&lt;span style=&quot;font-family: DengXian;color: rgb(255, 41, 65);&quot;&gt;&lt;strong&gt;形状不变&lt;/strong&gt;&lt;/span&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;举个简单例子，首先生成两个随机变量，形状 &lt;/span&gt;= (2, 3)&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-sublime&quot;&gt;x = np.random.normal( &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;, size=(&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;) )&lt;br&gt;y = np.random.normal( &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;, size=(&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;2&lt;/span&gt;,&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;3&lt;/span&gt;) )&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;按元素加法：&lt;/span&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-sublime&quot;&gt;x + y&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(255, 255, 255);color: rgb(0, 0, 0);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-vs&quot;&gt;array([[ &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 66px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;0.90289729&lt;/span&gt;,  &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 65px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;1.09982878&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 71px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;-2.91277851&lt;/span&gt;],&lt;br&gt;       [ &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 66px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;0.42207416&lt;/span&gt;,  &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 65px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;1.37044143&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 71px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;-0.12210443&lt;/span&gt;]])&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;按元素减法：&lt;/span&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot; style=&quot;white-space: normal;&quot;&gt;&lt;pre style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;&quot;&gt;&lt;code class=&quot;hljs-sublime&quot; style=&quot;margin-right: 0.15em;margin-left: 0.15em;padding: 5.95px;border-radius: 4px;font-size: 0.85em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;overflow-x: auto;white-space: nowrap;&quot;&gt;x - y&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(255, 255, 255);color: rgb(0, 0, 0);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-vs&quot;&gt;array([[&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 73px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;-0.90005841&lt;/span&gt;,  &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 65px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;0.41618533&lt;/span&gt;,  &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 65px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;0.86788043&lt;/span&gt;],&lt;br&gt;       [&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 73px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;-0.18896878&lt;/span&gt;,  &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 65px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;1.22037828&lt;/span&gt;,  &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 65px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;0.00227839&lt;/span&gt;]])&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;按元素乘法：&lt;/span&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot; style=&quot;white-space: normal;&quot;&gt;&lt;pre style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;&quot;&gt;&lt;code class=&quot;hljs-sublime&quot; style=&quot;margin-right: 0.15em;margin-left: 0.15em;padding: 5.95px;border-radius: 4px;font-size: 0.85em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;overflow-x: auto;white-space: nowrap;&quot;&gt;x * y&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(255, 255, 255);color: rgb(0, 0, 0);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-vs&quot;&gt;array([[&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 91px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;1.27959426e-03&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 91px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;2.59103276e-01&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 91px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;1.93276555e+00&lt;/span&gt;],&lt;br&gt;       [&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 91px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;3.56093497e-02&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 91px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;9.71966398e-02&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 91px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;3.72607504e-03&lt;/span&gt;]])&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;按元素除法：&lt;/span&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot; style=&quot;white-space: normal;&quot;&gt;&lt;pre style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;&quot;&gt;&lt;code class=&quot;hljs-sublime&quot; style=&quot;margin-right: 0.15em;margin-left: 0.15em;padding: 5.95px;border-radius: 4px;font-size: 0.85em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;overflow-x: auto;white-space: nowrap;&quot;&gt;x / y&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(255, 255, 255);color: rgb(0, 0, 0);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-vs&quot;&gt;array([[&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 91px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;1.57457067e-03&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 91px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;2.21755087e+00&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 91px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;5.40884040e-01&lt;/span&gt;],&lt;br&gt;       [&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 91px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;3.81487730e-01&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 91px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;1.72648632e+01&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 91px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;9.63364914e-01&lt;/span&gt;]])&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;函数 &lt;/span&gt;exp()&lt;span style=&quot;font-family:DengXian;&quot;&gt;：&lt;/span&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot; style=&quot;white-space: normal;&quot;&gt;&lt;pre style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;&quot;&gt;&lt;code class=&quot;hljs-sublime&quot; style=&quot;margin-right: 0.15em;margin-left: 0.15em;padding: 5.95px;border-radius: 4px;font-size: 0.85em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;overflow-x: auto;white-space: nowrap;&quot;&gt;np.exp(x)&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(255, 255, 255);color: rgb(0, 0, 0);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-vs&quot;&gt;array([[&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 65px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;1.00142045&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 53px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;2.134019&lt;/span&gt;  , &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 66px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;0.35971291&lt;/span&gt;],&lt;br&gt;       [&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 65px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;1.12361671&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 65px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;3.65249266&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 66px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;0.94184645&lt;/span&gt;]])&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;函数 &lt;/span&gt;softmax()&lt;span style=&quot;font-family:DengXian;&quot;&gt;：&lt;/span&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-sublime&quot;&gt;&lt;span class=&quot;hljs-sublime-function&quot; style=&quot;color: rgb(248, 248, 242);background: rgba(0, 0, 0, 0);display: inline;width: 158px;text-decoration: none solid rgb(248, 248, 242);font-weight: 400;font-style: normal;&quot;&gt;&lt;span class=&quot;hljs-sublime-keyword&quot; style=&quot;color: rgb(249, 38, 114);background: rgba(0, 0, 0, 0);display: inline;width: 20px;text-decoration: none solid rgb(249, 38, 114);font-weight: 400;font-style: normal;&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;hljs-sublime-title&quot; style=&quot;color: rgb(166, 226, 46);background: rgba(0, 0, 0, 0);display: inline;width: 46px;text-decoration: none solid rgb(166, 226, 46);font-weight: 400;font-style: normal;&quot;&gt;softmax&lt;/span&gt;&lt;span class=&quot;hljs-sublime-params&quot; style=&quot;color: rgb(248, 248, 242);background: rgba(0, 0, 0, 0);display: inline;width: 78px;text-decoration: none solid rgb(248, 248, 242);font-weight: 400;font-style: normal;&quot;&gt;(x, axis=&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;-1&lt;/span&gt;)&lt;/span&gt;:&lt;/span&gt;&lt;br&gt;    e_x = np.exp(x - np.max(x,axis,keepdims=&lt;span class=&quot;hljs-sublime-keyword&quot; style=&quot;color: rgb(249, 38, 114);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(249, 38, 114);font-weight: 400;font-style: normal;&quot;&gt;True&lt;/span&gt;))&lt;br&gt;    &lt;span class=&quot;hljs-sublime-keyword&quot; style=&quot;color: rgb(249, 38, 114);background: rgba(0, 0, 0, 0);display: inline;width: 39px;text-decoration: none solid rgb(249, 38, 114);font-weight: 400;font-style: normal;&quot;&gt;return&lt;/span&gt; e_x / e_x.sum(axis,keepdims=&lt;span class=&quot;hljs-sublime-keyword&quot; style=&quot;color: rgb(249, 38, 114);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(249, 38, 114);font-weight: 400;font-style: normal;&quot;&gt;True&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;代码对应着下面流程图秒懂。在编写 softmax 时需要注意的是，当 s 太大或太小，分母可能无穷大或者是零，这样会造成上溢 (overflow) 和下溢 (underflow) 问题。一个聪明的办法是找到 s 的最大值，然后分别减去它。这样最后的结果不会受影响，而且排除了上溢和下溢的可能性。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;228&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCHVPPx0L69g3S3djpe1XibftfbzfJmkoD8pQEz0ficx5Y7xSwFEkCFIXuPw6vcVvibs9PXTEsK7WticDw/0?wx_fmt=png&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.40886965927528396&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCHVPPx0L69g3S3djpe1XibftfbzfJmkoD8pQEz0ficx5Y7xSwFEkCFIXuPw6vcVvibs9PXTEsK7WticDw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1849&quot; style=&quot;width: 100%;height: auto;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;x &lt;span style=&quot;font-family:DengXian;&quot;&gt;是个矩阵，由上图可知 &lt;/span&gt;softmax &lt;span style=&quot;font-family:DengXian;&quot;&gt;通常是作用在向量上，这样用 &lt;/span&gt;softmax() &lt;span style=&quot;font-family:DengXian;&quot;&gt;函数时必须设定 &lt;/span&gt;axis&lt;span style=&quot;font-family:DengXian;&quot;&gt;，即在哪个轴 &lt;/span&gt;(&lt;span style=&quot;font-family:DengXian;&quot;&gt;也叫维度&lt;/span&gt;) &lt;span style=&quot;font-family:DengXian;&quot;&gt;上的元素做 &lt;/span&gt;softmax&lt;span style=&quot;font-family:DengXian;&quot;&gt;，比如 &lt;/span&gt;axis =0 &lt;span style=&quot;font-family:DengXian;&quot;&gt;指第一维，&lt;/span&gt;axis = 1 &lt;span style=&quot;font-family:DengXian;&quot;&gt;指第二维，&lt;/span&gt;axis= -1 &lt;span style=&quot;font-family:DengXian;&quot;&gt;指最后一维。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-sublime&quot;&gt;y = softmax( x, axis=&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;0&lt;/span&gt; )&lt;br&gt;print(y)&lt;br&gt;np.sum( y, axis=&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;0&lt;/span&gt; )&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(255, 255, 255);color: rgb(0, 0, 0);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-vs&quot;&gt;array([[&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 65px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;0.47124844&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 65px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;0.36879196&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 66px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;0.27637073&lt;/span&gt;],&lt;br&gt;       [&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 65px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;0.52875156&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 65px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;0.63120804&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 66px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;0.72362927&lt;/span&gt;]])&lt;br&gt;&lt;br&gt;array([&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;1.&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;1.&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;1.&lt;/span&gt;])&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;在行上元素做 &lt;/span&gt;softmax&lt;span style=&quot;font-family:DengXian;&quot;&gt;，显然在行上元素求和都等于  &lt;/span&gt;1&lt;span style=&quot;font-family:DengXian;&quot;&gt;，因为有三列，所有最后结果是三个 &lt;/span&gt;1&lt;span style=&quot;font-family:DengXian;&quot;&gt;。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-sublime&quot;&gt;y = softmax( x, axis=&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt; )&lt;br&gt;print(y)&lt;br&gt;np.sum( y, axis=&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt; )&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(255, 255, 255);color: rgb(0, 0, 0);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-vs&quot;&gt;array([[&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 65px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;0.28651697&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 65px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;0.61056537&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 66px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;0.10291766&lt;/span&gt;],&lt;br&gt;       [&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 65px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;0.19650671&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 65px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;0.63877595&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 66px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;0.16471734&lt;/span&gt;]])&lt;br&gt;&lt;br&gt;array([&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;1.&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;1.&lt;/span&gt;])&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;在列上元素做 &lt;/span&gt;softmax&lt;span style=&quot;font-family:DengXian;&quot;&gt;，显然在列上元素求和都等于 &lt;/span&gt;1&lt;span style=&quot;font-family:DengXian;&quot;&gt;，因为有两行，所有最后结果是两个 &lt;/span&gt;1&lt;span style=&quot;font-family:DengXian;&quot;&gt;。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;882500&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;section&gt;&lt;section style=&quot;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px auto;text-align: center;white-space: normal;&quot;&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWuIkiaMRfF2nPrvryogjrO4XfhpWegMwicuiapXBQia8qeINYhefTtwGfrQ/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;width:42px;height:50px;vertical-align:top;line-height:50px;text-align:center;color:#fff;&#39;&gt;&lt;p style=&quot;font-size: 20px;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px;&quot;&gt;&lt;span style=&quot;font-size: 16px;font-family: Optima-Regular, PingFangTC-light;&quot;&gt;5.2&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWEnrBa7fuiccJgxAndh66NF0fKuTFduWXp2icIoXhBpibVePONwaJ3Jvzg/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;height:50px;&#39;&gt;&lt;section style=&quot;display:inline-block;padding-left:10px;line-height:50px;color:#333;margin-top:0;vertical-align:top;&quot;&gt;&lt;p style=&quot;font-size: 14px;border-width: 0px;border-style: initial;border-color: initial;padding: 0px;margin: 0px;&quot;&gt;&lt;span style=&quot;color: rgb(255, 41, 65);font-size: 16px;font-family: Optima-Regular, PingFangTC-light;&quot;&gt;&lt;strong mpa-from-tpl=&quot;t&quot;&gt;由简推繁&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&#39;background-image:url(&quot;https://mmbiz.qpic.cn/mmbiz_png/ianq03UUWGmIDLYyVZsymkTnBibBPxwxoWzfenALo6kEeDUGXCyFibSibU24BtebdP2ialR438RwuG8TnZUIv9k8Ubg/640?wx_fmt=png&quot;);display:inline-block;margin:0 auto;text-align:left;background-size:auto 50px;background-repeat:no-repeat;width:17px;height:50px;vertical-align:top;&#39;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;上节已经弄懂四种张量运算的类型了，本节再回到用神经网络来识别数字的例子。先不用管权重 &lt;/span&gt;W &lt;span style=&quot;font-family: DengXian;&quot;&gt;和偏置 &lt;/span&gt;b &lt;span style=&quot;font-family: DengXian;&quot;&gt;如何优化出来的，假设已经有了最优 &lt;/span&gt;W &lt;span style=&quot;font-family: DengXian;&quot;&gt;和 &lt;/span&gt;b&lt;span style=&quot;font-family: DengXian;&quot;&gt;，我们主要是想验证一下在实际问题中，张量运算是如何进行的。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;我们用 &lt;/span&gt;TensorFlow &lt;span style=&quot;font-family: DengXian;&quot;&gt;和 &lt;/span&gt;Keras &lt;span style=&quot;font-family: DengXian;&quot;&gt;来展示，数据集是 &lt;/span&gt;MNIST&lt;span style=&quot;font-family: DengXian;&quot;&gt;。首先导入&lt;/span&gt;numpy, tensorflow, keras &lt;span style=&quot;font-family: DengXian;&quot;&gt;等模块。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-sublime&quot;&gt;&lt;span class=&quot;hljs-sublime-keyword&quot; style=&quot;color: rgb(249, 38, 114);background: rgba(0, 0, 0, 0);display: inline;width: 40px;text-decoration: none solid rgb(249, 38, 114);font-weight: 400;font-style: normal;&quot;&gt;import&lt;/span&gt; numpy &lt;span class=&quot;hljs-sublime-keyword&quot; style=&quot;color: rgb(249, 38, 114);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(249, 38, 114);font-weight: 400;font-style: normal;&quot;&gt;as&lt;/span&gt; np&lt;br&gt;&lt;span class=&quot;hljs-sublime-keyword&quot; style=&quot;color: rgb(249, 38, 114);background: rgba(0, 0, 0, 0);display: inline;width: 40px;text-decoration: none solid rgb(249, 38, 114);font-weight: 400;font-style: normal;&quot;&gt;import&lt;/span&gt; tensorflow &lt;span class=&quot;hljs-sublime-keyword&quot; style=&quot;color: rgb(249, 38, 114);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(249, 38, 114);font-weight: 400;font-style: normal;&quot;&gt;as&lt;/span&gt; tf&lt;br&gt;&lt;span class=&quot;hljs-sublime-keyword&quot; style=&quot;color: rgb(249, 38, 114);background: rgba(0, 0, 0, 0);display: inline;width: 40px;text-decoration: none solid rgb(249, 38, 114);font-weight: 400;font-style: normal;&quot;&gt;import&lt;/span&gt; tensorflow.keras &lt;span class=&quot;hljs-sublime-keyword&quot; style=&quot;color: rgb(249, 38, 114);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(249, 38, 114);font-weight: 400;font-style: normal;&quot;&gt;as&lt;/span&gt; keras&lt;br&gt;&lt;span class=&quot;hljs-sublime-keyword&quot; style=&quot;color: rgb(249, 38, 114);background: rgba(0, 0, 0, 0);display: inline;width: 26px;text-decoration: none solid rgb(249, 38, 114);font-weight: 400;font-style: normal;&quot;&gt;from&lt;/span&gt; tensorflow.keras.datasets &lt;span class=&quot;hljs-sublime-keyword&quot; style=&quot;color: rgb(249, 38, 114);background: rgba(0, 0, 0, 0);display: inline;width: 40px;text-decoration: none solid rgb(249, 38, 114);font-weight: 400;font-style: normal;&quot;&gt;import&lt;/span&gt; mnist&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;定义 &lt;/span&gt;MINST &lt;span style=&quot;font-family:DengXian;&quot;&gt;里面黑白数字图片的宽度和高度都为 &lt;/span&gt;28&lt;span style=&quot;font-family:DengXian;&quot;&gt;，通道为 &lt;/span&gt;1 (&lt;span style=&quot;font-family:DengXian;&quot;&gt;不是彩色&lt;/span&gt;)&lt;span style=&quot;font-family:DengXian;&quot;&gt;。定义最终输出的个数为 &lt;/span&gt;10&lt;span style=&quot;font-family:DengXian;&quot;&gt;，因为只有 &lt;/span&gt;10 &lt;span style=&quot;font-family:DengXian;&quot;&gt;个数字。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-sublime&quot;&gt;&lt;span class=&quot;hljs-sublime-comment&quot; style=&quot;color: rgb(117, 113, 94);background: rgba(0, 0, 0, 0);display: inline;width: 164px;text-decoration: none solid rgb(117, 113, 94);font-weight: 400;font-style: normal;&quot;&gt;# input image dimensions &lt;/span&gt;&lt;br&gt;n_W, n_H = &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;28&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;hljs-sublime-comment&quot; style=&quot;color: rgb(117, 113, 94);background: rgba(0, 0, 0, 0);display: inline;width: 118px;text-decoration: none solid rgb(117, 113, 94);font-weight: 400;font-style: normal;&quot;&gt;# class dimensions&lt;/span&gt;&lt;br&gt;n_y = &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;10&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;为了模仿真实的机器学习流程，将数据分成训练集和测试集。但本节重点只看张量运算，因此我们只关注训练集，发现它的形状是 &lt;/span&gt;(60000, 28, 28)&lt;span style=&quot;font-family:DengXian;&quot;&gt;，其中 &lt;/span&gt;60000 &lt;span style=&quot;font-family:DengXian;&quot;&gt;代表图片个数。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-sublime&quot;&gt;(x_train, y_train), (x_test, y_test) &lt;br&gt;= mnist.load_data()&lt;br&gt;&lt;br&gt;x_train.shape&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(255, 255, 255);color: rgb(0, 0, 0);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-vs&quot;&gt;(&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 34px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;60000&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;28&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;28&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;回顾本章开始列出的公式，来看看如何从“&lt;/span&gt;60000 &lt;span style=&quot;font-family:DengXian;&quot;&gt;张图片输入 &lt;/span&gt;X_train&lt;span style=&quot;font-family:DengXian;&quot;&gt;”经过一系列的张量运算得到“&lt;/span&gt;60000 &lt;span style=&quot;font-family:DengXian;&quot;&gt;个概率输出向量”，&lt;/span&gt;&lt;span style=&quot;line-height: 125%;font-family: DengXian;font-size: 17px;&quot;&gt;顺带也看看每次运算之后向量的形状如何变化。&lt;/span&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;起点从 &lt;/span&gt;&lt;span style=&quot;color:red;&quot;&gt;X_train &lt;/span&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;开始！&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;91&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCHVPPx0L69g3S3djpe1Xibftqbj7asfLuA0un6dyImU23qs35fFIovho0ukfV8mnmQMmky4k1Cx6UA/0?wx_fmt=png&quot; data-ratio=&quot;0.1634304207119741&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCHVPPx0L69g3S3djpe1Xibftqbj7asfLuA0un6dyImU23qs35fFIovho0ukfV8mnmQMmky4k1Cx6UA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;618&quot; style=&quot;width: 100%;height: auto;&quot;&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;921851&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot; style=&quot;white-space: normal;&quot;&gt;&lt;section&gt;&lt;section class=&quot;layout&quot;&gt;&lt;section style=&quot;margin-top: 1em;margin-bottom: 1em;box-sizing: border-box;border-bottom: 2px solid rgb(236, 68, 68);clear: both;&quot;&gt;&lt;section style=&quot;padding-top: 3px;padding-right: 10px;padding-left: 10px;display: inline-block;color: rgb(255, 255, 255);box-sizing: border-box;border-top-left-radius: 3px;border-top-right-radius: 3px;height: 28px;background-color: rgb(236, 68, 68);&quot;&gt;&lt;strong&gt;重塑形状&lt;/strong&gt;&lt;/section&gt;&lt;section style=&quot;margin-left: 2px;box-sizing: border-box;border-top: 28px solid transparent;border-right-color: rgb(206, 206, 206);border-bottom: 0px solid transparent;border-left: 15px solid rgb(206, 206, 206);display: inline-block;vertical-align: top;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-sublime&quot;&gt;X = x_train.reshape( x_train.shape[&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;0&lt;/span&gt;], &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;-1&lt;/span&gt; ).T&lt;br&gt;X.shape&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(255, 255, 255);color: rgb(0, 0, 0);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-vs&quot;&gt;(&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 20px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;784&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;60000&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;抛开样本数的维度，我们目标是把 &lt;/span&gt;2 &lt;span style=&quot;font-family:DengXian;&quot;&gt;维的“宽度和高度”重塑成 &lt;/span&gt;1 &lt;span style=&quot;font-family:DengXian;&quot;&gt;维。注意 &lt;/span&gt;reshape &lt;span style=&quot;font-family:DengXian;&quot;&gt;函数第二个参数用到了 &lt;/span&gt;&lt;span style=&quot;color: rgb(172, 57, 255);&quot;&gt;-1&lt;/span&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;，这是我们偷懒不想计算 &lt;/span&gt;28×28&lt;span style=&quot;font-family:DengXian;&quot;&gt;。本来重塑后的形状是 &lt;/span&gt;(60000, 784)&lt;span style=&quot;font-family:DengXian;&quot;&gt;，转置之后 &lt;/span&gt;X &lt;span style=&quot;font-family:DengXian;&quot;&gt;形状是 &lt;/span&gt;(784, 60000)&lt;span style=&quot;font-family:DengXian;&quot;&gt;。转置的原因是有时我们会把点乘写成矩阵相乘的形式，而不想看到 &lt;/span&gt;XW&lt;sup&gt;T &lt;/sup&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;这样的形式，而想看到 &lt;/span&gt;WX &lt;span style=&quot;font-family:DengXian;&quot;&gt;这样的形式 &lt;/span&gt;(&lt;span style=&quot;font-family:DengXian;&quot;&gt;只是一种追求美感的惯例&lt;/span&gt;)&lt;span style=&quot;font-family:DengXian;&quot;&gt;。&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;这时候上述公式进展到&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;80&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCHVPPx0L69g3S3djpe1Xibftc42QhRSibAropuJClrHaI8IEFE4UwiaZk8cXB38jOye3zx0zFLchRtsQ/0?wx_fmt=png&quot; data-ratio=&quot;0.14397496087636932&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCHVPPx0L69g3S3djpe1Xibftc42QhRSibAropuJClrHaI8IEFE4UwiaZk8cXB38jOye3zx0zFLchRtsQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;639&quot; style=&quot;width: 100%;height: auto;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: left;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;921851&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot; style=&quot;white-space: normal;&quot;&gt;&lt;section&gt;&lt;section class=&quot;layout&quot;&gt;&lt;section style=&quot;margin-top: 1em;margin-bottom: 1em;box-sizing: border-box;border-bottom: 2px solid rgb(236, 68, 68);clear: both;&quot;&gt;&lt;section style=&quot;padding-top: 3px;padding-right: 10px;padding-left: 10px;display: inline-block;color: rgb(255, 255, 255);box-sizing: border-box;border-top-left-radius: 3px;border-top-right-radius: 3px;height: 28px;background-color: rgb(236, 68, 68);&quot;&gt;&lt;strong&gt;张量点乘&lt;/strong&gt;&lt;/section&gt;&lt;section style=&quot;margin-left: 2px;box-sizing: border-box;border-top: 28px solid transparent;border-right-color: rgb(206, 206, 206);border-bottom: 0px solid transparent;border-left: 15px solid rgb(206, 206, 206);display: inline-block;vertical-align: top;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;初始化权重矩阵 &lt;/span&gt;W &lt;span style=&quot;font-family: DengXian;&quot;&gt;和偏置向量 &lt;/span&gt;b&lt;span style=&quot;font-family: DengXian;&quot;&gt;。根据 &lt;/span&gt;X &lt;span style=&quot;font-family: DengXian;&quot;&gt;的形状为 &lt;/span&gt;(784, 60000)&lt;span style=&quot;font-family: DengXian;&quot;&gt;，可先推出 &lt;/span&gt;W &lt;span style=&quot;font-family: DengXian;&quot;&gt;的形状应该为 &lt;/span&gt;(?,784)&lt;span style=&quot;font-family: DengXian;&quot;&gt;；又根据输出 &lt;/span&gt;Y &lt;span style=&quot;font-family: DengXian;&quot;&gt;包含 &lt;/span&gt;10 &lt;span style=&quot;font-family: DengXian;&quot;&gt;个数字的概率值，因此 &lt;/span&gt;b &lt;span style=&quot;font-family: DengXian;&quot;&gt;的形状为 &lt;/span&gt;(10, 1)&lt;span style=&quot;font-family: DengXian;&quot;&gt;，则完全推出 &lt;/span&gt;W &lt;span style=&quot;font-family: DengXian;&quot;&gt;的形状 &lt;/span&gt;(10, 784)&lt;span style=&quot;font-family: DengXian;&quot;&gt;。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-sublime&quot;&gt;W = np.random.normal( &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;, size=(n_y, X.shape[&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;0&lt;/span&gt;]) )&lt;br&gt;b = np.random.normal( &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;0&lt;/span&gt;, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;, size=(n_y, &lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;) )&lt;br&gt;print( W.shape )&lt;br&gt;print( b.shape )&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(255, 255, 255);color: rgb(0, 0, 0);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-vs&quot;&gt;(&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 20px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;784&lt;/span&gt;)&lt;br&gt;(&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 8px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;1&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;利用 &lt;/span&gt;np.dot &lt;span style=&quot;font-family: DengXian;&quot;&gt;计算 &lt;/span&gt;W &lt;span style=&quot;font-family: DengXian;&quot;&gt;和 &lt;/span&gt;X 点乘&lt;span style=&quot;font-family: DengXian;&quot;&gt;得到 &lt;/span&gt;WX&lt;span style=&quot;font-family:DengXian;&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;pre style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;&quot;&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;&quot;&gt;&lt;code class=&quot;hljs-sublime&quot; style=&quot;margin-right: 0.15em;margin-left: 0.15em;padding: 5.95px;border-radius: 4px;font-size: 0.85em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;overflow-x: auto;white-space: nowrap;&quot;&gt;WX = np.dot(W,X)&lt;br&gt;WX.shape&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin-top: 0px;margin-bottom: 0px;padding: 0px;background-image: none;background-color: initial;&quot;&gt;&lt;code class=&quot;hljs-vs&quot; style=&quot;margin-right: 0.15em;margin-left: 0.15em;padding: 5.95px;border-radius: 4px;font-size: 0.85em;background: rgb(255, 255, 255);color: rgb(0, 0, 0);display: block;overflow-x: auto;white-space: nowrap;&quot;&gt;(&lt;span class=&quot;hljs-vs-number&quot; style=&quot;background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration-style: solid;text-decoration-color: rgb(0, 0, 0);&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration-style: solid;text-decoration-color: rgb(0, 0, 0);&quot;&gt;60000&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;code class=&quot;hljs-vs&quot; style=&quot;margin-right: 0.15em;margin-left: 0.15em;padding: 5.95px;border-radius: 4px;font-size: 0.85em;background: rgb(255, 255, 255);color: rgb(0, 0, 0);display: block;overflow-x: auto;white-space: nowrap;&quot;&gt;&lt;span style=&quot;font-family: DengXian;background-color: initial;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;&lt;br&gt;这时候上述公式进展到&lt;br&gt;&lt;br&gt;&lt;/span&gt;&lt;/code&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;81&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCHVPPx0L69g3S3djpe1XibftICwPu0mJv10fbwNoW1kuic8emLsBeblaNX0hAM9ia9QgibVLU5gIUqzibg/0?wx_fmt=png&quot; data-ratio=&quot;0.1456752655538695&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCHVPPx0L69g3S3djpe1XibftICwPu0mJv10fbwNoW1kuic8emLsBeblaNX0hAM9ia9QgibVLU5gIUqzibg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;659&quot; style=&quot;width: 556.25px;&quot;&gt;&lt;/p&gt;&lt;/pre&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;921851&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot; style=&quot;white-space: normal;&quot;&gt;&lt;section&gt;&lt;section class=&quot;layout&quot;&gt;&lt;section style=&quot;margin-top: 1em;margin-bottom: 1em;box-sizing: border-box;border-bottom: 2px solid rgb(236, 68, 68);clear: both;&quot;&gt;&lt;section style=&quot;padding-top: 3px;padding-right: 10px;padding-left: 10px;display: inline-block;color: rgb(255, 255, 255);box-sizing: border-box;border-top-left-radius: 3px;border-top-right-radius: 3px;height: 28px;background-color: rgb(236, 68, 68);&quot;&gt;&lt;strong&gt;广播机制&lt;/strong&gt;&lt;/section&gt;&lt;section style=&quot;margin-left: 2px;box-sizing: border-box;border-top: 28px solid transparent;border-right-color: rgb(206, 206, 206);border-bottom: 0px solid transparent;border-left: 15px solid rgb(206, 206, 206);display: inline-block;vertical-align: top;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-sublime&quot;&gt;Z = WX + b&lt;br&gt;Z.shape&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(255, 255, 255);color: rgb(0, 0, 0);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-vs&quot;&gt;(&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;60000&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-size:16px;line-height:125%;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-size: 17px;&quot;&gt;&lt;span style=&quot;line-height: 125%;&quot;&gt;WX &lt;/span&gt;&lt;span style=&quot;line-height: 125%;font-family: DengXian;&quot;&gt;的形状是 &lt;/span&gt;&lt;span style=&quot;line-height: 125%;&quot;&gt;(10, 60000)&lt;/span&gt;&lt;span style=&quot;line-height: 125%;font-family: DengXian;&quot;&gt;，&lt;/span&gt;&lt;span style=&quot;line-height: 125%;&quot;&gt;b &lt;/span&gt;&lt;span style=&quot;line-height: 125%;font-family: DengXian;&quot;&gt;的形状是 &lt;/span&gt;&lt;span style=&quot;line-height: 125%;&quot;&gt;(10, 1)&lt;/span&gt;&lt;span style=&quot;line-height: 125%;font-family: DengXian;&quot;&gt;，广播机制完全适用于两者的相加。&lt;/span&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;这时候上述公式进展到&lt;/span&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;span style=&quot;font-size: 17px;font-family: DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;88&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCHVPPx0L69g3S3djpe1Xibft6ia5ibtQFG4ajfkU1X0UAOFTGkn1wQ3cqqWMYuSUib4lpyg4QqoSYw7fg/0?wx_fmt=png&quot; data-ratio=&quot;0.15780141843971632&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCHVPPx0L69g3S3djpe1Xibft6ia5ibtQFG4ajfkU1X0UAOFTGkn1wQ3cqqWMYuSUib4lpyg4QqoSYw7fg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;564&quot; style=&quot;width: 100%;height: auto;&quot;&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;921851&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot; style=&quot;white-space: normal;&quot;&gt;&lt;section&gt;&lt;section class=&quot;layout&quot;&gt;&lt;section style=&quot;margin-top: 1em;margin-bottom: 1em;box-sizing: border-box;border-bottom: 2px solid rgb(236, 68, 68);clear: both;&quot;&gt;&lt;section style=&quot;padding-top: 3px;padding-right: 10px;padding-left: 10px;display: inline-block;color: rgb(255, 255, 255);box-sizing: border-box;border-top-left-radius: 3px;border-top-right-radius: 3px;height: 28px;background-color: rgb(236, 68, 68);&quot;&gt;&lt;strong&gt;元素层面&lt;/strong&gt;&lt;/section&gt;&lt;section style=&quot;margin-left: 2px;box-sizing: border-box;border-top: 28px solid transparent;border-right-color: rgb(206, 206, 206);border-bottom: 0px solid transparent;border-left: 15px solid rgb(206, 206, 206);display: inline-block;vertical-align: top;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;最后用 &lt;/span&gt;tensorflow &lt;span style=&quot;font-family:DengXian;&quot;&gt;里面的 &lt;/span&gt;tf.nn.softmax &lt;span style=&quot;font-family:DengXian;&quot;&gt;来把 &lt;/span&gt;Z &lt;span style=&quot;font-family:DengXian;&quot;&gt;转成 &lt;/span&gt;Y&lt;span style=&quot;font-family:DengXian;&quot;&gt;。&lt;/span&gt;Z &lt;span style=&quot;font-family:DengXian;&quot;&gt;的形状是 &lt;/span&gt;(10,60000)&lt;span style=&quot;font-family:DengXian;&quot;&gt;，显然 &lt;/span&gt;softmax &lt;span style=&quot;font-family:DengXian;&quot;&gt;应该作用在每行上 &lt;/span&gt;(axis= 0)&lt;span style=&quot;font-family:DengXian;&quot;&gt;，因此对于每一张图片 &lt;/span&gt;(&lt;span style=&quot;font-family:DengXian;&quot;&gt;一共 &lt;/span&gt;60000 &lt;span style=&quot;font-family:DengXian;&quot;&gt;张&lt;/span&gt;)&lt;span style=&quot;font-family:DengXian;&quot;&gt;，输出应该是数字 &lt;/span&gt;1 &lt;span style=&quot;font-family:DengXian;&quot;&gt;到 &lt;/span&gt;10 &lt;span style=&quot;font-family:DengXian;&quot;&gt;对应的概率。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-sublime&quot;&gt;tensor_Y = tf.nn.softmax( Z, axis=&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;0&lt;/span&gt; )&lt;br&gt;Y = keras.backend.eval(tensor_Y)&lt;br&gt;Y.shape&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(255, 255, 255);color: rgb(0, 0, 0);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-vs&quot;&gt;(&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;10&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 33px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;60000&lt;/span&gt;)&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;tf.nn.softmax &lt;span style=&quot;font-family:DengXian;&quot;&gt;输出来是 &lt;/span&gt;tensorflow &lt;span style=&quot;font-family:DengXian;&quot;&gt;里面的 &lt;/span&gt;Tensor &lt;span style=&quot;font-family:DengXian;&quot;&gt;变量，需要用 &lt;/span&gt;eval &lt;span style=&quot;font-family:DengXian;&quot;&gt;方法把它转成 &lt;/span&gt;numpy &lt;span style=&quot;font-family:DengXian;&quot;&gt;的形式。最后发现 &lt;/span&gt;Y &lt;span style=&quot;font-family:DengXian;&quot;&gt;和 &lt;/span&gt;Z &lt;span style=&quot;font-family:DengXian;&quot;&gt;的形状都是 &lt;/span&gt;(10, 60000)&lt;span style=&quot;font-family:DengXian;&quot;&gt;。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;最后来验证一下，是否 &lt;/span&gt;softmax &lt;span style=&quot;font-family:DengXian;&quot;&gt;使用在行上了。如果是的，沿着每行加总应该等于 &lt;/span&gt;1 (&lt;span style=&quot;font-family:DengXian;&quot;&gt;概率之和要等于 &lt;/span&gt;1)&lt;span style=&quot;font-family:DengXian;&quot;&gt;。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(35, 36, 31);color: rgb(248, 248, 242);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-sublime&quot;&gt;np.sum( Y, axis=&lt;span class=&quot;hljs-sublime-number&quot; style=&quot;color: rgb(174, 129, 255);background: rgba(0, 0, 0, 0);display: inline;width: 6px;text-decoration: none solid rgb(174, 129, 255);font-weight: 400;font-style: normal;&quot;&gt;0&lt;/span&gt; )&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;section data-mpa-preserve-tpl-color=&quot;t&quot; data-mpa-template=&quot;t&quot; class=&quot;mpa-template&quot; mpa-preserve=&quot;t&quot;&gt;&lt;pre style=&quot;margin:0;padding:0;border-radius:none;background:none;&quot;&gt;&lt;code style=&quot;border-radius: 4px;font-size: 0.85em;margin: 0px 0.15em;background: rgb(255, 255, 255);color: rgb(0, 0, 0);display: block;padding: 5.95px;overflow-x: auto;white-space: nowrap;&quot; class=&quot;hljs-vs&quot;&gt;array([&lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;1.&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;1.&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;1.&lt;/span&gt;, ..., &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;1.&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 13px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;1.&lt;/span&gt;, &lt;span class=&quot;hljs-vs-number&quot; style=&quot;color: rgb(0, 0, 0);background: rgba(0, 0, 0, 0);display: inline;width: 14px;text-decoration: none solid rgb(0, 0, 0);font-weight: 400;font-style: normal;&quot;&gt;1.&lt;/span&gt;])&lt;/code&gt;&lt;/pre&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;这时候上述公式进展到&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;84&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCHVPPx0L69g3S3djpe1XibftiaW4IribLyf2P7n1uOIM75wURfoiac3kHBT613QYh6ul7iblKCWbJ6eVRA/0?wx_fmt=png&quot; data-ratio=&quot;0.14991482112436116&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCHVPPx0L69g3S3djpe1XibftiaW4IribLyf2P7n1uOIM75wURfoiac3kHBT613QYh6ul7iblKCWbJ6eVRA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;587&quot; style=&quot;width: 100%;height: auto;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;882157&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot; style=&quot;white-space: normal;&quot;&gt;&lt;section&gt;&lt;section style=&quot;padding: 10px;&quot;&gt;&lt;section class=&quot;autonum&quot; style=&quot;float: left;width: 40px;height: 40px;text-align: center;color: rgb(255, 255, 255);background-color: rgb(13, 12, 12);font-size: 24px;line-height: 40px;&quot;&gt;6&lt;/section&gt;&lt;section style=&quot;padding-right: 15px;padding-left: 15px;width: auto;display: inline-block;float: left;height: 40px;font-size: 18px;line-height: 35px;border-bottom: 2px solid rgb(13, 12, 12);border-top: 2px solid rgb(13, 12, 12);&quot;&gt;总结&lt;/section&gt;&lt;section style=&#39;background-image: url(&quot;https://mmbiz.qpic.cn/mmbiz_png/fgnkxfGnnkSBJo13oUicPbCbqeTcIyiakNc2UGmnmA1qH7HExsicAyuzE3Foogxo1VmRNr68icYkKibV0wM7nqTIHng/640?wx_fmt=png&quot;);width: 18px;height: 40px;float: left;background-repeat: no-repeat;background-color: rgb(13, 12, 12);background-size: 100% 40px;&#39;&gt;&lt;/section&gt;&lt;/section&gt;&lt;section style=&quot;width: 556.25px;clear: both;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;font-size: 17px;&quot;&gt;张量就是高维数组，数据无所不在，维度无所不在，因此张量无所不在。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;深度学习里的神经网络可以看成是一组张量运算，谷歌下面著名的深度学习框架 &lt;/span&gt;TensorFlow &lt;span style=&quot;font-family:DengXian;&quot;&gt;是建立了计算图，让张量 &lt;/span&gt;(tensor) &lt;span style=&quot;font-family:DengXian;&quot;&gt;从中流动 &lt;/span&gt;(flow)&lt;span style=&quot;font-family:DengXian;&quot;&gt;：因此得名 &lt;/span&gt;TensorFlow&lt;span style=&quot;font-family:DengXian;&quot;&gt;。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;张量之间的运算可归纳成四种，重塑、点乘、广播和元素层面。下面公式只是反映一层神经网络的张量流动，多层神经网络无非就是多次用到下面公式 &lt;/span&gt;(&lt;span style=&quot;font-family: DengXian;&quot;&gt;会有微小调整&lt;/span&gt;)&lt;span style=&quot;font-family: DengXian;&quot;&gt;。弄清楚每种张量运算的类型和运算前后的张量形状的匹配是最重要的。&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;223&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;http://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCHVPPx0L69g3S3djpe1XibftYtEBHqUVxWJLibg1VjFvkJAMibDSERf5httTeStibVQ50E0wAPWExS8zg/0?wx_fmt=png&quot; data-ratio=&quot;0.40103492884864167&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCHVPPx0L69g3S3djpe1XibftYtEBHqUVxWJLibg1VjFvkJAMibDSERf5httTeStibVQ50E0wAPWExS8zg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;773&quot; style=&quot;width: 100%;height: auto;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align:justify;text-justify:inter-ideograph;&quot;&gt;&lt;span style=&quot;font-size: 17px;color: rgb(51, 51, 51);letter-spacing: 0.5px;&quot;&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;细心的读者终于受不了了，想知道 &lt;/span&gt;W &lt;span style=&quot;font-family:DengXian;&quot;&gt;和 &lt;/span&gt;b &lt;span style=&quot;font-family:DengXian;&quot;&gt;怎么来的。答案：&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;ol class=&quot; list-paddingleft-2&quot; style=&quot;list-style-type: decimal;&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;用上面公式 &lt;/span&gt;L &lt;span style=&quot;font-family:DengXian;&quot;&gt;遍得到输出 &lt;/span&gt;Y&lt;span style=&quot;font-family:DengXian;&quot;&gt;，和真实标签构建误差函数&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;对误差函数求所有 &lt;/span&gt;W &lt;span style=&quot;font-family:DengXian;&quot;&gt;和 &lt;/span&gt;b &lt;span style=&quot;font-family:DengXian;&quot;&gt;的导数&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;用各种各样的优化方法迭代求解&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;但是这里 &lt;/span&gt;W &lt;span style=&quot;font-family:DengXian;&quot;&gt;和 &lt;/span&gt;b &lt;span style=&quot;font-family:DengXian;&quot;&gt;都是矩阵或向量，而且深层神经网络又有很多个 &lt;/span&gt;W &lt;span style=&quot;font-family:DengXian;&quot;&gt;和 &lt;/span&gt;b&lt;span style=&quot;font-family:DengXian;&quot;&gt;，那么在优化求解中，两个问题最重要&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;ol class=&quot; list-paddingleft-2&quot; style=&quot;list-style-type: upper-roman;&quot;&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;怎样&lt;strong&gt;&lt;span style=&quot;color:red;&quot;&gt;有效&lt;/span&gt;&lt;/strong&gt;的推导出误差函数对所有函数的偏导数？&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;span style=&quot;font-family:DengXian;&quot;&gt;怎样&lt;strong&gt;&lt;span style=&quot;color:blue;&quot;&gt;有效&lt;/span&gt;&lt;/strong&gt;的计算它们？&lt;/span&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;letter-spacing: 0.5px;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&quot;font-family: DengXian;letter-spacing: 0.5px;&quot;&gt;解决问题 &lt;/span&gt;&lt;span style=&quot;letter-spacing: 0.5px;&quot;&gt;I &lt;/span&gt;&lt;span style=&quot;font-family: DengXian;letter-spacing: 0.5px;&quot;&gt;需要了解&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;font-family: DengXian;color: red;letter-spacing: 0.5px;&quot;&gt;张量求导&lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;font-family: DengXian;letter-spacing: 0.5px;&quot;&gt;，解决问题 &lt;/span&gt;&lt;span style=&quot;letter-spacing: 0.5px;&quot;&gt;II &lt;/span&gt;&lt;span style=&quot;font-family: DengXian;letter-spacing: 0.5px;&quot;&gt;需要了解&lt;/span&gt;&lt;strong&gt;&lt;span style=&quot;font-family: DengXian;color: blue;letter-spacing: 0.5px;&quot;&gt;计算图 &lt;/span&gt;&lt;/strong&gt;&lt;span style=&quot;letter-spacing: 0.5px;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;font-family: DengXian;letter-spacing: 0.5px;&quot;&gt;反向传播&lt;/span&gt;&lt;span style=&quot;letter-spacing: 0.5px;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;font-family: DengXian;letter-spacing: 0.5px;&quot;&gt;。这是下帖的内容，非常重要又十分有趣，学会了它们你不再是调包侠，学会了它们出了错你知道哪里去找，学会了它们你可以肆意推导 &lt;/span&gt;&lt;span style=&quot;letter-spacing: 0.5px;&quot;&gt;DNN, CNN, RNN (LSTM, GRU) &lt;/span&gt;&lt;span style=&quot;font-family: DengXian;letter-spacing: 0.5px;&quot;&gt;的反向传播公式。我的任务就是让你们轻松学会它们！&lt;/span&gt;&lt;span style=&quot;letter-spacing: 0.5px;&quot;&gt;Stay Tuned!&lt;/span&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;1530286&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;收藏&quot;&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;section data-role=&quot;outer&quot; style=&quot;margin: 0px 1em;padding: 0px;font-size: 16px;line-height: 25.6px;color: rgb(62, 62, 62);text-align: center;&quot;&gt;&lt;section data-role=&quot;paragraph&quot; style=&quot;margin: 0px;padding: 0px;&quot;&gt;&lt;section data-role=&quot;outer&quot; style=&quot;margin: 0px;padding: 0px;&quot;&gt;&lt;p style=&quot;clear: both;min-height: 1em;line-height: 1.75em;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.037096774193548385&quot; src=&quot;http://mmbiz.qpic.cn/mmbiz/yqVAqoZvDibGn3quicLUfUwlIuWZlUCASOYuepCwbOiaNHC4CIHpsr252icsEyHy4ltkuIO0UrPuwCyZ8GHTf10mTA/640?&quot; data-type=&quot;png&quot; data-w=&quot;620&quot; data-width=&quot;100%&quot; style=&quot;margin: 5px 0px 10px;padding: 0px;color: inherit;line-height: 25.6px;display: block;height: auto !important;visibility: visible !important;width: 556px !important;&quot; width=&quot;650px&quot;&gt;&lt;/p&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;2434&quot; data-mpa-color=&quot;#ffffff&quot; data-mpa-category=&quot;引导&quot; style=&quot;white-space: normal;&quot;&gt;&lt;p class=&quot;&quot; style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;按二维码关注&lt;/strong&gt;&lt;span style=&quot;color: rgb(0, 122, 170);&quot;&gt;&lt;strong&gt;王的机器&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;&quot; style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;迟早精通&lt;/strong&gt;&lt;span style=&quot;color: rgb(255, 41, 65);&quot;&gt;&lt;strong&gt;机学&lt;/strong&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 128, 255);&quot;&gt;&lt;strong&gt;金工&lt;/strong&gt;&lt;/span&gt;&lt;span style=&quot;color: rgb(0, 209, 0);&quot;&gt;&lt;strong&gt;量投&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p class=&quot;&quot;&gt;&lt;img class=&quot;__bg_gif&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.1&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/b96CibCt70iaagrfovcR4xZRU4sIT4pAfRhAHTulo7mvISXAlk0HyVMgAqfUVqiarVAbEwhrNicj4wibzgjYcVV4C2w/640&quot; data-type=&quot;gif&quot; data-w=&quot;1000&quot; style=&quot;width: auto !important;visibility: visible !important;&quot;&gt;&lt;/p&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;1&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/e4kxNicDVcCFmpib4X6RoRVaPRiaVUxwJsBuDqk2Q30CypicFTOuTLINHwg5cMYY62Kd9oO4yWDDa9gdKnbfsYXicJA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;258&quot;&gt;&lt;/p&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;882147&quot; data-mpa-color=&quot;null&quot; data-mpa-category=&quot;fav&quot; style=&quot;white-space: normal;&quot;&gt;&lt;section&gt;&lt;img class=&quot;&quot; data-backh=&quot;121&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_gif/cZkI8M0nbCkXzTeDWepHbhwXDIFJk7sPlnjBt7bofGIrcpGsmCEoQbjEo6qgb5vuKEp4hhPibvUibsCwGaLXibiaNg/&quot; data-ratio=&quot;0.21866666666666668&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/cZkI8M0nbCkXzTeDWepHbhwXDIFJk7sPlnjBt7bofGIrcpGsmCEoQbjEo6qgb5vuKEp4hhPibvUibsCwGaLXibiaNg/640&quot; data-type=&quot;gif&quot; data-w=&quot;750&quot; style=&quot;border-color: rgb(68, 153, 231);width: 100%;height: auto;&quot;&gt;&lt;/section&gt;&lt;/section&gt;&lt;section class=&quot;mpa-template&quot; data-mpa-template-id=&quot;628&quot; data-mpa-color=&quot;#ffffff&quot; data-mpa-category=&quot;title&quot; style=&quot;white-space: normal;&quot;&gt;&lt;section&gt;&lt;section style=&quot;padding: 10px;text-align: center;&quot;&gt;&lt;section style=&quot;display: inline-block;&quot;&gt;&lt;section style=&#39;padding-left: 19px;background-image: url(&quot;https://mmbiz.qpic.cn/mmbiz_png/fgnkxfGnnkTicsrX1MficjcdwBlzDp9Jq78uukicmicgvMjzkUNzmJvW1U3O9fp7QgqIGEEaG8QUSkMsWII6jtSlOg/640?wx_fmt=png&quot;);float: left;width: 60px;height: 53px;background-repeat: no-repeat;background-size: 100%;font-size: 18px;text-align: left;line-height: 53px;color: rgb(255, 255, 255);&#39;&gt;&lt;strong&gt;往&lt;/strong&gt;&lt;/section&gt;&lt;section style=&#39;margin-top: 13px;margin-left: -13px;padding-right: 20px;padding-left: 20px;background-image: url(&quot;https://mmbiz.qpic.cn/mmbiz_png/fgnkxfGnnkTicsrX1MficjcdwBlzDp9Jq73HibCQ7An4gIOJ0Dgy1BxDaZfgY5aDH6FjYIxlBqaMfdJXZKpV4FxTw/640?wx_fmt=png&quot;);float: left;width: auto;height: 30px;color: rgb(155, 91, 83);font-size: 16px;line-height: 30px;background-repeat: no-repeat;background-size: 100% 2px;background-position: center bottom;&#39;&gt;&lt;strong&gt;年女儿生日给她写的信&lt;/strong&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;/section&gt;&lt;p style=&quot;white-space: normal;text-align: left;&quot;&gt;&lt;span style=&quot;font-size: 20px;color: rgb(61, 170, 214);&quot;&gt;&lt;strong&gt;2015 年&lt;/strong&gt;&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;840&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/e4kxNicDVcCE5FKaFH91zXxMuHylbVsDibwtVDYmibOwUicI7q7mo4pIRzA8iaqKFdHl4hsVqNZh8YoPbhbQh4ibicvlQ/&quot; data-copyright=&quot;0&quot; data-ratio=&quot;1.509375&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/e4kxNicDVcCE5FKaFH91zXxMuHylbVsDibwtVDYmibOwUicI7q7mo4pIRzA8iaqKFdHl4hsVqNZh8YoPbhbQh4ibicvlQ/640&quot; data-type=&quot;jpeg&quot; data-w=&quot;640&quot; style=&quot;width: 100%;height: auto;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;text-align: left;&quot;&gt;&lt;strong style=&quot;color: rgb(61, 170, 214);font-size: 20px;text-align: center;&quot;&gt;2016 年&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;663&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/e4kxNicDVcCFoniaxyiaLCeGI9gPoNPFSqMxwHfKGdMTzibeCkrgOnUXSHcEJlluDLj1zhrvbvWnlrOPd44YVDl8pg/&quot; data-copyright=&quot;0&quot; data-ratio=&quot;1.1906666666666668&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/e4kxNicDVcCFoniaxyiaLCeGI9gPoNPFSqMxwHfKGdMTzibeCkrgOnUXSHcEJlluDLj1zhrvbvWnlrOPd44YVDl8pg/640&quot; data-type=&quot;jpeg&quot; data-w=&quot;750&quot; style=&quot;width: 100%;height: auto;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;strong style=&quot;color: rgb(61, 170, 214);font-size: 20px;text-align: center;&quot;&gt;2017 年&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;696&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCFoniaxyiaLCeGI9gPoNPFSqMy3j6lOR8SN1pFOoMYibkcI6Wlx3Xws0GjDIk6OOn2G2W7cDM54IYohQ/&quot; data-copyright=&quot;0&quot; data-ratio=&quot;1.2527472527472527&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/e4kxNicDVcCFoniaxyiaLCeGI9gPoNPFSqMy3j6lOR8SN1pFOoMYibkcI6Wlx3Xws0GjDIk6OOn2G2W7cDM54IYohQ/640&quot; data-type=&quot;png&quot; data-w=&quot;637&quot; style=&quot;width: 100%;height: auto;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;strong style=&quot;color: rgb(61, 170, 214);font-size: 20px;text-align: center;&quot;&gt;2018 年&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;734&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/e4kxNicDVcCF1xOVaqffYpG99CVibfIYClLkhx7zJTVozbG49POf7WlorDC7Bk3nicX7VZtbtDjTkECehiadWSqYkg/&quot; data-copyright=&quot;0&quot; data-ratio=&quot;1.3193798449612404&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/e4kxNicDVcCF1xOVaqffYpG99CVibfIYClLkhx7zJTVozbG49POf7WlorDC7Bk3nicX7VZtbtDjTkECehiadWSqYkg/640&quot; data-type=&quot;jpeg&quot; data-w=&quot;645&quot; style=&quot;width: 100%;border-radius: 3px;height: auto;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;white-space: normal;color: rgb(61, 170, 214);font-size: 20px;text-align: center;&quot;&gt;2019 年&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-backh=&quot;895&quot; data-backw=&quot;556&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/e4kxNicDVcCHVPPx0L69g3S3djpe1XibftHHSKpZfOBvQVgfmWZ33DCZMEdUzibELd15SI2AR4ibZEic3FiaTckuYzicQ/0?wx_fmt=jpeg&quot; data-copyright=&quot;0&quot; data-ratio=&quot;1.6091314031180401&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/e4kxNicDVcCHVPPx0L69g3S3djpe1XibftHHSKpZfOBvQVgfmWZ33DCZMEdUzibELd15SI2AR4ibZEic3FiaTckuYzicQ/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;898&quot; style=&quot;width: 100%;height: auto;&quot;&gt;&lt;/p&gt;
                &lt;/div&gt;
                &lt;script nonce=&quot;736110442&quot; type=&quot;text/javascript&quot;&gt;
                    var first_sceen__time = (+new Date());

                    if (&quot;&quot; == 1 &amp;&amp; document.getElementById(&#39;js_content&#39;)) {
                        document.getElementById(&#39;js_content&#39;).addEventListener(&quot;selectstart&quot;,function(e){ e.preventDefault(); });
                    }

                    
                    (function(){
                        if (navigator.userAgent.indexOf(&quot;WindowsWechat&quot;) != -1){
                            var link = document.createElement(&#39;link&#39;);
                            var head = document.getElementsByTagName(&#39;head&#39;)[0];
                            link.rel = &#39;stylesheet&#39;;
                            link.type = &#39;text/css&#39;;
                            link.href = &quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/winwx430b95.css&quot;;
                            head.appendChild(link);
                        }
                    })();
                &lt;/script&gt;

                
                &lt;div class=&quot;ct_mpda_wrp&quot; id=&quot;js_sponsor_ad_area&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;
                
                
                &lt;div class=&quot;read-more__area&quot; id=&quot;js_more_read_area&quot; style=&quot;display:none;&quot;&gt;
                    
                &lt;/div&gt;

                
                                &lt;div class=&quot;reward_area tc reward_area_primary&quot; id=&quot;js_reward_area&quot; style=&quot;display:none;&quot;&gt;
                    &lt;div class=&quot;reward-avatar&quot; style=&quot;display: none;&quot; id=&quot;js_reward_avatar&quot;&gt;
                        &lt;img src=&quot;&quot; alt=&quot;&quot; id=&quot;js_reward_author_head&quot;&gt;
                    &lt;/div&gt;
                    
                                       
                                                &lt;div class=&quot;reward-author&quot; style=&quot;display: none;&quot; id=&quot;js_reward_author&quot;&gt;王圣元&lt;/div&gt;
                                            
                                       

                                        &lt;p&gt;
                        &lt;a class=&quot;reward_button&quot; id=&quot;js_reward_link&quot; href=&quot;##&quot;&gt;&lt;span id=&quot;js_reward_link_text&quot;&gt;赞赏&lt;/span&gt;&lt;/a&gt;
                    &lt;/p&gt;
                    &lt;div id=&quot;js_reward_inner&quot; class=&quot;reward_area_inner&quot; style=&quot;display:none;&quot;&gt;
                        &lt;p class=&quot;weui-loadmore weui-loadmore_line reward_user_tips&quot; id=&quot;js_reward_total_parent&quot;&gt;
                          &lt;span class=&quot;weui-loadmore__tips&quot;&gt;&lt;a href=&quot;##&quot; id=&quot;js_reward_total&quot;&gt;&lt;/a&gt; 人&lt;span id=&quot;js_reward_total_text&quot;&gt;赞赏&lt;/span&gt;&lt;/span&gt;
                        &lt;/p&gt;
                        
                        &lt;div id=&quot;js_reward_list&quot; class=&quot;reward_user_list&quot;&gt;&lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
                                &lt;div class=&quot;reward_qrcode_area reward_area tc&quot; id=&quot;js_reward_qrcode&quot; style=&quot;display:none;&quot;&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;长按二维码向我转账&lt;/p&gt;
                                        &lt;p class=&quot;reward_tips&quot;&gt;&lt;/p&gt;
                    &lt;span class=&quot;reward_qrcode_img_wrp&quot;&gt;&lt;img class=&quot;reward_qrcode_img&quot; id=&quot;js_reward_qrcode_img&quot;&gt;&lt;/span&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;受苹果公司新规定影响，微信 iOS 版的赞赏功能被关闭，可通过二维码转账支持公众号。&lt;/p&gt;
                &lt;/div&gt;
                                                
                
                                &lt;a class=&quot;original_tool_area&quot; id=&quot;copyright_info&quot; href=&quot;##&quot;&gt;
                    &lt;div class=&quot;flex_cell original_cell&quot;&gt;
                        &lt;div class=&quot;flex_cell_bd flex_cell_primary&quot;&gt;
                          &lt;p class=&quot;tips_global_primary&quot;&gt;文章转载自公众号&lt;/p&gt;
                        &lt;/div&gt;
                        &lt;div class=&quot;flex_cell_ft icon_access&quot;&gt;
                            &lt;span class=&quot;radius_avatar&quot;&gt;
                                                                &lt;img class=&quot;avatar&quot; src=&quot;http://wx.qlogo.cn/mmhead/Q3auHgzwzM6cicR6BmLrSjEhP7FsqYjwFpaNac0Wa9ibBWkmW7QtSxNw/0&quot; alt=&quot;王的机器&quot;&gt;
                                                            &lt;/span&gt;
                            &lt;strong class=&quot;original_cell_nickname&quot;&gt;
                              王的机器
                            &lt;/strong&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/a&gt;
                            &lt;/div&gt;
                                    
                        


                        
            &lt;ul id=&quot;js_hotspot_area&quot; class=&quot;article_extend_area&quot;&gt;&lt;/ul&gt;


            

            


&lt;div class=&quot;rich_media_tool&quot; id=&quot;js_toobar3&quot;&gt;

        &lt;div id=&quot;js_read_area3&quot; class=&quot;media_tool_meta tips_global_primary meta_primary&quot; style=&quot;display:none;&quot;&gt;阅读 &lt;span id=&quot;readNum3&quot;&gt;&lt;/span&gt;&lt;/div&gt;

    &lt;span style=&quot;display:none;&quot; class=&quot;media_tool_meta meta_extra meta_praise&quot; id=&quot;like_old&quot;&gt;
        &lt;i class=&quot;icon_praise_gray&quot;&gt;&lt;/i&gt;&lt;span class=&quot;praise_num&quot; id=&quot;likeNum_old&quot;&gt;&lt;/span&gt;
    &lt;/span&gt;

    &lt;span style=&quot;display:none;&quot; class=&quot;media_tool_meta meta_extra meta_like&quot; id=&quot;like3&quot;&gt;
        &lt;button class=&quot;like_btn&quot; id=&quot;js_like_btn&quot;&gt; 
          好看&lt;span class=&quot;like_num&quot; id=&quot;likeNum3&quot;&gt;&lt;/span&gt;
        &lt;/button&gt;
    &lt;/span&gt;

    &lt;div id=&quot;js_like_educate&quot; style=&quot;display:none&quot;&gt;
        &lt;div class=&quot;weui-mask&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;weui-dialog weui-dialog_haokan&quot;&gt;
        &lt;div class=&quot;weui-dialog__hd&quot;&gt;&lt;strong class=&quot;weui-dialog__title&quot; id=&quot;educate_title&quot;&gt;已推荐到看一看&lt;/strong&gt;&lt;/div&gt;
        &lt;div class=&quot;weui-dialog__bd&quot;&gt;
          &lt;img class=&quot;pic_haokan&quot; src=&quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_haokan42f400.png&quot;&gt;
            你的朋友可以在“发现”-“看一看”看到你认为好看的文章。        &lt;/div&gt;
        &lt;div class=&quot;weui-dialog__ft&quot; id=&quot;educate_btn&quot; style=&quot;display: none&quot;&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_default&quot; id=&quot;js_cancel&quot;&gt;取消&lt;/a&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_confirm&quot;&gt;推荐&lt;/a&gt;
        &lt;/div&gt;
        &lt;div class=&quot;weui-dialog__ft&quot; id=&quot;educate_btn2&quot; style=&quot;display: none&quot;&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_acknowledge&quot;&gt;我知道了&lt;/a&gt;
        &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;div id=&quot;js_unlike_educate&quot; style=&quot;display:none&quot;&gt;
        &lt;div class=&quot;weui-mask&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;weui-dialog&quot;&gt;
        
        &lt;div class=&quot;weui-dialog__bd&quot;&gt;
            已取消，“好看”想法已同步删除        &lt;/div&gt;
        &lt;div class=&quot;weui-dialog__ft&quot;&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_unlike_know&quot;&gt;知道了&lt;/a&gt;
        &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    
    &lt;/div&gt;


&lt;div class=&quot;like_comment_wrp&quot; id=&quot;js_a_like_comment&quot; style=&quot;display: none;&quot;&gt;
  &lt;div class=&quot;like_comment_inner&quot;&gt;
    &lt;div class=&quot;like_comment_hd&quot; style=&quot;display:none&quot; id=&quot;js_like_title&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;like_comment_bd&quot;&gt;
      &lt;div class=&quot;tips_global_primary like_comment_tips&quot;&gt;
        &lt;i class=&quot;weui-icon-success&quot;&gt;&lt;/i&gt;已推荐到看一看&lt;a href=&quot;javascript:;&quot; class=&quot;like_comment_share_link&quot; id=&quot;js_a_like_comment_share&quot;&gt;和朋友分享想法&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;like_comment_ft&quot;&gt;
      &lt;span id=&quot;js_a_like_comment_msg&quot; class=&quot;like_comment_msg&quot; style=&quot;visibility:hidden&quot;&gt;最多200字，当前共&lt;span id=&quot;js_a_like_current_cnt&quot;&gt;&lt;/span&gt;字&lt;/span&gt;
      &lt;button class=&quot;like_comment_btn&quot; disabled id=&quot;js_a_like_confirm&quot;&gt;发送&lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;div id=&quot;js_like_toast&quot; style=&quot;display: none;&quot;&gt;
  &lt;div class=&quot;weui-mask_transparent&quot;&gt;&lt;/div&gt;
  &lt;div class=&quot;weui-toast&quot;&gt;
    &lt;i class=&quot;weui-icon-success-no-circle weui-icon_toast&quot;&gt;&lt;/i&gt;
    &lt;p class=&quot;weui-toast__content&quot; id=&quot;js_toast_msg&quot;&gt;已发送&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;


&lt;div style=&quot;display: none;&quot; id=&quot;js_b_comment_panel&quot; class=&quot;like_comment_primary_pop&quot;&gt;
  &lt;div class=&quot;like_comment_primary_wrp&quot; id=&quot;js_b_wrp&quot;&gt;
    &lt;div class=&quot;like_comment_primary_inner&quot;&gt;
      &lt;div class=&quot;like_comment_primary_hd&quot;&gt;
        &lt;h4 class=&quot;like_comment_primary_title&quot;&gt;
          朋友将在看一看看到        &lt;/h4&gt;
        &lt;button id=&quot;js_b_like_confirm&quot; class=&quot;like_comment_primary_btn&quot;&gt;确定&lt;/button&gt;
      &lt;/div&gt;
      &lt;div id=&quot;js_b_comment_text_first&quot; class=&quot;like_comment_primary_bd&quot;&gt;
        &lt;span class=&quot;tips_global_primary&quot;&gt;
          分享你的想法...        &lt;/span&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;like_comment_primary_mask&quot; id=&quot;js_mask_1&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div style=&quot;display: none;&quot; id=&quot;js_b_comment_final&quot;&gt;
  &lt;div class=&quot;like_comment_primary_wrp editing&quot; id=&quot;js_comment_wrp&quot;&gt;
    &lt;div class=&quot;like_comment_primary_inner&quot;&gt;
      &lt;div class=&quot;like_comment_primary_hd&quot;&gt;
        &lt;button class=&quot;like_comment_primary_cancel&quot; id=&quot;js_b_comment_cancel&quot;&gt;取消&lt;/button&gt;
        &lt;h4 class=&quot;like_comment_primary_title&quot;&gt; 分享想法到看一看 &lt;/h4&gt;
        &lt;button class=&quot;like_comment_primary_btn&quot; id=&quot;js_b_comment_confirm&quot;&gt;确定&lt;/button&gt;
      &lt;/div&gt;
      &lt;div class=&quot;like_comment_primary_bd&quot;&gt;
        &lt;textarea class=&quot;like_comment_textarea weui-textarea&quot; placeholder=&quot;分享你的想法...&quot; id=&quot;js_b_comment_text_second&quot;&gt;&lt;/textarea&gt;
      &lt;/div&gt;
      &lt;span class=&quot;like_comment_msg&quot; id=&quot;js_b_like_comment_msg&quot; style=&quot;visibility: hidden;&quot;&gt;最多200字，当前共&lt;span id=&quot;js_b_like_current_cnt&quot;&gt;&lt;/span&gt;字&lt;/span&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;like_comment_primary_mask&quot; id=&quot;js_mask_2&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div id=&quot;js_loading&quot; style=&quot; display: none;&quot;&gt;
    &lt;div class=&quot;weui-mask_transparent&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;weui-toast&quot;&gt;
        &lt;i class=&quot;weui-loading weui-icon_toast&quot;&gt;&lt;/i&gt;
        &lt;p class=&quot;weui-toast__content&quot;&gt;发送中&lt;/p&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div id=&quot;js_fail&quot; style=&quot;display:none&quot;&gt;
    &lt;div class=&quot;weui-mask&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;weui-dialog&quot;&gt;
    &lt;div class=&quot;weui-dialog__bd&quot;&gt;
        网络异常，请稍后重试    &lt;/div&gt;
    &lt;div class=&quot;weui-dialog__ft&quot;&gt;
      &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_fail_inform&quot;&gt;知道了&lt;/a&gt;
    &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;



                        &lt;div class=&quot;rich_media_tool&quot; id=&quot;js_sg_bar&quot;&gt;

                                
            &lt;/div&gt;
                      &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class=&quot;rich_media_area_primary sougou&quot; id=&quot;sg_tj&quot; style=&quot;display:none&quot;&gt;&lt;/div&gt;


        
        &lt;div class=&quot;rich_media_area_extra&quot;&gt;
          &lt;div class=&quot;rich_media_area_extra_inner&quot;&gt;
              
              &lt;div id=&quot;js_share_appmsg&quot;&gt;
              &lt;/div&gt;

              
                            &lt;div class=&quot;mpda_bottom_container&quot; id=&quot;js_bottom_ad_area&quot;&gt;&lt;/div&gt;
                            
              &lt;div id=&quot;js_iframetest&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;
                            
                            
              &lt;div class=&quot;rich_media_extra rich_media_extra_discuss&quot; id=&quot;js_cmt_container&quot; style=&quot;display:none&quot;&gt;
                

                
                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_friend_cmt_area&quot; style=&quot;display:none&quot;&gt;
                  
                  
                  
                &lt;/div&gt;

                                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_cmt_area&quot; style=&quot;display:none&quot;&gt;
                &lt;/div&gt;
                              &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        
        &lt;div id=&quot;js_pc_qr_code&quot; class=&quot;qr_code_pc_outer&quot; style=&quot;display:none;&quot;&gt;
            &lt;div class=&quot;qr_code_pc_inner&quot;&gt;
                &lt;div class=&quot;qr_code_pc&quot;&gt;
                    &lt;img id=&quot;js_pc_qr_code_img&quot; class=&quot;qr_code_pc_img&quot;&gt;
                    &lt;p&gt;微信扫一扫&lt;br&gt;关注该公众号&lt;/p&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;</description>
<author>王圣元</author>
<guid isPermaLink="false">2019-01-11-1000000087</guid>
<pubDate>Fri, 11 Jan 2019 00:00:00 +0800</pubDate>
</item>
<item>
<title>瑞银量化策略公布：通过散户羊群效应 获得A股超额收益</title>
<link>https://henix.github.io/feeds/weixin.sogou.JoinQuant-jx/2019-01-09-1000000086.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?timestamp=1548303572&amp;amp;src=3&amp;amp;ver=1&amp;amp;signature=SlGAs0tUtyjPK5B5ILqEBbDaeuxqfhEqIaxTj8NVG0vxKEW7RGCZsxViZqsaSRafz8OS*KAWo4NpiBJDOx0PXqSxF9VACvzrdMZvrM3ZJJWQe2kVVZk4qZ7XjWkrcCyTwyUHhsSL8weTXen3QJWa*3-e5I6U7IPBXdXPJPqinmw=&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;div id=&quot;js_top_ad_area&quot; class=&quot;top_banner&quot;&gt;&lt;/div&gt;&lt;div class=&quot;rich_media_inner&quot;&gt;

        
        
        &lt;div id=&quot;page-content&quot; class=&quot;rich_media_area_primary&quot;&gt;
          &lt;div class=&quot;rich_media_area_primary_inner&quot;&gt;
                                    
                        

            &lt;div id=&quot;img-content&quot;&gt;

                
                &lt;h2 class=&quot;rich_media_title&quot; id=&quot;activity-name&quot;&gt;
                    
                    
                    瑞银量化策略公布：通过散户羊群效应 获得A股超额收益

                                                                                &lt;/h2&gt;
                &lt;div id=&quot;meta_content&quot; class=&quot;rich_media_meta_list&quot;&gt;
                                                            &lt;span id=&quot;copyright_logo&quot; class=&quot;rich_media_meta rich_media_meta_text meta_tag_text&quot;&gt;原创：&lt;/span&gt;
                                                            &lt;span class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;
                                                刘建涛（译）
                                            &lt;/span&gt;
                                        
                                        &lt;span class=&quot;rich_media_meta rich_media_meta_nickname&quot; id=&quot;profileBt&quot;&gt;
                      &lt;a href=&quot;javascript:void(0);&quot; id=&quot;js_name&quot;&gt;
                        聚宽量化实验室                      &lt;/a&gt;
                      &lt;div id=&quot;js_profile_qrcode&quot; class=&quot;profile_container&quot; style=&quot;display:none;&quot;&gt;
                          &lt;div class=&quot;profile_inner&quot;&gt;
                              &lt;strong class=&quot;profile_nickname&quot;&gt;聚宽量化实验室&lt;/strong&gt;
                              &lt;img class=&quot;profile_avatar&quot; id=&quot;js_profile_qrcode_img&quot; src=&quot;&quot; alt=&quot;&quot;&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;微信号&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;JoinQuant-jx&lt;/span&gt;
                              &lt;/p&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;功能介绍&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;用数学+编程，驾驭金融市场波动。 汇集最优质量化投资模型，和最勤奋聪明的大脑。&lt;/span&gt;
                              &lt;/p&gt;
                              
                          &lt;/div&gt;
                          &lt;span class=&quot;profile_arrow_wrp&quot; id=&quot;js_profile_arrow_wrp&quot;&gt;
                              &lt;i class=&quot;profile_arrow arrow_out&quot;&gt;&lt;/i&gt;
                              &lt;i class=&quot;profile_arrow arrow_in&quot;&gt;&lt;/i&gt;
                          &lt;/span&gt;
                      &lt;/div&gt;
                    &lt;/span&gt;


                    &lt;em id=&quot;publish_time&quot; class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;&lt;/em&gt;





                &lt;/div&gt;
                
                
                
                
                                                
                                                                
                                
                
                &lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    

                    
                    
                    &lt;p style=&quot;text-align: center;&quot;&gt;&lt;strong&gt;&lt;img class=&quot; __bg_gif&quot; data-backh=&quot;124&quot; data-backw=&quot;558&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_gif/ZZTd2u8ycXibDM6MY1CKPZH6IwxyWUeKlfbgiahCVnsEygjPWkwGczyGemVPbTZHg6blIUyPIashqscFCtHia13mQ/640&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.2222222222222222&quot; data-type=&quot;gif&quot; data-w=&quot;900&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/ZZTd2u8ycXibDM6MY1CKPZH6IwxyWUeKlfbgiahCVnsEygjPWkwGczyGemVPbTZHg6blIUyPIashqscFCtHia13mQ/640?&quot; style=&quot;text-align: center;white-space: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;width: 542.188px !important;visibility: visible !important;&quot;&gt;&lt;/strong&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;br&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;　　本研究通过对在中国诸如论坛、贴吧等大众传媒网站相关内容的调查，发现在我国投资市场上，散户情绪和羊群效应体现的非常显著。散户投资者一直是中国股市的重度参与者，有很高的市场参与率。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　在研究中，我们试图利用这些&lt;strong&gt;股票类媒体网站的内容数据来衡量散户投资者的情绪的变化&lt;/strong&gt;。我们发现发现某只股票信息被订阅数量的百分比变化可以作为一个很好的情绪衡量指标。若这个指标大幅变化意味着潜在羊群效应发生的可能也随之提升。&lt;/p&gt;&lt;p&gt; &lt;/p&gt;&lt;p&gt;&lt;strong&gt;　　问题1：中国散户投资者是市场推动者还是趋势跟随者？&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　我们的研究表明，机构持股水平高(或大幅增加)的股票往往会吸引更多散户的注意。羊群效应出现前前3个月股价持续上涨;而随着散户跟风程度的加深，这种上涨势头会迅速减弱。平均来说，这种增长势头只会持续3天左右。从中期来看(如一周或一个月)，我们观察到羊群效应一旦成型后股票会马上表现出现逆转趋势。这表明，&lt;strong&gt;散户投资者通常在反弹的最后阶段买入；羊群效应是否出现可以作为一个退出信号。&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;　　问题2：这对我们的投资策略意味着什么?&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　我们之前的研究(参见5月和7月的报告)表明，机构持股水平是股票趋势的一个主导因素。我们现在可以通过避免散户热情程度高的股票来进一步完善选股模型。改进后的模型提高了收益，降低了波动回撤。对于一个每周最大持股50支定期调仓的策略进行了如上改进之后，回测超额收益率提高到了18%。&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.6478578892371996&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSTaoSXpK3iaHYtDkic2KnX6chksGzM7yXxYG6nfAQ5Jwc9Akr4CL1w1jThBl5OJA1S09k2ARiaPUYnQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;957&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;图1：相对于中国所有A股的策略绩效（散户低热度模型绩效）&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;注：业绩针对A股，但以美元总回报计算。投资组合按周频调仓&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2 mpa-is-content=&quot;t&quot; style=&quot;margin: 5px;padding-right: 10px;padding-left: 10px;font-weight: bold;white-space: normal;max-width: 100%;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);border-left: 5px solid rgb(54, 116, 201);line-height: 32px;color: rgb(54, 116, 201);border-top-color: rgb(54, 116, 201);border-bottom-color: rgb(54, 116, 201);border-right-color: rgb(54, 116, 201);box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;一、策略原理&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;&lt;br&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;　　散户投资者在中国国内股市的参与度异常高。散户投资者有能力左右市场吗？还是说他们只是趋势追随者？当散户资金涌向某只股票时，这些股票会有怎样的变化？&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;　　散户投资者对中国国内市场有何影响?&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　在这项研究中，我们使用股票信息网站www.xueqiu.com的数据来衡量散户情绪和羊群效应。准确地说，我们将股票的羊群效应出现与否定义为网站上订阅某股票信息的用户数量百分比变动情况。据此我们有以下发现(参见图2和图3)。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　(1)中国的散户投资者一般是趋势追随者。机构持股水平高(或大幅增加)的股票，散户人气会大幅上升。我们还观察到，在散户人气显著增加之前的3个月期间，机构持有的股票绩效大多持续上升。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　(2)羊群效应一旦出现，有一个短暂的(3-4天)上升动量。但从此后长期来看(一周或一个月)，股票走势往往会出现逆转。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;1.125506072874494&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSGQwZlTXAS8AZnqDqtiaR6MnU88nclJ7F4JYuAcT2zh3rqxD86mkJ71teSpP0mAic2XBfTdiaoE63Cg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;494&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;图2:机构投资者主要持仓股票的散户人气变化&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;1.0218978102189782&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSGQwZlTXAS8AZnqDqtiaR6MNbSC7wl3JKXRqrZLWqDvbuicz6RRhkawiaI6Qnjic5Ho6PIiclyfpILxWQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;548&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;图3:羊群效应发生前后每日超额回报率&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　之前的研究表明，机构投资者持股比例较高的股票，往往会在接下来的几周和几个月表现优异(见图4中的浅蓝色条形图)。这说明，我们当前持仓中有股票表现出潜在的羊群效应发生可能性时，我们可以从持仓中剔除这只股票来进一步改善模型的绩效(见图4中的深蓝色条形图).&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　注：详情请参阅《预测未来可能的表现优异者:中国共同基金研究》(2018年7月18日)及《快速发展的中国内地和香港的新机遇》。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　例如，对于持有50支股票并每周调整仓位的投资组合模型，改进后的模型在回测后同时间窗口下年超额回报率为18%，而使用机构原始模型的年超额回报率仅为13%。&lt;/p&gt;&lt;p&gt; &lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.6632653061224489&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSGQwZlTXAS8AZnqDqtiaR6MsZRuFomCpwtHUaUNVqoL57VfHEIkkqn57rZKEdOGxRjWayRtmcFMIA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;686&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;图4:业绩比较&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2 mpa-is-content=&quot;t&quot; style=&quot;margin: 5px;padding-right: 10px;padding-left: 10px;font-weight: bold;white-space: normal;max-width: 100%;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);border-left: 5px solid rgb(54, 116, 201);line-height: 32px;color: rgb(54, 116, 201);border-top-color: rgb(54, 116, 201);border-bottom-color: rgb(54, 116, 201);border-right-color: rgb(54, 116, 201);box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;二、简单了解中国散户投资者&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;&lt;br&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　与其他机构主导的市场相比，中国市场的散户参与率格外高。A股市场高达82%的日常交易由散户投资者发起，而香港市场的这一比例仅为23%。截至2018年4月，三分之一以上的A股市值由散户投资者持有。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;　　1.高散户参与率导致的不同市场行为&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　市场主要参与者的差异导致了A股市场的价格发现过程和投资者行为都与其他股票市场有很大差异。因此，了解散户投资者及其情绪对了解A股市场股票价格发现的过程有至关重要的作用。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt; &lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;1.008&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSGQwZlTXAS8AZnqDqtiaR6McLCJv0dcwYgbNBsMW2Fd5qaY7TUibnHMrZznczFAGdiapvNT5E5X5Cog/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;500&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;图5:超过三分之一的市值由散户持有&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.970873786407767&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSGQwZlTXAS8AZnqDqtiaR6MMnnS7dW5v1OXkhsnBf7J5wdjGTOoumY506MpRIwQVNiapY8ttyo9cicw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;515&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;图6:散户投资者是市场交易的积极参与者&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;　　2.散户情绪的衡量&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　缺乏标准化的数据是研究散户投资者的一个常见困难。在A股市场，有几个网站可以让投资者发表他们对股票的看法并分享他们的交易经验和心得。这些网站的大部分用户是散户投资者。在本研究中，我们使用的数据来自www.xueqiu.com（此网站数据供应商为wind）。数据包含三个层面的测度，用以衡量散户投资者对某股票的热衷程度。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;　　3.数据选取&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;(1)数据1：雪球网上订阅某a股信息的用户数量。&lt;/p&gt;&lt;p&gt;(2)数据2：针对某股票的发帖数量&lt;/p&gt;&lt;p&gt;(3)数据3：交易分享类型的贴子中提及到某股票的次数&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　下图为雪球网股票数据覆盖范围，即画出了投资者能够在雪球上关注或讨论的A股市场上市股票数量占总A股股票总数量的百分比。雪球网成立于2014年4月，截至2014年末，网站A股品种数据覆盖范围大幅提高。自2015年以来，它已经覆盖了A股市场上几乎所有的股票(见图7)。有趣的是，我们注意到，交易经验分享的帖子数量急剧下降，与此同时，我们通过其他渠道观察到A股市场的下跌和散户参与率也随之下降。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.8428571428571429&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSGQwZlTXAS8AZnqDqtiaR6MLZqezTEGWChePVib9hDwtcOadCvBJibW8TA1mI0tKiavsgiazW6RszXmOA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;490&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;图7:数据覆盖&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.8389662027833003&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSGQwZlTXAS8AZnqDqtiaR6Mdl2TH1pVRXbopk2exwjZGAsVPohHbX7ibStCLfs3qINuWUjxRHiaEaicg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;503&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;图8:散户参与水平&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;　　&lt;/strong&gt;&lt;/p&gt;&lt;h2 mpa-is-content=&quot;t&quot; style=&quot;margin: 5px;padding-right: 10px;padding-left: 10px;font-weight: bold;white-space: normal;max-width: 100%;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);border-left: 5px solid rgb(54, 116, 201);line-height: 32px;color: rgb(54, 116, 201);border-top-color: rgb(54, 116, 201);border-bottom-color: rgb(54, 116, 201);border-right-color: rgb(54, 116, 201);box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;三、&lt;/strong&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;散户投资者的行业偏好&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　近期拥有最多散户追随者的前三大行业是银行业、非银行金融机构和军工行业。一个明显的发现是，大公司往往会吸引更多的散户关注，但也有例外，比如军工行业的散户热情程度排名第三，但行业内部股票平均规模却很小。（有关过去12个月的GICS标准行业分组人气情况请参阅附录。）&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt; &lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.42063492063492064&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSGQwZlTXAS8AZnqDqtiaR6MBaadB6CwEylJAibKuSmrFYaHf0DyO8gkwFMpkuic7OIbwQYiaoXKFJicNw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1260&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;注:数据截至2018年10月31日。&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;图9:按行业划分的最新散户投资者人气分布&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2 mpa-is-content=&quot;t&quot; style=&quot;margin: 5px;padding-right: 10px;padding-left: 10px;font-weight: bold;white-space: normal;max-width: 100%;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);border-left: 5px solid rgb(54, 116, 201);line-height: 32px;color: rgb(54, 116, 201);border-top-color: rgb(54, 116, 201);border-bottom-color: rgb(54, 116, 201);border-right-color: rgb(54, 116, 201);box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;四、散户投资者的风格偏好&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　我们还研究了散户投资者的投资风格偏好。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　我们观察到规模、估值和散户关注程度之间存在正相关关系——&lt;strong&gt;市值较大、估值较低的股票往往拥有更多的关注者&lt;/strong&gt;，关注者数量也会增加。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　此外，散户的注意力是动量驱动的。散户投资者对某只股票关注度的变化（包括日变化、周变化、月变化）均与价格绩效呈正相关。&lt;/p&gt;&lt;p&gt; &lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.9743178170144462&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSGQwZlTXAS8AZnqDqtiaR6MkRjgicqqNAoAh8DZHdKdw91s9UuNwziaaQkYPfaeQcxEdic5zTt3CS7icg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;623&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;图10:散户人气与股票走势的相关性&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.9549114331723028&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSGQwZlTXAS8AZnqDqtiaR6Med8XV2mIq3aiaY4YJwT51TibQCD8P7oubIQdicUrBFa8FbFj0e1RFTZFA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;621&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;图11:散户人气与价格走势的相关性（2）&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;br&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;　　1.散户投资者是在左右市场，还是只是随波逐流？&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　为了回答这个问题，我们研究了羊群效应可能发生的20天内的每日个股股票收益。我们首先来观察上述提到的三个测度——关注者数量、帖子数量和交易分享帖提及次数的百分比变化。当某股票的这些指标中任何一个指标出现高于市场平均水平的情况，我们就认为在这支股票上正在形成羊群效应。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.8114558472553699&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSGQwZlTXAS8AZnqDqtiaR6MDjkT1uKqwicsbUH5cxagl2pFJUdBiaAAV4ibH0ghdk1q1hPPFic5TV8Cag/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;838&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;图12:具有潜在羊群效应股的超额日回报率&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　结果表明，基于关注者数量的数据测度与股票表现的关系最为密切。随着离羊群效应事件发生越来越近，平均每日收益显著增加，在事件当天达到巅峰。这种势头在散户投资者大量涌入后还能继续大概3天，然后股价迅速回落。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　从直觉上看，关注者数量的增加更有可能反映出散户投资者的积极情绪，因为散户投资者通常会在打算购买一只股票时开始关注它;尽管反过来并不一定成立。另一方面，帖子数量的增加——尤其是与交易相关的帖子可能对股票的操作意图是双向的，我们无法判断投资者是“喜欢”还是“不喜欢”，同理我们也不知道交易分享帖中交易的方向是买入还是卖出。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;　　2.散户投资者往往爱跟风&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　然后，我们深入研究不同时间跨度(每日、每周和每月)关注者数量的百分比变化，以及当某只股票的这些指标水平高于市场平均水平时，股票的表现。很明显，在事件发生前的3个月里，股票的收益持续升高。这表明散户投资者倾向于跟随这一趋势。&lt;/p&gt;&lt;p&gt; &lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.8127962085308057&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSGQwZlTXAS8AZnqDqtiaR6MB81OQz9rhr340vnuBeviazVVnobpcBZfsESdnNv0t8maPS1pv7EPVrA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;844&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;图13:散户关注股的超额回报变动情况&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　如果我们观察股市在羊群事件发生后的表现，上涨动量只会持续很短的一段时间(大约3天)，并且继续上涨幅度很小，然后迅速衰减。在周和月度上，我们甚至观察到股票表现出现了逆转。这意味着散户投资者对市场的影响非常有限，而且时间很短。总而言之，上述结果表明，散户投资者往往会在反弹的最后阶段买入股票。更重要的是，散户进入可能预示着一轮反弹的结束，并成为一个潜在的退出信号。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2 mpa-is-content=&quot;t&quot; style=&quot;margin: 5px;padding-right: 10px;padding-left: 10px;font-weight: bold;white-space: normal;max-width: 100%;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);border-left: 5px solid rgb(54, 116, 201);line-height: 32px;color: rgb(54, 116, 201);border-top-color: rgb(54, 116, 201);border-bottom-color: rgb(54, 116, 201);border-right-color: rgb(54, 116, 201);box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;五、羊群效应的信号&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;&lt;br&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　如上所述，羊群效应可能意味着潜在的绩效反转，特别是在周、月这种较长级别的时间跨度内。在本节中，我们将测试这个羊群效应信号对市场的预测能力。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　此外，由于情绪变化与同期股价表现之间的高度相关性(见图11)，我们在下面的操作中去除羊群效应带来的动量因素。具体地说，我们将情绪指标对股价同期表现进行回归，并将其残差作为羊群效应的净影响&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　注：关于因子正交化影响的更多细节，请参考Claire Jones在2017年7月发表的报告《smart beta因子是否应该正交化》&lt;/p&gt;&lt;p&gt; &lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.9807692307692307&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSGQwZlTXAS8AZnqDqtiaR6MFuY6FicLRuGO5CfUVg0rHGtvLeicVfD6768bZXziakdMrwdekXSHiaBe8Q/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;624&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;图14:信号表现&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.9616613418530351&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSGQwZlTXAS8AZnqDqtiaR6MsUaLgy9B2pMf1TLmQpnRZziaga34Ymlo91eQhVOQibIVg5vfTFDJ8xWg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;626&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;图15:信息比率&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　结果与我们在前面的事件研究中看到的一致。跟风者数量增长百分比较高的股票往往在随后的几周和几个月表现不佳。在回测时，该方法的信息比率也始终为负。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2 mpa-is-content=&quot;t&quot; style=&quot;margin: 5px;padding-right: 10px;padding-left: 10px;font-weight: bold;white-space: normal;max-width: 100%;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);border-left: 5px solid rgb(54, 116, 201);line-height: 32px;color: rgb(54, 116, 201);border-top-color: rgb(54, 116, 201);border-bottom-color: rgb(54, 116, 201);border-right-color: rgb(54, 116, 201);box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;六、机构投资者和散户投资者&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　上一节的结果显示，大多数散户投资者在反弹的最后阶段买进。这一结果的现实意义是散户大多追随机构投资者的交易。为了验证这一点，我们研究了散户投资者对机构投资者持股比例最高的股票的反应，即市场中机构投资者参与最多或持股比例最高的前10%的股票。从图16可以看出，一旦出现机构投资者参与程度加深的状况，在接下来的一个月里，这些股票的关注者数量将不断增加。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　我们对市场上排名前10%的股票进行了相同的测试——这些股票的机构投资者持股比例增幅最大(见图17)。我们得到了相似的结果——这些股票的散户追随者数量增加，特别是机构投资者大批进入后的最早10个交易日。&lt;/p&gt;&lt;p&gt; &lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;1.00326264274062&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSGQwZlTXAS8AZnqDqtiaR6MB7Dm8SsyiajI2w61iaYmnpOcYOF60VeNpFMZ13j0PnyTFF8ibTcSGoolg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;613&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;图16:机构持有股票散户人气&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.9578606158833063&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSGQwZlTXAS8AZnqDqtiaR6Mgf44Px4TVjRBuMsrmnQEotbDvp65xneZxyebic33QspRAuZZKacu1xg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;617&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;图17:机构投资者持股增加最多的股票的散户人气上升&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;　　1.跟着专家有肉吃……&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　我们之前开发了一系列基于机构投资者持股的股票选择模型。在中国A股市场的所有机构参与者中，我们可以追踪特定基金的持股情况。(这些基金持有的股票未来表现优于大盘的可能性较高)&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　详情请参阅我们1月、5月和7月的报告&lt;/p&gt;&lt;p&gt; &lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.4290296712109062&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSGQwZlTXAS8AZnqDqtiaR6MEKU5cPszcdQdiar6mAB7mgZkeOLtDMoS1scTvfROib6fiajf9pkZD1jjg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1247&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;图18:原始策略表现　　图19:风险调整后的绩效&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　在本研究中，我们进一步结合国内(共同基金)和国际投资者仓位信息，以平均权重排序，构建出机构投资者综合持仓情况。研究结果表明，机构持股比例较高的股票在接下来的几周和几个月内往往表现更好。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;　　2.如果散户来啦！快跑！&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　为了了解机构投资者和散户投资者是如何相互影响的，我们针对机构投资者和散户不同的持仓决策，对股票超额收益进行了分析，结果如下。&lt;/p&gt;&lt;p&gt; &lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.22476340694006308&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSGQwZlTXAS8AZnqDqtiaR6Mfc7E9SzYgc4pt0ScGUytgjz8KzZk62o7LhPAO25eia221WQrRRW8J5w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1268&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;图20：类型股票周度超额收益率　　图21：类型股票月度超额收益率&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;与前文中信号测试的结果一致的是，高机构持股的溢价被高散户群体削弱。换句话说，最受机构投资者青睐、最不受散户投资者青睐的股票能够跑赢大盘，而相反方向的股票表现最差。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.23763955342902712&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSGQwZlTXAS8AZnqDqtiaR6MEf6iaOqfIOU4vQYYnWzLaCKn3RKXyFNo9Hc0OOCsUMVEBZLPbWFuSTg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1254&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;图22：风险调整后类型股票周度超额收益率&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;图23：风险调整后类型股票月度超额收益率&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　基于这些发现，我们构建了一种策略，即做多机构持股最多的股票，但不包括散户持股比例最高的三分之一的股票。基准股票池设置为A股。回测结果如下所示。&lt;/p&gt;&lt;p&gt; &lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.41273584905660377&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSGQwZlTXAS8AZnqDqtiaR6MuUlxwmJQryteUZ9sg86iccVl6liau9tIXgkurpOicewynLsEiccQILibqXA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;848&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;图24:调整策略的绩效统计数据&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.4261637239165329&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSGQwZlTXAS8AZnqDqtiaR6MPtPYkxRGcVvvz9lic8H46eAWGicnwRdHJOaibcyia3CCMBKo6fMjY0Nrxw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1246&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;图25:周策略绩效　　图26:月度策略绩效&lt;/p&gt;&lt;p&gt; &lt;/p&gt;&lt;p&gt;　　与原来的机构持股模型相比，新模型通过避开散户人气高的股票，提高了回报率，降低了波动性。&lt;/p&gt;&lt;p&gt; &lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.49597423510466987&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSGQwZlTXAS8AZnqDqtiaR6M0XicUdHOQccXCKwVLDJ7arlHgjLxN6qEsibFBSEkjViblbRfq0XYolZDw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1242&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;图27:每周策略比较　　图28:月度策略比较&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;我们来看看股票篮子中前200股票的规模市值。就平均所用的方法而言，该指数低估了大盘股和小盘股，高估了中盘股。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt; &lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.7569193742478941&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSGQwZlTXAS8AZnqDqtiaR6MgAzN0UfrGEchJwiaiaXuQZwwLtJWjKTsTViaTqfPU3fQbUSl6781EVduA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;831&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;图29:top200股票的规模市值&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2 mpa-is-content=&quot;t&quot; style=&quot;margin: 5px;padding-right: 10px;padding-left: 10px;font-weight: bold;white-space: normal;max-width: 100%;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);border-left: 5px solid rgb(54, 116, 201);line-height: 32px;color: rgb(54, 116, 201);border-top-color: rgb(54, 116, 201);border-bottom-color: rgb(54, 116, 201);border-right-color: rgb(54, 116, 201);box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;七、各类型投资者最新持仓信息一览&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　根据我们之前的研究结果，我们根据过去一个月的机构持股(不包括散户)情况，列出了中国A股市场的前10只股票，如下图所示。&lt;/p&gt;&lt;p&gt; &lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.4065573770491803&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSGQwZlTXAS8AZnqDqtiaR6Mqf9c3fLCSJ0qeC1PH8JdNGicPRB7VSwyL0M7hB4OIibEz5b5RBHoyyGg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1220&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;图30:机构投资者持有的十大股票&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;此外，截至2018年10月，在机构投资者持有的所有股票中，以下10只股票在过去一个月的散户聚集量最高。&lt;/p&gt;&lt;p&gt; &lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.4343185550082102&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSGQwZlTXAS8AZnqDqtiaR6M60YTMd5Bu1xP5OsP0IyNbnax5vARGXoYmb49ev1kZA6z3CIwNWZeGA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1218&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;图31:散户聚集最多的股票&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2 mpa-is-content=&quot;t&quot; style=&quot;margin: 5px;padding-right: 10px;padding-left: 10px;font-weight: bold;white-space: normal;max-width: 100%;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);border-left: 5px solid rgb(54, 116, 201);line-height: 32px;color: rgb(54, 116, 201);border-top-color: rgb(54, 116, 201);border-bottom-color: rgb(54, 116, 201);border-right-color: rgb(54, 116, 201);box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;八、附录 &lt;/strong&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;散户投资者的行业偏好&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt; &lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.8133116883116883&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSGQwZlTXAS8AZnqDqtiaR6MQYsqp59Y3fSgFMcMRG2Q3afiax41pEHLHwzibmZFS01VHWE2cphLMtBA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;616&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;图32:散户投资者聚留最多的行业&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.7758346581875993&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSGQwZlTXAS8AZnqDqtiaR6MDc2KcZwTEib7nK3C5QPxCgLhLNrJGx6PiccLNeibiaZYibibYeH8MbibicWvOg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;629&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;图33：过去12个月各行业散户情绪转变情况（未完）&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt; &lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.3967741935483871&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQSGQwZlTXAS8AZnqDqtiaR6Mqia1dRllwhRmHwSmicgLwjLuBnX2ZjTpxvH2L6FtIIFSzvexyox7xAvA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1240&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;图34：过去12个月各行业散户情绪转变情况（续）&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　公众号&lt;span style=&quot;color: rgb(255, 0, 0);&quot;&gt;后台回复&lt;/span&gt;：散户羊群效应，可获取&lt;span style=&quot;color: rgb(255, 0, 0);&quot;&gt;本文原文&lt;/span&gt;百度网盘下载地址。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;em&gt;作者声明：本报告由瑞银证券亚洲有限公司撰写。本报告中的建议基于瑞银专有的量化模型。这些建议独立于瑞银基础股票研究分析师的建议。瑞银的确与研究报告中所涵盖的公司有业务往来，并寻求与之开展业务。因此，投资者应意识到，公司间可能存在利益冲突进而影响本报告的客观性。因此投资者在作出投资决定时，本报告仅供参考，不可做为确定的投资依据。&lt;/em&gt;&lt;/p&gt;
                &lt;/div&gt;
                &lt;script nonce=&quot;1672857935&quot; type=&quot;text/javascript&quot;&gt;
                    var first_sceen__time = (+new Date());

                    if (&quot;&quot; == 1 &amp;&amp; document.getElementById(&#39;js_content&#39;)) {
                        document.getElementById(&#39;js_content&#39;).addEventListener(&quot;selectstart&quot;,function(e){ e.preventDefault(); });
                    }

                    
                    (function(){
                        if (navigator.userAgent.indexOf(&quot;WindowsWechat&quot;) != -1){
                            var link = document.createElement(&#39;link&#39;);
                            var head = document.getElementsByTagName(&#39;head&#39;)[0];
                            link.rel = &#39;stylesheet&#39;;
                            link.type = &#39;text/css&#39;;
                            link.href = &quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/winwx430b95.css&quot;;
                            head.appendChild(link);
                        }
                    })();
                &lt;/script&gt;

                
                &lt;div class=&quot;ct_mpda_wrp&quot; id=&quot;js_sponsor_ad_area&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;
                
                
                &lt;div class=&quot;read-more__area&quot; id=&quot;js_more_read_area&quot; style=&quot;display:none;&quot;&gt;
                    
                &lt;/div&gt;

                
                                &lt;div class=&quot;reward_area tc reward_area_primary&quot; id=&quot;js_preview_reward_author&quot; style=&quot;display:none;&quot;&gt;
                    &lt;div class=&quot;reward-avatar&quot; style=&quot;display: none;&quot; id=&quot;js_preview_reward_author_avatar&quot;&gt;
                        &lt;img src=&quot;&quot; alt=&quot;&quot; id=&quot;js_preview_reward_author_head&quot;&gt;
                    &lt;/div&gt;
                    
                                        &lt;div class=&quot;reward-author&quot; id=&quot;js_preview_reward_author_name&quot;&gt;刘建涛（译）&lt;/div&gt;
                                        &lt;p class=&quot;reward_tips&quot; id=&quot;js_preview_reward_author_wording&quot; style=&quot;display:none;&quot;&gt;&lt;/p&gt;
                    &lt;p&gt;
                        &lt;a class=&quot;reward_button&quot; id=&quot;js_preview_reward_author_link&quot; href=&quot;##&quot;&gt;&lt;span id=&quot;js_preview_reward_link_text&quot;&gt;赞赏&lt;/span&gt;&lt;/a&gt;
                    &lt;/p&gt;
                &lt;/div&gt;

                &lt;div class=&quot;reward_qrcode_area reward_area tc&quot; id=&quot;js_preview_reward_qrcode&quot; style=&quot;display:none;&quot;&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;长按二维码向我转账&lt;/p&gt;
                    &lt;p id=&quot;js_preview_reward_ios_wording&quot; class=&quot;reward_tips&quot; style=&quot;display:none;&quot;&gt;&lt;/p&gt;
                    &lt;span class=&quot;reward_qrcode_img_wrp&quot;&gt;&lt;img class=&quot;reward_qrcode_img&quot; src=&quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_reward_qrcode.2x42f400.png&quot;&gt;&lt;/span&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;受苹果公司新规定影响，微信 iOS 版的赞赏功能被关闭，可通过二维码转账支持公众号。&lt;/p&gt;
                &lt;/div&gt;
                                
                
                            &lt;/div&gt;
                                    
                        


                        
            &lt;ul id=&quot;js_hotspot_area&quot; class=&quot;article_extend_area&quot;&gt;&lt;/ul&gt;


            

            


&lt;div class=&quot;rich_media_tool&quot; id=&quot;js_toobar3&quot;&gt;

        &lt;div id=&quot;js_read_area3&quot; class=&quot;media_tool_meta tips_global_primary meta_primary&quot; style=&quot;display:none;&quot;&gt;阅读 &lt;span id=&quot;readNum3&quot;&gt;&lt;/span&gt;&lt;/div&gt;

    &lt;span style=&quot;display:none;&quot; class=&quot;media_tool_meta meta_extra meta_praise&quot; id=&quot;like_old&quot;&gt;
        &lt;i class=&quot;icon_praise_gray&quot;&gt;&lt;/i&gt;&lt;span class=&quot;praise_num&quot; id=&quot;likeNum_old&quot;&gt;&lt;/span&gt;
    &lt;/span&gt;

    &lt;span style=&quot;display:none;&quot; class=&quot;media_tool_meta meta_extra meta_like&quot; id=&quot;like3&quot;&gt;
        &lt;button class=&quot;like_btn&quot; id=&quot;js_like_btn&quot;&gt; 
          好看&lt;span class=&quot;like_num&quot; id=&quot;likeNum3&quot;&gt;&lt;/span&gt;
        &lt;/button&gt;
    &lt;/span&gt;

    &lt;div id=&quot;js_like_educate&quot; style=&quot;display:none&quot;&gt;
        &lt;div class=&quot;weui-mask&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;weui-dialog weui-dialog_haokan&quot;&gt;
        &lt;div class=&quot;weui-dialog__hd&quot;&gt;&lt;strong class=&quot;weui-dialog__title&quot; id=&quot;educate_title&quot;&gt;已推荐到看一看&lt;/strong&gt;&lt;/div&gt;
        &lt;div class=&quot;weui-dialog__bd&quot;&gt;
          &lt;img class=&quot;pic_haokan&quot; src=&quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_haokan42f400.png&quot;&gt;
            你的朋友可以在“发现”-“看一看”看到你认为好看的文章。        &lt;/div&gt;
        &lt;div class=&quot;weui-dialog__ft&quot; id=&quot;educate_btn&quot; style=&quot;display: none&quot;&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_default&quot; id=&quot;js_cancel&quot;&gt;取消&lt;/a&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_confirm&quot;&gt;推荐&lt;/a&gt;
        &lt;/div&gt;
        &lt;div class=&quot;weui-dialog__ft&quot; id=&quot;educate_btn2&quot; style=&quot;display: none&quot;&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_acknowledge&quot;&gt;我知道了&lt;/a&gt;
        &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;div id=&quot;js_unlike_educate&quot; style=&quot;display:none&quot;&gt;
        &lt;div class=&quot;weui-mask&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;weui-dialog&quot;&gt;
        
        &lt;div class=&quot;weui-dialog__bd&quot;&gt;
            已取消，“好看”想法已同步删除        &lt;/div&gt;
        &lt;div class=&quot;weui-dialog__ft&quot;&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_unlike_know&quot;&gt;知道了&lt;/a&gt;
        &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    
    &lt;/div&gt;


&lt;div class=&quot;like_comment_wrp&quot; id=&quot;js_a_like_comment&quot; style=&quot;display: none;&quot;&gt;
  &lt;div class=&quot;like_comment_inner&quot;&gt;
    &lt;div class=&quot;like_comment_hd&quot; style=&quot;display:none&quot; id=&quot;js_like_title&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;like_comment_bd&quot;&gt;
      &lt;div class=&quot;tips_global_primary like_comment_tips&quot;&gt;
        &lt;i class=&quot;weui-icon-success&quot;&gt;&lt;/i&gt;已推荐到看一看&lt;a href=&quot;javascript:;&quot; class=&quot;like_comment_share_link&quot; id=&quot;js_a_like_comment_share&quot;&gt;和朋友分享想法&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;like_comment_ft&quot;&gt;
      &lt;span id=&quot;js_a_like_comment_msg&quot; class=&quot;like_comment_msg&quot; style=&quot;visibility:hidden&quot;&gt;最多200字，当前共&lt;span id=&quot;js_a_like_current_cnt&quot;&gt;&lt;/span&gt;字&lt;/span&gt;
      &lt;button class=&quot;like_comment_btn&quot; disabled id=&quot;js_a_like_confirm&quot;&gt;发送&lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;div id=&quot;js_like_toast&quot; style=&quot;display: none;&quot;&gt;
  &lt;div class=&quot;weui-mask_transparent&quot;&gt;&lt;/div&gt;
  &lt;div class=&quot;weui-toast&quot;&gt;
    &lt;i class=&quot;weui-icon-success-no-circle weui-icon_toast&quot;&gt;&lt;/i&gt;
    &lt;p class=&quot;weui-toast__content&quot; id=&quot;js_toast_msg&quot;&gt;已发送&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;


&lt;div style=&quot;display: none;&quot; id=&quot;js_b_comment_panel&quot; class=&quot;like_comment_primary_pop&quot;&gt;
  &lt;div class=&quot;like_comment_primary_wrp&quot; id=&quot;js_b_wrp&quot;&gt;
    &lt;div class=&quot;like_comment_primary_inner&quot;&gt;
      &lt;div class=&quot;like_comment_primary_hd&quot;&gt;
        &lt;h4 class=&quot;like_comment_primary_title&quot;&gt;
          朋友将在看一看看到        &lt;/h4&gt;
        &lt;button id=&quot;js_b_like_confirm&quot; class=&quot;like_comment_primary_btn&quot;&gt;确定&lt;/button&gt;
      &lt;/div&gt;
      &lt;div id=&quot;js_b_comment_text_first&quot; class=&quot;like_comment_primary_bd&quot;&gt;
        &lt;span class=&quot;tips_global_primary&quot;&gt;
          分享你的想法...        &lt;/span&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;like_comment_primary_mask&quot; id=&quot;js_mask_1&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div style=&quot;display: none;&quot; id=&quot;js_b_comment_final&quot;&gt;
  &lt;div class=&quot;like_comment_primary_wrp editing&quot; id=&quot;js_comment_wrp&quot;&gt;
    &lt;div class=&quot;like_comment_primary_inner&quot;&gt;
      &lt;div class=&quot;like_comment_primary_hd&quot;&gt;
        &lt;button class=&quot;like_comment_primary_cancel&quot; id=&quot;js_b_comment_cancel&quot;&gt;取消&lt;/button&gt;
        &lt;h4 class=&quot;like_comment_primary_title&quot;&gt; 分享想法到看一看 &lt;/h4&gt;
        &lt;button class=&quot;like_comment_primary_btn&quot; id=&quot;js_b_comment_confirm&quot;&gt;确定&lt;/button&gt;
      &lt;/div&gt;
      &lt;div class=&quot;like_comment_primary_bd&quot;&gt;
        &lt;textarea class=&quot;like_comment_textarea weui-textarea&quot; placeholder=&quot;分享你的想法...&quot; id=&quot;js_b_comment_text_second&quot;&gt;&lt;/textarea&gt;
      &lt;/div&gt;
      &lt;span class=&quot;like_comment_msg&quot; id=&quot;js_b_like_comment_msg&quot; style=&quot;visibility: hidden;&quot;&gt;最多200字，当前共&lt;span id=&quot;js_b_like_current_cnt&quot;&gt;&lt;/span&gt;字&lt;/span&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;like_comment_primary_mask&quot; id=&quot;js_mask_2&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div id=&quot;js_loading&quot; style=&quot; display: none;&quot;&gt;
    &lt;div class=&quot;weui-mask_transparent&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;weui-toast&quot;&gt;
        &lt;i class=&quot;weui-loading weui-icon_toast&quot;&gt;&lt;/i&gt;
        &lt;p class=&quot;weui-toast__content&quot;&gt;发送中&lt;/p&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div id=&quot;js_fail&quot; style=&quot;display:none&quot;&gt;
    &lt;div class=&quot;weui-mask&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;weui-dialog&quot;&gt;
    &lt;div class=&quot;weui-dialog__bd&quot;&gt;
        网络异常，请稍后重试    &lt;/div&gt;
    &lt;div class=&quot;weui-dialog__ft&quot;&gt;
      &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_fail_inform&quot;&gt;知道了&lt;/a&gt;
    &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;



                        &lt;div class=&quot;rich_media_tool&quot; id=&quot;js_sg_bar&quot;&gt;

                                
            &lt;/div&gt;
                      &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class=&quot;rich_media_area_primary sougou&quot; id=&quot;sg_tj&quot; style=&quot;display:none&quot;&gt;&lt;/div&gt;


        
        &lt;div class=&quot;rich_media_area_extra&quot;&gt;
          &lt;div class=&quot;rich_media_area_extra_inner&quot;&gt;
              
              &lt;div id=&quot;js_share_appmsg&quot;&gt;
              &lt;/div&gt;

              
                            &lt;div class=&quot;mpda_bottom_container&quot; id=&quot;js_bottom_ad_area&quot;&gt;&lt;/div&gt;
                            
              &lt;div id=&quot;js_iframetest&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;
                            
                            
              &lt;div class=&quot;rich_media_extra rich_media_extra_discuss&quot; id=&quot;js_cmt_container&quot; style=&quot;display:none&quot;&gt;
                

                
                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_friend_cmt_area&quot; style=&quot;display:none&quot;&gt;
                  
                  
                  
                &lt;/div&gt;

                                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_cmt_area&quot; style=&quot;display:none&quot;&gt;
                &lt;/div&gt;
                              &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        
        &lt;div id=&quot;js_pc_qr_code&quot; class=&quot;qr_code_pc_outer&quot; style=&quot;display:none;&quot;&gt;
            &lt;div class=&quot;qr_code_pc_inner&quot;&gt;
                &lt;div class=&quot;qr_code_pc&quot;&gt;
                    &lt;img id=&quot;js_pc_qr_code_img&quot; class=&quot;qr_code_pc_img&quot;&gt;
                    &lt;p&gt;微信扫一扫&lt;br&gt;关注该公众号&lt;/p&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;</description>
<author>刘建涛（译）</author>
<guid isPermaLink="false">2019-01-09-1000000086</guid>
<pubDate>Wed, 09 Jan 2019 00:00:00 +0800</pubDate>
</item>
<item>
<title>“降准”带来大牛市？ 量化测算PMI 社融 汇率等宏观数据A股择时效果</title>
<link>https://henix.github.io/feeds/weixin.sogou.JoinQuant-jx/2019-01-07-1000000085.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?timestamp=1548303572&amp;amp;src=3&amp;amp;ver=1&amp;amp;signature=SlGAs0tUtyjPK5B5ILqEBbDaeuxqfhEqIaxTj8NVG0vxKEW7RGCZsxViZqsaSRafz8OS*KAWo4NpiBJDOx0PXvhwr6a-EBZsMt-PEZevg54zxDyeyeX8FoaHKrnbGrFRWVYBKXCxYv38OpOzM4DanuSFp06buue4Gns40IiIuGk=&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;div id=&quot;js_top_ad_area&quot; class=&quot;top_banner&quot;&gt;&lt;/div&gt;&lt;div class=&quot;rich_media_inner&quot;&gt;

        
        
        &lt;div id=&quot;page-content&quot; class=&quot;rich_media_area_primary&quot;&gt;
          &lt;div class=&quot;rich_media_area_primary_inner&quot;&gt;
                                    
                        

            &lt;div id=&quot;img-content&quot;&gt;

                
                &lt;h2 class=&quot;rich_media_title&quot; id=&quot;activity-name&quot;&gt;
                    
                    
                    “降准”带来大牛市？ 量化测算PMI 社融 汇率等宏观数据A股择时效果

                                                                                &lt;/h2&gt;
                &lt;div id=&quot;meta_content&quot; class=&quot;rich_media_meta_list&quot;&gt;
                                                            &lt;span id=&quot;copyright_logo&quot; class=&quot;rich_media_meta rich_media_meta_text meta_tag_text&quot;&gt;原创：&lt;/span&gt;
                                                            &lt;span class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;
                                                陈潇
                                            &lt;/span&gt;
                                        
                                        &lt;span class=&quot;rich_media_meta rich_media_meta_nickname&quot; id=&quot;profileBt&quot;&gt;
                      &lt;a href=&quot;javascript:void(0);&quot; id=&quot;js_name&quot;&gt;
                        聚宽量化实验室                      &lt;/a&gt;
                      &lt;div id=&quot;js_profile_qrcode&quot; class=&quot;profile_container&quot; style=&quot;display:none;&quot;&gt;
                          &lt;div class=&quot;profile_inner&quot;&gt;
                              &lt;strong class=&quot;profile_nickname&quot;&gt;聚宽量化实验室&lt;/strong&gt;
                              &lt;img class=&quot;profile_avatar&quot; id=&quot;js_profile_qrcode_img&quot; src=&quot;&quot; alt=&quot;&quot;&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;微信号&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;JoinQuant-jx&lt;/span&gt;
                              &lt;/p&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;功能介绍&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;用数学+编程，驾驭金融市场波动。 汇集最优质量化投资模型，和最勤奋聪明的大脑。&lt;/span&gt;
                              &lt;/p&gt;
                              
                          &lt;/div&gt;
                          &lt;span class=&quot;profile_arrow_wrp&quot; id=&quot;js_profile_arrow_wrp&quot;&gt;
                              &lt;i class=&quot;profile_arrow arrow_out&quot;&gt;&lt;/i&gt;
                              &lt;i class=&quot;profile_arrow arrow_in&quot;&gt;&lt;/i&gt;
                          &lt;/span&gt;
                      &lt;/div&gt;
                    &lt;/span&gt;


                    &lt;em id=&quot;publish_time&quot; class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;&lt;/em&gt;





                &lt;/div&gt;
                
                
                
                
                                                
                                                                
                                
                
                &lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    

                    
                    
                    &lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot; __bg_gif&quot; data-backh=&quot;124&quot; data-backw=&quot;558&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_gif/ZZTd2u8ycXibDM6MY1CKPZH6IwxyWUeKlfbgiahCVnsEygjPWkwGczyGemVPbTZHg6blIUyPIashqscFCtHia13mQ/640&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.2222222222222222&quot; data-type=&quot;gif&quot; data-w=&quot;900&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/ZZTd2u8ycXibDM6MY1CKPZH6IwxyWUeKlfbgiahCVnsEygjPWkwGczyGemVPbTZHg6blIUyPIashqscFCtHia13mQ/640?&quot; style=&quot;text-align: center;white-space: normal;box-sizing: border-box !important;overflow-wrap: break-word !important;width: 542.188px !important;visibility: visible !important;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　就在上周1月4日，为进一步支持实体经济发展，中国人民银行决定下调金融机构存款准备金率1个百分点。但是你是否通过严谨的量化模型，测算过PMI、利率、货币供应量、准备金率等各种指标的综合择时结果？今天聚宽量化投资实验室，带大家展开研究，并最终证明“降准”对于A股是否有方向判断力。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2 mpa-is-content=&quot;t&quot; style=&quot;margin: 5px;padding-right: 10px;padding-left: 10px;font-weight: bold;white-space: normal;max-width: 100%;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);border-left: 5px solid rgb(54, 116, 201);line-height: 32px;color: rgb(54, 116, 201);border-top-color: rgb(54, 116, 201);border-bottom-color: rgb(54, 116, 201);border-right-color: rgb(54, 116, 201);box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;1、从商业银行准备金和“降准”说起&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;&lt;br&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　我们知道随着准备金率降低，商业银行可以释放出更多流动性，有利于其信用货币的创造能力。当然对于缺乏流动性的A股而言，在经历了长期下跌之后，终于在2019年初迎来一次大放水，有较大可能性可能绝地反击。此次降准将释放资金约1.5万亿元，当然央行日常的流动性回收要占据一部分，但是依然可以&lt;strong&gt;贡献长期资金约8000亿元&lt;/strong&gt;。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.6296296296296297&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_jpg/zEy1aCmAZQRLdpTXYOswDgyjlZMzJr3YLZiaov97xxFU3lqliauFHhycWsibSdfib5gDSVObhVhWSL6Yn7Cnj5yiaSA/640?wx_fmt=jpeg&quot; data-type=&quot;jpeg&quot; data-w=&quot;567&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　2014年以来，央行共进行了 9 次全面降准。长江证券统计了从 2014 年到2017年，定向降准和全面降准之后 5 个交易日、30 个交易日以及 90 个交易日，上证综指和创业板指数的表现：整体来看，定向降准后市场并没有表现出明显的规律；而全面降准后，市场在短期（5 个交易日、30 个交易日）大概率上涨，但长期来看并无明显的规律。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.45545977011494254&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRLdpTXYOswDgyjlZMzJr3Yg03StAfiae7RevIKEzOkVh1la7a7P5tiaGeStKT1p1JS4MicBD1VCjWww/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;696&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　实际上国内准备金率从2018年开始实施分类调节，可以看到全面降准和定向降准，其中以全面降准影响力为最大。2012年起，实际上准备金率就在一个下行通道，而可以直观感受到，股票市场除了在2015年有一轮疯牛之外，&lt;strong&gt;其他时间段没有显著回报&lt;/strong&gt;。但是我们在详细分析各种指标的择时效果后，对准备金构建了这样的交易规则：&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　由于存款准备金率的变动是一个低频信号，不能作为常规的信号源，因此我们将该指标作为一个额外加分项合并到信贷类指标中（权重暂定为0.3分，当信贷指标总分值超过1分时设置为1分）。考虑降准指标后，策略夏普率从0.82增加到0.86，年化收益从17.68%上升到18.87%，&lt;strong&gt;可见总的来说降准对A股未来几个月的行情是一个积极信号&lt;/strong&gt;。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.43337195828505215&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRLdpTXYOswDgyjlZMzJr3Yrw1WNEdibMkypic1c0fRR39uD0pqxQ8Bvabyyu6fdnciaeLsAn2VBZfoQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;863&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt; 　　今天，我们和往常一样保持勤奋迭代和推送，为大家带来这样一篇这样有营养的文章，并公布全部代码，一起详细研究各类宏观指标的择时效果。你会发现原来准备金率只是其中一个择时指标，还有更多指标可以帮助我们更好交易股票指数，判断牛熊大势。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2 mpa-is-content=&quot;t&quot; style=&quot;margin: 5px;padding-right: 10px;padding-left: 10px;font-weight: bold;white-space: normal;max-width: 100%;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);border-left: 5px solid rgb(54, 116, 201);line-height: 32px;color: rgb(54, 116, 201);border-top-color: rgb(54, 116, 201);border-bottom-color: rgb(54, 116, 201);border-right-color: rgb(54, 116, 201);box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;2、聚宽宏观择时体系构建&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　随着市场有效性的逐步增加，择时变得越来越困难。当各类技术择时指标不再好用的时候，不妨回过头来看看宏观择时指标。技术指标通常反映投资者的情绪面因素，而宏观指标反映了整个经济体系的基本面因素。宏观择时策略本质是市场对宏观层面趋势性信息的反应长期不足，使得基于经济趋势判断的择时能够显著获取超额收益。 尤其是对于较多采用量价指标的量化投资者，&lt;strong&gt;宏观择时指标是一个重要的辅助判断工具，可以有效提升策略的信息广度。&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　本文以几类常见的宏观因子为例，介绍几种A股指数的宏观择时方法，给大家提供一些思路。一般而言，股价波动与经济增长、利率、信贷、通货膨胀、汇率等密切相关。本文主要从这五个方面指标进行择时研究。&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;　　1）PMI（经济增长）&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　PMI (Purchasing Managers‘ Index)采购经理人指数，是全球性的采购经理人协会通过每个月对各个国家的采购经理人发放调查问卷，了解他们对货物以及服务的需求，也就了解企业对货物和服务的需求，&lt;strong&gt;进而能够了解每个国家的实体经济的发展状况。&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;br&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;&lt;br&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.4476409666283084&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRLdpTXYOswDgyjlZMzJr3YugfxIa4Ms3lAZfC4vzicRYMzn82MddpmYMDuBuDUGTCIJRcUOibjX0QQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;869&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　交易规则：PMI三月均线上行时买入指数，PMI三月均线下行时卖出指数&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　择时周期：月频&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;　　2）Shibor:1M（货币：利率）&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　上海银行间同业拆放利率（Shanghai Interbank Offered Rate，简称Shibor），从2007年1月4日开始正式运行，是由信用等级较高的银行组成报价团自主报出的人民币同业拆出利率计算确定的算术平均利率。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　相比反应较慢的长期利率，Shibor:1M反映了&lt;strong&gt;中短端利率定价，又不会像隔夜或周度利率噪音较大，&lt;/strong&gt;是一个合适的利率指标。当资金成本过高时，股票所需资金受到压制，市场资金供给降低，大概率下跌，反之上涨。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.42117376294591485&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRLdpTXYOswDgyjlZMzJr3YKN0Jcia8bHTkE1sAZD2jg0FQG9GpgQPBBRLvibE7Mn4oUzFFe8AB9NAw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;869&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　交易规则：当Shibor:1M向下突破自己的布林带下轨时买入指数，当Shibor:1M上穿自己的布林带中轨时卖出指数&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　择时周期：日频&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;　　3）货币：利率-期限利差&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　利率期限结构是指在某一时点上，不同期限资金的收益率与到期期限之间的关系。利率的期限结构反映了不同期限的资金供求关系。该指标与利率类似，但又不完全相同，期限利差指标反映的是相对利率，而利率指标反映的是绝对利率。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.42214532871972316&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRLdpTXYOswDgyjlZMzJr3YdVDgnkqwcyL3Ef6TffFuPUB8tTvskicORubMeshcicgwM5PqQJbBVjMA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;867&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　如果国债利率近似代表无风险收益率的话，那么不同期限的国债利率，其实就代表的是相应期限的实际收益率和预期的通胀率。理论上，期限长的国债可以看成是滚动持有多个短期国债，但实际上，持有长债并不完全等价于持有短债的组合，投资者的偏好和债券的供需都会带来影响，因而长债比短债收益率又多隐含了一个期限溢价。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;　　4）货币：利率-信用利差&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　信用利差是用以向投资者补偿基础资产违约风险的、高于无风险利率的利差。与期限利差类似，信用利差反映的也是相对利率。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.41828571428571426&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRLdpTXYOswDgyjlZMzJr3YU9WVtF5RsOk06hvN80SiaRzjW7QaXtic7TD99pWyvC9s2L5iaXOLIplYQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;875&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　我们简单的介绍一下信用利差。&lt;strong&gt;信用利差反映了对经济前景的预期，信用利差是总体经济状况的一个函数。&lt;/strong&gt;信用利差在经济扩张期会下降，而在经济收缩期增加。这是因为在经济收缩期，投资者信心不足，更愿投资于高信用等级债券以回避风险，而公司由于收入下降，现金流减少，为了吸引投资者购买公司债券，发行人必须提供较高的利率，因此会产生较高的信用利差。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;　　5）M1与M2同比的剪刀差（货币：信贷）&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　事先，必须要理清相关概念。&lt;/p&gt;&lt;p&gt;　　M0：流通中现金，即在银行体系以外流通的现金；&lt;/p&gt;&lt;p&gt;　　M1：狭义货币供应量，即M0＋企事业单位活期存款；&lt;/p&gt;&lt;p&gt;　　M2：广义货币供应量，即M1＋企事业单位定期存款＋居民储蓄存款。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　在这三个层次中，M0与消费变动密切相关，是最活跃的货币；M1反映居民和企业资金松紧变化，是经济周期波动的先行指标，流动性仅次于M0；M2流动性偏弱，但反映的是社会总需求的变化和未来通货膨胀的压力状况，通常所说的货币供应量，主要指M2。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.4461009174311927&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRLdpTXYOswDgyjlZMzJr3YyWeiahK1HlqDbSZ83EqPG8uVWzkic32jPDtASJW8NKNdruaZj5dZq8LQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;872&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　M1,M2一般在次月中上旬发布，例如2018年12月11日发布了2018年11月的数据，因此当月的择时需参考上上个月的指标。&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　交易规则：当M1-M2的三月均线上行时买入指数；当M1-M2的三月均线下行时卖出指数&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　择时周期：月频&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;　　6）社会融资规模：当月值（货币：信贷）&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　社会融资规模是指一定时期内（每月、每季或每年）实体经济从金融体系获得的全部资金总额，既包括银行体系的间接融资，又包括资本市场的债券、股票等市场的直接融资。社会融资规模是全面反映金融与经济关系，以及金融对实体经济资金支持的总量指标。社会融资总量与经济增长存在明显的相互作用、相互影响的关系。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.43954802259887005&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRLdpTXYOswDgyjlZMzJr3Y0icaXCQ9icibfcdMUMQ4icmoQHibtM1gNk5Bk8TpsO8ib0iciaRZlTiaLTFsWjQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;885&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;　　7）金融机构存款准备金率（货币：信贷）&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　存款准备金，是指金融机构为保证客户提取存款和资金清算需要而准备的在中央银行的存款，中央银行要求的存款准备金占其存款总额的比例就是存款准备金率。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.3986636971046771&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRLdpTXYOswDgyjlZMzJr3YKN1qY3hWrWbT5KKpxs9yDuD0Xz82sf9NNSL2AicwR4D2KBfBsMLjtbw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;898&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　如果存款准备金率提高，就意味着吸纳的存款能够放贷出去的越少，间接性的减少了货币的供应量，反之，则意味着能够放贷出去的钱变多，间接增加货币供应量。我们研究发现：&lt;strong&gt;通过单独的存款准备金率变化是难以对股市走势做出判断的，但总的来说降准对A股市场是一个积极的信号。&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;　　8）USDCNH:即期汇率（汇率）&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　对于发达经济体而言，汇率与股市在多数情况下呈现出了负相关的关系。一般而言，汇率贬值反而容易刺激股市上涨。这背后的逻辑可能在于，发达市场大多数企业有大量的海外收入，汇率贬值有利于企业盈利改善，此外这些市场大多存在大量的海外投资者参与，汇率贬值意味着外币可以获取更多的本币资产，有利于吸引海外资金继续进入本国市场。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.4197247706422018&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRLdpTXYOswDgyjlZMzJr3YOsHR7bWPiao1XFDFicDILsvmQvKOtkXoEKWf2GrM24dm5bAq023iawZKQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;872&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;strong&gt;　　9）PPI与CPI同比的剪刀差（通货膨胀）&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　CPI：消费者物价指数（Consumer Price Index，简称CPI）反映与居民生活有关的产品及劳务价格统计出来的物价变动指标，通常作为观察通货膨胀水平的重要指标。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　PPI：生产者物价指数（Producer Price Index, PPI）是用来衡量生产者在生产过程中，所需采购品的物价状况，是CPI的先声。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;&quot; data-ratio=&quot;0.42531356898517675&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRLdpTXYOswDgyjlZMzJr3YW3zRPHDMwvwGsyhdXeL8RwLpYyffGQRFr2TstK6E8pxKaQ2TpHxiajg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;877&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　&lt;strong&gt;PPI-CPI的扩大意味着利润减少，从这个角度来看，PPI-CPI对股市的影响是模糊的。&lt;/strong&gt;根据郭于玮（兴业研究）的研究表明，PPI与CPI剪刀差收窄后可能触发货币政策调整，进而带来无风险利率的下行和风险偏好的改善，从而使得PPI与CPI剪刀差对利率和信用利差具有一定的领先型。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2 mpa-is-content=&quot;t&quot; style=&quot;margin: 5px;padding-right: 10px;padding-left: 10px;font-weight: bold;white-space: normal;max-width: 100%;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);border-left: 5px solid rgb(54, 116, 201);line-height: 32px;color: rgb(54, 116, 201);border-top-color: rgb(54, 116, 201);border-bottom-color: rgb(54, 116, 201);border-right-color: rgb(54, 116, 201);box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;3、指标汇总与点评&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　前文从宏观经济的五大角度（经济增长、利率、信贷、通货膨胀、汇率），九个细分指标对A股进行了择时策略的研究。总的来看，单个指标的择时效果并不是太理想。而且对单个指标进行过度调参很容易陷入到过拟合的陷阱中。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　我们&lt;strong&gt;参考宏观分析领域交叉验证的思想，对五类择时指标进行汇总打分&lt;/strong&gt;（初步的，我们认为这五个角度的分值占比相同，均占比20%），然后根据总得分做出具体的仓位决策。其中利率类和信贷类的打分，按照细分指标等权相加得到。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.43337195828505215&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRLdpTXYOswDgyjlZMzJr3YfJDmsVdib8IicF3jkgdxn4E9fMQMDrMA8YNOxAMibX3n0T3KaTkyGbqbw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;863&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　宏观综合择时策略的夏普率为0.74，年化收益率为15.69%，相比各单类择时指标有着显著提升。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　回顾十多年来我国经济的发展，可以发现国内经济显著受信贷周期驱动，另外信贷体量（M1,M2,社融等指标）也是国内特殊的数量型货币政策色彩背景下非常重要的中介目标变量，对未来经济发展与货币政策制定有着重要参考意义。因此，我们尝试在汇总指标中调节了信贷指标的权重，将其增大一倍，回测效果如下。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.43337195828505215&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRLdpTXYOswDgyjlZMzJr3YX7qLQTgWeNP4Z8mRAZHg2dJLmHibg7wKttZyQicdQEKNrW2DIn4uNdIw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;863&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　如文章开篇所说：&lt;strong&gt;最终加入对于降准的考虑后，策略夏普率从0.82增加到0.86，年化收益从17.68%上升到18.87%&lt;/strong&gt;，而且我们对于准备金率因子并没有做复杂加工，就已经体现出此效果，相信代码公布后，聚宽的用户们会带来更多有价值结论。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.43337195828505215&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQRLdpTXYOswDgyjlZMzJr3Yrw1WNEdibMkypic1c0fRR39uD0pqxQ8Bvabyyu6fdnciaeLsAn2VBZfoQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;863&quot; style=&quot;text-align: center;white-space: normal;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　总体而言，传统的时间序列择时无论规则多么复杂，或者采用了机器学习等方法，都是使用时间序列动量或者反转特征，容易造成过度拟合。而增加了各种外部信息，择时变得更加科学，择时结果也更加稳定，尤其是宏观数据对于A股的影响力不言而喻。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　点击&lt;span style=&quot;color: rgb(255, 0, 0);&quot;&gt;&lt;strong&gt;“原文链接”&lt;/strong&gt;&lt;/span&gt;，我们给出了完整逻辑和代码，请大家一起研究这种择时方法，欢迎各位读者们在此基础上，将模型开发地更具实战能力。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;
                &lt;/div&gt;
                &lt;script nonce=&quot;1803755262&quot; type=&quot;text/javascript&quot;&gt;
                    var first_sceen__time = (+new Date());

                    if (&quot;&quot; == 1 &amp;&amp; document.getElementById(&#39;js_content&#39;)) {
                        document.getElementById(&#39;js_content&#39;).addEventListener(&quot;selectstart&quot;,function(e){ e.preventDefault(); });
                    }

                    
                    (function(){
                        if (navigator.userAgent.indexOf(&quot;WindowsWechat&quot;) != -1){
                            var link = document.createElement(&#39;link&#39;);
                            var head = document.getElementsByTagName(&#39;head&#39;)[0];
                            link.rel = &#39;stylesheet&#39;;
                            link.type = &#39;text/css&#39;;
                            link.href = &quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/winwx430b95.css&quot;;
                            head.appendChild(link);
                        }
                    })();
                &lt;/script&gt;

                
                &lt;div class=&quot;ct_mpda_wrp&quot; id=&quot;js_sponsor_ad_area&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;
                
                
                &lt;div class=&quot;read-more__area&quot; id=&quot;js_more_read_area&quot; style=&quot;display:none;&quot;&gt;
                    
                &lt;/div&gt;

                
                                &lt;div class=&quot;reward_area tc reward_area_primary&quot; id=&quot;js_preview_reward_author&quot; style=&quot;display:none;&quot;&gt;
                    &lt;div class=&quot;reward-avatar&quot; style=&quot;display: none;&quot; id=&quot;js_preview_reward_author_avatar&quot;&gt;
                        &lt;img src=&quot;&quot; alt=&quot;&quot; id=&quot;js_preview_reward_author_head&quot;&gt;
                    &lt;/div&gt;
                    
                                        &lt;div class=&quot;reward-author&quot; id=&quot;js_preview_reward_author_name&quot;&gt;陈潇&lt;/div&gt;
                                        &lt;p class=&quot;reward_tips&quot; id=&quot;js_preview_reward_author_wording&quot; style=&quot;display:none;&quot;&gt;&lt;/p&gt;
                    &lt;p&gt;
                        &lt;a class=&quot;reward_button&quot; id=&quot;js_preview_reward_author_link&quot; href=&quot;##&quot;&gt;&lt;span id=&quot;js_preview_reward_link_text&quot;&gt;赞赏&lt;/span&gt;&lt;/a&gt;
                    &lt;/p&gt;
                &lt;/div&gt;

                &lt;div class=&quot;reward_qrcode_area reward_area tc&quot; id=&quot;js_preview_reward_qrcode&quot; style=&quot;display:none;&quot;&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;长按二维码向我转账&lt;/p&gt;
                    &lt;p id=&quot;js_preview_reward_ios_wording&quot; class=&quot;reward_tips&quot; style=&quot;display:none;&quot;&gt;&lt;/p&gt;
                    &lt;span class=&quot;reward_qrcode_img_wrp&quot;&gt;&lt;img class=&quot;reward_qrcode_img&quot; src=&quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_reward_qrcode.2x42f400.png&quot;&gt;&lt;/span&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;受苹果公司新规定影响，微信 iOS 版的赞赏功能被关闭，可通过二维码转账支持公众号。&lt;/p&gt;
                &lt;/div&gt;
                                
                
                            &lt;/div&gt;
                                    
                        


                        
            &lt;ul id=&quot;js_hotspot_area&quot; class=&quot;article_extend_area&quot;&gt;&lt;/ul&gt;


            

            


&lt;div class=&quot;rich_media_tool&quot; id=&quot;js_toobar3&quot;&gt;

        &lt;a class=&quot;media_tool_meta meta_primary&quot; id=&quot;js_view_source&quot; href=&quot;##&quot;&gt;阅读原文&lt;/a&gt;
        &lt;div id=&quot;js_read_area3&quot; class=&quot;media_tool_meta tips_global_primary meta_primary&quot; style=&quot;display:none;&quot;&gt;阅读 &lt;span id=&quot;readNum3&quot;&gt;&lt;/span&gt;&lt;/div&gt;

    &lt;span style=&quot;display:none;&quot; class=&quot;media_tool_meta meta_extra meta_praise&quot; id=&quot;like_old&quot;&gt;
        &lt;i class=&quot;icon_praise_gray&quot;&gt;&lt;/i&gt;&lt;span class=&quot;praise_num&quot; id=&quot;likeNum_old&quot;&gt;&lt;/span&gt;
    &lt;/span&gt;

    &lt;span style=&quot;display:none;&quot; class=&quot;media_tool_meta meta_extra meta_like&quot; id=&quot;like3&quot;&gt;
        &lt;button class=&quot;like_btn&quot; id=&quot;js_like_btn&quot;&gt; 
          好看&lt;span class=&quot;like_num&quot; id=&quot;likeNum3&quot;&gt;&lt;/span&gt;
        &lt;/button&gt;
    &lt;/span&gt;

    &lt;div id=&quot;js_like_educate&quot; style=&quot;display:none&quot;&gt;
        &lt;div class=&quot;weui-mask&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;weui-dialog weui-dialog_haokan&quot;&gt;
        &lt;div class=&quot;weui-dialog__hd&quot;&gt;&lt;strong class=&quot;weui-dialog__title&quot; id=&quot;educate_title&quot;&gt;已推荐到看一看&lt;/strong&gt;&lt;/div&gt;
        &lt;div class=&quot;weui-dialog__bd&quot;&gt;
          &lt;img class=&quot;pic_haokan&quot; src=&quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_haokan42f400.png&quot;&gt;
            你的朋友可以在“发现”-“看一看”看到你认为好看的文章。        &lt;/div&gt;
        &lt;div class=&quot;weui-dialog__ft&quot; id=&quot;educate_btn&quot; style=&quot;display: none&quot;&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_default&quot; id=&quot;js_cancel&quot;&gt;取消&lt;/a&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_confirm&quot;&gt;推荐&lt;/a&gt;
        &lt;/div&gt;
        &lt;div class=&quot;weui-dialog__ft&quot; id=&quot;educate_btn2&quot; style=&quot;display: none&quot;&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_acknowledge&quot;&gt;我知道了&lt;/a&gt;
        &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;div id=&quot;js_unlike_educate&quot; style=&quot;display:none&quot;&gt;
        &lt;div class=&quot;weui-mask&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;weui-dialog&quot;&gt;
        
        &lt;div class=&quot;weui-dialog__bd&quot;&gt;
            已取消，“好看”想法已同步删除        &lt;/div&gt;
        &lt;div class=&quot;weui-dialog__ft&quot;&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_unlike_know&quot;&gt;知道了&lt;/a&gt;
        &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    
    &lt;/div&gt;


&lt;div class=&quot;like_comment_wrp&quot; id=&quot;js_a_like_comment&quot; style=&quot;display: none;&quot;&gt;
  &lt;div class=&quot;like_comment_inner&quot;&gt;
    &lt;div class=&quot;like_comment_hd&quot; style=&quot;display:none&quot; id=&quot;js_like_title&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;like_comment_bd&quot;&gt;
      &lt;div class=&quot;tips_global_primary like_comment_tips&quot;&gt;
        &lt;i class=&quot;weui-icon-success&quot;&gt;&lt;/i&gt;已推荐到看一看&lt;a href=&quot;javascript:;&quot; class=&quot;like_comment_share_link&quot; id=&quot;js_a_like_comment_share&quot;&gt;和朋友分享想法&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;like_comment_ft&quot;&gt;
      &lt;span id=&quot;js_a_like_comment_msg&quot; class=&quot;like_comment_msg&quot; style=&quot;visibility:hidden&quot;&gt;最多200字，当前共&lt;span id=&quot;js_a_like_current_cnt&quot;&gt;&lt;/span&gt;字&lt;/span&gt;
      &lt;button class=&quot;like_comment_btn&quot; disabled id=&quot;js_a_like_confirm&quot;&gt;发送&lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;div id=&quot;js_like_toast&quot; style=&quot;display: none;&quot;&gt;
  &lt;div class=&quot;weui-mask_transparent&quot;&gt;&lt;/div&gt;
  &lt;div class=&quot;weui-toast&quot;&gt;
    &lt;i class=&quot;weui-icon-success-no-circle weui-icon_toast&quot;&gt;&lt;/i&gt;
    &lt;p class=&quot;weui-toast__content&quot; id=&quot;js_toast_msg&quot;&gt;已发送&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;


&lt;div style=&quot;display: none;&quot; id=&quot;js_b_comment_panel&quot; class=&quot;like_comment_primary_pop&quot;&gt;
  &lt;div class=&quot;like_comment_primary_wrp&quot; id=&quot;js_b_wrp&quot;&gt;
    &lt;div class=&quot;like_comment_primary_inner&quot;&gt;
      &lt;div class=&quot;like_comment_primary_hd&quot;&gt;
        &lt;h4 class=&quot;like_comment_primary_title&quot;&gt;
          朋友将在看一看看到        &lt;/h4&gt;
        &lt;button id=&quot;js_b_like_confirm&quot; class=&quot;like_comment_primary_btn&quot;&gt;确定&lt;/button&gt;
      &lt;/div&gt;
      &lt;div id=&quot;js_b_comment_text_first&quot; class=&quot;like_comment_primary_bd&quot;&gt;
        &lt;span class=&quot;tips_global_primary&quot;&gt;
          分享你的想法...        &lt;/span&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;like_comment_primary_mask&quot; id=&quot;js_mask_1&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div style=&quot;display: none;&quot; id=&quot;js_b_comment_final&quot;&gt;
  &lt;div class=&quot;like_comment_primary_wrp editing&quot; id=&quot;js_comment_wrp&quot;&gt;
    &lt;div class=&quot;like_comment_primary_inner&quot;&gt;
      &lt;div class=&quot;like_comment_primary_hd&quot;&gt;
        &lt;button class=&quot;like_comment_primary_cancel&quot; id=&quot;js_b_comment_cancel&quot;&gt;取消&lt;/button&gt;
        &lt;h4 class=&quot;like_comment_primary_title&quot;&gt; 分享想法到看一看 &lt;/h4&gt;
        &lt;button class=&quot;like_comment_primary_btn&quot; id=&quot;js_b_comment_confirm&quot;&gt;确定&lt;/button&gt;
      &lt;/div&gt;
      &lt;div class=&quot;like_comment_primary_bd&quot;&gt;
        &lt;textarea class=&quot;like_comment_textarea weui-textarea&quot; placeholder=&quot;分享你的想法...&quot; id=&quot;js_b_comment_text_second&quot;&gt;&lt;/textarea&gt;
      &lt;/div&gt;
      &lt;span class=&quot;like_comment_msg&quot; id=&quot;js_b_like_comment_msg&quot; style=&quot;visibility: hidden;&quot;&gt;最多200字，当前共&lt;span id=&quot;js_b_like_current_cnt&quot;&gt;&lt;/span&gt;字&lt;/span&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;like_comment_primary_mask&quot; id=&quot;js_mask_2&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div id=&quot;js_loading&quot; style=&quot; display: none;&quot;&gt;
    &lt;div class=&quot;weui-mask_transparent&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;weui-toast&quot;&gt;
        &lt;i class=&quot;weui-loading weui-icon_toast&quot;&gt;&lt;/i&gt;
        &lt;p class=&quot;weui-toast__content&quot;&gt;发送中&lt;/p&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div id=&quot;js_fail&quot; style=&quot;display:none&quot;&gt;
    &lt;div class=&quot;weui-mask&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;weui-dialog&quot;&gt;
    &lt;div class=&quot;weui-dialog__bd&quot;&gt;
        网络异常，请稍后重试    &lt;/div&gt;
    &lt;div class=&quot;weui-dialog__ft&quot;&gt;
      &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_fail_inform&quot;&gt;知道了&lt;/a&gt;
    &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;



                        &lt;div class=&quot;rich_media_tool&quot; id=&quot;js_sg_bar&quot;&gt;

                                &lt;a class=&quot;media_tool_meta meta_primary&quot; href=&quot;https://www.joinquant.com/post/16184&quot; target=&quot;_blank&quot;&gt;阅读原文&lt;/a&gt;
                                
            &lt;/div&gt;
                      &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class=&quot;rich_media_area_primary sougou&quot; id=&quot;sg_tj&quot; style=&quot;display:none&quot;&gt;&lt;/div&gt;


        
        &lt;div class=&quot;rich_media_area_extra&quot;&gt;
          &lt;div class=&quot;rich_media_area_extra_inner&quot;&gt;
              
              &lt;div id=&quot;js_share_appmsg&quot;&gt;
              &lt;/div&gt;

              
                            &lt;div class=&quot;mpda_bottom_container&quot; id=&quot;js_bottom_ad_area&quot;&gt;&lt;/div&gt;
                            
              &lt;div id=&quot;js_iframetest&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;
                            
                            
              &lt;div class=&quot;rich_media_extra rich_media_extra_discuss&quot; id=&quot;js_cmt_container&quot; style=&quot;display:none&quot;&gt;
                

                
                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_friend_cmt_area&quot; style=&quot;display:none&quot;&gt;
                  
                  
                  
                &lt;/div&gt;

                                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_cmt_area&quot; style=&quot;display:none&quot;&gt;
                &lt;/div&gt;
                              &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        
        &lt;div id=&quot;js_pc_qr_code&quot; class=&quot;qr_code_pc_outer&quot; style=&quot;display:none;&quot;&gt;
            &lt;div class=&quot;qr_code_pc_inner&quot;&gt;
                &lt;div class=&quot;qr_code_pc&quot;&gt;
                    &lt;img id=&quot;js_pc_qr_code_img&quot; class=&quot;qr_code_pc_img&quot;&gt;
                    &lt;p&gt;微信扫一扫&lt;br&gt;关注该公众号&lt;/p&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;</description>
<author>陈潇</author>
<guid isPermaLink="false">2019-01-07-1000000085</guid>
<pubDate>Mon, 07 Jan 2019 00:00:00 +0800</pubDate>
</item>
<item>
<title>【揭秘专业投资者的武器】经典组合优化模型 在行业资产配置中的应用示例</title>
<link>https://henix.github.io/feeds/weixin.sogou.JoinQuant-jx/2019-01-04-1000000084.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://mp.weixin.qq.com/s?timestamp=1548303572&amp;amp;src=3&amp;amp;ver=1&amp;amp;signature=SlGAs0tUtyjPK5B5ILqEBbDaeuxqfhEqIaxTj8NVG0vxKEW7RGCZsxViZqsaSRafz8OS*KAWo4NpiBJDOx0PXgj63GqhQgCSalLVfdx4IQ7FkCdF3MG*PtnOs3ftByMAgR5wt166s*mybFR611bgeBo7CqQn-s4rBSw3IaKYZJQ=&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;div id=&quot;js_top_ad_area&quot; class=&quot;top_banner&quot;&gt;&lt;/div&gt;&lt;div class=&quot;rich_media_inner&quot;&gt;

        
        
        &lt;div id=&quot;page-content&quot; class=&quot;rich_media_area_primary&quot;&gt;
          &lt;div class=&quot;rich_media_area_primary_inner&quot;&gt;
                                    
                        

            &lt;div id=&quot;img-content&quot;&gt;

                
                &lt;h2 class=&quot;rich_media_title&quot; id=&quot;activity-name&quot;&gt;
                    
                    
                    【揭秘专业投资者的武器】经典组合优化模型 在行业资产配置中的应用示例

                                                                                &lt;/h2&gt;
                &lt;div id=&quot;meta_content&quot; class=&quot;rich_media_meta_list&quot;&gt;
                                                            &lt;span id=&quot;copyright_logo&quot; class=&quot;rich_media_meta rich_media_meta_text meta_tag_text&quot;&gt;原创：&lt;/span&gt;
                                                            &lt;span class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;
                                                Syylt
                                            &lt;/span&gt;
                                        
                                        &lt;span class=&quot;rich_media_meta rich_media_meta_nickname&quot; id=&quot;profileBt&quot;&gt;
                      &lt;a href=&quot;javascript:void(0);&quot; id=&quot;js_name&quot;&gt;
                        聚宽量化实验室                      &lt;/a&gt;
                      &lt;div id=&quot;js_profile_qrcode&quot; class=&quot;profile_container&quot; style=&quot;display:none;&quot;&gt;
                          &lt;div class=&quot;profile_inner&quot;&gt;
                              &lt;strong class=&quot;profile_nickname&quot;&gt;聚宽量化实验室&lt;/strong&gt;
                              &lt;img class=&quot;profile_avatar&quot; id=&quot;js_profile_qrcode_img&quot; src=&quot;&quot; alt=&quot;&quot;&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;微信号&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;JoinQuant-jx&lt;/span&gt;
                              &lt;/p&gt;

                              &lt;p class=&quot;profile_meta&quot;&gt;
                              &lt;label class=&quot;profile_meta_label&quot;&gt;功能介绍&lt;/label&gt;
                              &lt;span class=&quot;profile_meta_value&quot;&gt;用数学+编程，驾驭金融市场波动。 汇集最优质量化投资模型，和最勤奋聪明的大脑。&lt;/span&gt;
                              &lt;/p&gt;
                              
                          &lt;/div&gt;
                          &lt;span class=&quot;profile_arrow_wrp&quot; id=&quot;js_profile_arrow_wrp&quot;&gt;
                              &lt;i class=&quot;profile_arrow arrow_out&quot;&gt;&lt;/i&gt;
                              &lt;i class=&quot;profile_arrow arrow_in&quot;&gt;&lt;/i&gt;
                          &lt;/span&gt;
                      &lt;/div&gt;
                    &lt;/span&gt;


                    &lt;em id=&quot;publish_time&quot; class=&quot;rich_media_meta rich_media_meta_text&quot;&gt;&lt;/em&gt;





                &lt;/div&gt;
                
                
                
                
                                                
                                                                
                                
                
                &lt;div class=&quot;rich_media_content &quot; id=&quot;js_content&quot;&gt;
                    

                    

                    
                    
                    &lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;img class=&quot; __bg_gif&quot; data-backh=&quot;124&quot; data-backw=&quot;558&quot; data-before-oversubscription-url=&quot;https://mmbiz.qpic.cn/mmbiz_gif/ZZTd2u8ycXibDM6MY1CKPZH6IwxyWUeKlfbgiahCVnsEygjPWkwGczyGemVPbTZHg6blIUyPIashqscFCtHia13mQ/640&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.2222222222222222&quot; data-type=&quot;gif&quot; data-w=&quot;900&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_gif/ZZTd2u8ycXibDM6MY1CKPZH6IwxyWUeKlfbgiahCVnsEygjPWkwGczyGemVPbTZHg6blIUyPIashqscFCtHia13mQ/640?&quot; style=&quot;box-sizing: border-box !important;overflow-wrap: break-word !important;width: 542.188px !important;visibility: visible !important;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;　　&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;　　组合优化的目的在于给予高收益，低风险的标的更多的权重，来提高组合整体表现。策略里面大部分情况下都会默认平均持仓的方法，由于没有考虑各个标的风险的不同，标的之间的相关性，并未较好的解决鸡蛋在一个篮子里的问题，若是稍加关注一下对组合权重的处理，就会考虑到各标的间的涨跌是否本身就有较强关联这样的问题，这个时候就是需要研究各标的历史价格的协方差、波动率等统计量。&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;　　对组合中各标的权重进行适当优化调整，对组合收益会有不小的提升。接下来我们将研究几种不同组合优化方法对组合收益的影响，偏重于优化目标方法设置，标的选择均是权益类资产，用于全A股测试，同时考虑到研究的实际意义，我们设置行业资产配置这样的组合情境（同样也可以做不同板块配置优化），基于申万一级行业数据，采用了较为常见的最小方差、最大夏普、风险平价这样的模型，应用在行业配置中，来探究组合优化模型效果。&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;h2 mpa-is-content=&quot;t&quot; style=&quot;margin: 5px;padding-right: 10px;padding-left: 10px;font-weight: bold;white-space: normal;max-width: 100%;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);border-left: 5px solid rgb(54, 116, 201);line-height: 32px;color: rgb(54, 116, 201);border-top-color: rgb(54, 116, 201);border-bottom-color: rgb(54, 116, 201);border-right-color: rgb(54, 116, 201);box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;1、行业指数数据准备：&lt;/strong&gt;&lt;/h2&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;　　接下来将28个申万一级行业指数进行研究，给予不同权重配置，首先，获取了行业指数数据，构造收益序列效果如下图所示&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;495&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;311&quot; data-ratio=&quot;0.6276595744680851&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQT2AYGeBnpnYE8hMoCkKvATJ4XACM3lLykIKHibKbwq5mzrn5tst641EkM6LNeKlJRjMaMKM5VvTibQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1034&quot; style=&quot;height: 311px;width: 495px;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;　　可以看到，各行业之间涨跌存在一定的差异，但在极端行情如2015年6月之前的牛市和之后的熊市都有着一致的表现。&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;　　下面获取行业间相关性矩阵,并以热力图进行展示&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.738238841978287&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQT2AYGeBnpnYE8hMoCkKvATuX8k7U5PsyAZWwaVXPdlJ799TY4JebPaXgkGZjEZuvRLxXmtuvTvhg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;829&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　热力图颜色由深到浅，表示相关度有低到高的过程。&lt;/p&gt;&lt;p&gt;　　从图中可以明显看到银行业与非银金融与其他行业有着较为明显的不同，化工、电器设备、机械设备、纺织服装等行业都有较高的相关度。&lt;/p&gt;&lt;p style=&quot;white-space: normal;text-align: left;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;h2 mpa-is-content=&quot;t&quot; style=&quot;margin: 5px;padding-right: 10px;padding-left: 10px;font-weight: bold;white-space: normal;max-width: 100%;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);border-left: 5px solid rgb(54, 116, 201);line-height: 32px;color: rgb(54, 116, 201);border-top-color: rgb(54, 116, 201);border-bottom-color: rgb(54, 116, 201);border-right-color: rgb(54, 116, 201);text-align: left;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;2、设置不同优化方法：&lt;/strong&gt;&lt;/h2&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　接下来，我们将针对申万行业5年的历史数据，按不同的组合优化方式，每季度进行仓位平衡，下面就对几种优化方法进行说明，并通过调用scipy.optimize提供的优化算法，构造对应的目标函数进行求解获取行业配置权重。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;（1）平均分仓&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　就是对28个行业进行等权重资金配置。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;（2）等波动率&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　等波动率是使得每个股票贡献的表征风险相等，如组合中第i个标的的权重为wi,波动率为wiσi&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.1790633608815427&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQT2AYGeBnpnYE8hMoCkKvATMKhphIgIoz2F4DW5fNj6babLKVzue5fqY3tMqcGdxibcssvOqoyN78w/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;363&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;　　即权重应满足如下关系&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.12311557788944724&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQT2AYGeBnpnYE8hMoCkKvATr1HNznEIP0qAYk94KYUBgXgXJfMpgDaR97eQiasn8l0ubRN5JyRHpCg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;398&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;　　此优化方法下的行业配置权重&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.5417142857142857&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQT2AYGeBnpnYE8hMoCkKvATkQWtHnVbAEyBeJazpCVuu55HYP1D3rVZOpT2O74rUibVZqdamFK1YMQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;875&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;（3）最小方差&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　最小方差，也可以称为最小波动或最低风险&lt;/p&gt;&lt;p&gt;　　ω为投资权重向量，Σ为各标的的收益率协方差矩阵&lt;/p&gt;&lt;p&gt;　　组合的波动率满足&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.10306406685236769&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQT2AYGeBnpnYE8hMoCkKvATFcTUNbT73OCgsJDM6VbQKmfujicBcPhWzpMhWOSmkFfNMztG8LtMLRw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;359&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;　　只要找到ω使得使得σ最小即可&lt;/p&gt;&lt;p&gt;　　此优化方法下的行业配置权重&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.5874285714285714&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQT2AYGeBnpnYE8hMoCkKvATmJ7xibXqnPaEXB3loWiaA9FjqmCwGsIcLqfTMeGf12GDWGBOejzYjwKg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;875&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　组合长期对银行有较高的权重配置，尤其在2015年熊市之后不断进行权重增加，到2017年年初达到最大权重。&lt;/p&gt;&lt;p&gt;　　下面我们贴一张相同时间轴的银行指数走势图&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.41023417172593235&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQT2AYGeBnpnYE8hMoCkKvAT728fsXV5sPRA1MC60RzyWsXojREKmsusAjTGYNhiczaljreI0azh8AQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;1153&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;（4）风险平价&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　风险平价模型是通过衡量组合各标的对于组合的风险贡献度，来制定投资模型的各类资产权重，目标是使得组合标的达到等风险贡献&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;1.1795841209829867&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQT2AYGeBnpnYE8hMoCkKvATMibnevzgu7V2SlAELeHOGBDIkGibl2gQ7O9Y6xnvGE3qWbuhLyWlRXTA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;529&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: left;&quot;&gt;　　此优化方法下的行业配置权重&lt;/p&gt;&lt;p style=&quot;text-align: left;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.5417142857142857&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQT2AYGeBnpnYE8hMoCkKvATjuqT1kVG36abS9Hm31VkkvibicnPPdTfSKohLZp1ebiaIWjk4MibGXFObA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;875&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;（5）最大夏普&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　夏普率用来表示每承受一单位风险，会产生多少的超额报酬，是对策略的收益与风险进行综合考虑&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;556&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;244&quot; data-ratio=&quot;0.4393939393939394&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQT2AYGeBnpnYE8hMoCkKvATRZOF1gsWoy4GxY4LqqYKicYI0sw9YwFQIU1M1hHCeQwnynlQZcUmoCw/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;726&quot; style=&quot;width: 556px;height: 244px;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;span style=&#39;color: rgb(0, 25, 47);font-family: &quot;Microsoft Yahei&quot;, &quot;Open Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, sans-serif;font-size: 14px;background-color: rgb(255, 255, 255);&#39;&gt;&lt;span style=&quot;display: none;line-height: 0px;&quot;&gt;‍&lt;/span&gt;&lt;/span&gt;&lt;span style=&quot;display: none;line-height: 0px;&quot;&gt;‍&lt;/span&gt;　　即寻找目标&lt;em&gt;，&lt;/em&gt;&lt;nobr aria-hidden=&quot;true&quot;&gt;&lt;/nobr&gt;使得目标 （-1）&lt;nobr aria-hidden=&quot;true&quot;&gt;&lt;/nobr&gt;·&lt;mi&gt;&lt;em&gt;S&lt;/em&gt;&lt;/mi&gt;&lt;mi&gt;&lt;em&gt;h&lt;/em&gt;&lt;/mi&gt;&lt;mi&gt;&lt;em&gt;a&lt;/em&gt;&lt;/mi&gt;&lt;mi&gt;&lt;em&gt;r&lt;/em&gt;&lt;/mi&gt;&lt;mi&gt;&lt;em&gt;p&lt;/em&gt;&lt;/mi&gt;&lt;mi&gt;&lt;em&gt;e&lt;/em&gt;&lt;/mi&gt;&lt;mi&gt;&lt;em&gt;R&lt;/em&gt;&lt;/mi&gt;&lt;mi&gt;&lt;em&gt;a&lt;/em&gt;&lt;/mi&gt;&lt;mi&gt;&lt;em&gt;t&lt;/em&gt;&lt;/mi&gt;&lt;mi&gt;&lt;em&gt;i&lt;/em&gt;&lt;/mi&gt;&lt;mi&gt;&lt;em&gt;o &lt;span style=&quot;color:#00192f;font-family:Microsoft Yahei, Open Sans, Helvetica Neue, Helvetica, sans-serif;&quot;&gt;&lt;span style=&quot;font-size: 14px;background-color: rgb(255, 255, 255);&quot;&gt; &lt;/span&gt;&lt;/span&gt;&lt;/em&gt;&lt;/mi&gt;最小&lt;/p&gt;&lt;p&gt;　　此优化方法下的行业配置权重&lt;mi&gt;&lt;em&gt;&lt;span style=&quot;color:#00192f;font-family:Microsoft Yahei, Open Sans, Helvetica Neue, Helvetica, sans-serif;&quot;&gt;&lt;span style=&quot;font-size: 14px;background-color: rgb(255, 255, 255);&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/em&gt;&lt;/mi&gt;&lt;/p&gt;&lt;p&gt;&lt;mi&gt;&lt;em&gt;&lt;span style=&quot;color:#00192f;font-family:Microsoft Yahei, Open Sans, Helvetica Neue, Helvetica, sans-serif;&quot;&gt;&lt;span style=&quot;font-size: 14px;background-color: rgb(255, 255, 255);&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/span&gt;&lt;/em&gt;&lt;/mi&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.5874285714285714&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQT2AYGeBnpnYE8hMoCkKvATKzHibOgGXLYDuw3nkgpxsDk0oDndbICYgEqehZjNSicXUr3r5T5nZvRg/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;875&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p&gt;　　&lt;/p&gt;&lt;p&gt;　　最大夏普配置，最小方差模型的配置权重中，可以看到有标的权重过于集中，针对这种情况可以考虑针对模型加入更多的约束条件，比如加入收益预期。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2 mpa-is-content=&quot;t&quot; style=&quot;margin: 5px;padding-right: 10px;padding-left: 10px;font-weight: bold;white-space: normal;max-width: 100%;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);border-left: 5px solid rgb(54, 116, 201);line-height: 32px;color: rgb(54, 116, 201);border-top-color: rgb(54, 116, 201);border-bottom-color: rgb(54, 116, 201);border-right-color: rgb(54, 116, 201);box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;3、组合收益表现&lt;/strong&gt;&lt;/h2&gt;&lt;p&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;&lt;br&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;&lt;br&gt;&lt;/strong&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;　　模型模拟进行了季度调仓，保存调仓时点计算出的权重结构，构造回测，以下是不同组合优化的净值表现&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-ratio=&quot;0.5268571428571428&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQT2AYGeBnpnYE8hMoCkKvATUicSzFtIcQCEiaBD5ThEkuPicIGmkurIxsH0TPXtS8QvvA3fd41ribcpVA/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;875&quot; style=&quot;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;ul class=&quot; list-paddingleft-2&quot; style=&quot;list-style-type: disc;&quot;&gt;&lt;li&gt;&lt;p&gt;红色的线是等权重配置，可以看到最小方差、风险平价、等波动率优化后是有增益效果&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;紫色的线是最波动最小，即最小方差配置，净值表现最好&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;最大夏普和最小方差的是组合优化表现的两个极端&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;中间三种组合方法的区分度还不是很明显&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p style=&quot;text-indent: 0em;white-space: normal;text-align: left;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　不同优化方法对应的风险指标&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;img class=&quot;&quot; data-copyright=&quot;0&quot; data-cropselx1=&quot;0&quot; data-cropselx2=&quot;556&quot; data-cropsely1=&quot;0&quot; data-cropsely2=&quot;126&quot; data-ratio=&quot;0.2554002541296061&quot; data-s=&quot;300,640&quot; src=&quot;https://mmbiz.qpic.cn/mmbiz_png/zEy1aCmAZQT2AYGeBnpnYE8hMoCkKvAT4gZnLXqJdsHttGtZKHiaiaYyD0wclEUudOV6MmwCRKeSo4KjFNFI93oQ/640?wx_fmt=png&quot; data-type=&quot;png&quot; data-w=&quot;787&quot; style=&quot;width: 556px;height: 142px;&quot;&gt;&lt;/p&gt;&lt;p style=&quot;text-align: center;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;ul class=&quot; list-paddingleft-2&quot; style=&quot;list-style-type: disc;&quot;&gt;&lt;li&gt;&lt;p&gt;组合优化处理后普遍优于平均分仓的效果&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;最小方差组合效果显著，累计收益从39.2%提升至76.9%，年化收益从7.98%提升至12.85%，最大回撤从56.46%降低至40.51%，夏普比率从0.12提升至0.41&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;最大夏普模型表现最差，且模型持股过于集中&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;几种优化方法整体提升效果一般，区分度不够明显，如年化波动0.2467略微降低至0.2187，最大回撤仅从56.46%优化到47.87%&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2 mpa-is-content=&quot;t&quot; style=&quot;margin: 5px;padding-right: 10px;padding-left: 10px;font-weight: bold;white-space: normal;max-width: 100%;letter-spacing: 0.544px;background-color: rgb(255, 255, 255);border-left: 5px solid rgb(54, 116, 201);line-height: 32px;color: rgb(54, 116, 201);border-top-color: rgb(54, 116, 201);border-bottom-color: rgb(54, 116, 201);border-right-color: rgb(54, 116, 201);text-align: left;box-sizing: border-box !important;overflow-wrap: break-word !important;&quot;&gt;&lt;strong style=&quot;color: rgb(51, 51, 51);font-size: 17px;&quot;&gt;4、结束语&lt;/strong&gt;&lt;/h2&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;　　组合优化方法是分散化投资的理论工具，分散化投资降低风险，是寻找相关度低的资产作为投资标的，而A股市场标的基本都有着较高的贝塔值，这使得所有行业同样与大盘有着一致的牛熊，因此组合优化效果不尽如人意，基于组合优化方法，在更为宏观的市场领域内，选择相关度低的资产进行配置，这样的场景能更好的发挥组合优化模型的工具优势。&lt;/p&gt;&lt;p style=&quot;white-space: normal;&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;　　另外，针对策略持仓的组合优化方法，目前聚宽平台已经提供了优化器功能，支持对股票、基金进行投资优化，大家不妨去官网试试吧。&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;
                &lt;/div&gt;
                &lt;script nonce=&quot;504106617&quot; type=&quot;text/javascript&quot;&gt;
                    var first_sceen__time = (+new Date());

                    if (&quot;&quot; == 1 &amp;&amp; document.getElementById(&#39;js_content&#39;)) {
                        document.getElementById(&#39;js_content&#39;).addEventListener(&quot;selectstart&quot;,function(e){ e.preventDefault(); });
                    }

                    
                    (function(){
                        if (navigator.userAgent.indexOf(&quot;WindowsWechat&quot;) != -1){
                            var link = document.createElement(&#39;link&#39;);
                            var head = document.getElementsByTagName(&#39;head&#39;)[0];
                            link.rel = &#39;stylesheet&#39;;
                            link.type = &#39;text/css&#39;;
                            link.href = &quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/winwx42f400.css&quot;;
                            head.appendChild(link);
                        }
                    })();
                &lt;/script&gt;

                
                &lt;div class=&quot;ct_mpda_wrp&quot; id=&quot;js_sponsor_ad_area&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;
                
                
                &lt;div class=&quot;read-more__area&quot; id=&quot;js_more_read_area&quot; style=&quot;display:none;&quot;&gt;
                    
                &lt;/div&gt;

                
                                &lt;div class=&quot;reward_area tc reward_area_primary&quot; id=&quot;js_preview_reward_author&quot; style=&quot;display:none;&quot;&gt;
                    &lt;div class=&quot;reward-avatar&quot; style=&quot;display: none;&quot; id=&quot;js_preview_reward_author_avatar&quot;&gt;
                        &lt;img src=&quot;&quot; alt=&quot;&quot; id=&quot;js_preview_reward_author_head&quot;&gt;
                    &lt;/div&gt;
                    
                                        &lt;div class=&quot;reward-author&quot; id=&quot;js_preview_reward_author_name&quot;&gt;Syylt&lt;/div&gt;
                                        &lt;p class=&quot;reward_tips&quot; id=&quot;js_preview_reward_author_wording&quot; style=&quot;display:none;&quot;&gt;&lt;/p&gt;
                    &lt;p&gt;
                        &lt;a class=&quot;reward_button&quot; id=&quot;js_preview_reward_author_link&quot; href=&quot;##&quot;&gt;&lt;span id=&quot;js_preview_reward_link_text&quot;&gt;赞赏&lt;/span&gt;&lt;/a&gt;
                    &lt;/p&gt;
                &lt;/div&gt;

                &lt;div class=&quot;reward_qrcode_area reward_area tc&quot; id=&quot;js_preview_reward_qrcode&quot; style=&quot;display:none;&quot;&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;长按二维码向我转账&lt;/p&gt;
                    &lt;p id=&quot;js_preview_reward_ios_wording&quot; class=&quot;reward_tips&quot; style=&quot;display:none;&quot;&gt;&lt;/p&gt;
                    &lt;span class=&quot;reward_qrcode_img_wrp&quot;&gt;&lt;img class=&quot;reward_qrcode_img&quot; src=&quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_reward_qrcode.2x42f400.png&quot;&gt;&lt;/span&gt;
                    &lt;p class=&quot;tips_global&quot;&gt;受苹果公司新规定影响，微信 iOS 版的赞赏功能被关闭，可通过二维码转账支持公众号。&lt;/p&gt;
                &lt;/div&gt;
                                
                
                            &lt;/div&gt;
                                    
                        


                        
            &lt;ul id=&quot;js_hotspot_area&quot; class=&quot;article_extend_area&quot;&gt;&lt;/ul&gt;


            

            


&lt;div class=&quot;rich_media_tool&quot; id=&quot;js_toobar3&quot;&gt;

        &lt;a class=&quot;media_tool_meta meta_primary&quot; id=&quot;js_view_source&quot; href=&quot;##&quot;&gt;阅读原文&lt;/a&gt;
        &lt;div id=&quot;js_read_area3&quot; class=&quot;media_tool_meta tips_global_primary meta_primary&quot; style=&quot;display:none;&quot;&gt;阅读 &lt;span id=&quot;readNum3&quot;&gt;&lt;/span&gt;&lt;/div&gt;

    &lt;span style=&quot;display:none;&quot; class=&quot;media_tool_meta meta_extra meta_praise&quot; id=&quot;like_old&quot;&gt;
        &lt;i class=&quot;icon_praise_gray&quot;&gt;&lt;/i&gt;&lt;span class=&quot;praise_num&quot; id=&quot;likeNum_old&quot;&gt;&lt;/span&gt;
    &lt;/span&gt;

    &lt;span style=&quot;display:none;&quot; class=&quot;media_tool_meta meta_extra meta_like&quot; id=&quot;like3&quot;&gt;
        &lt;button class=&quot;like_btn&quot; id=&quot;js_like_btn&quot;&gt; 
          好看&lt;span class=&quot;like_num&quot; id=&quot;likeNum3&quot;&gt;&lt;/span&gt;
        &lt;/button&gt;
    &lt;/span&gt;

    &lt;div id=&quot;js_like_educate&quot; style=&quot;display:none&quot;&gt;
        &lt;div class=&quot;weui-mask&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;weui-dialog weui-dialog_haokan&quot;&gt;
        &lt;div class=&quot;weui-dialog__hd&quot;&gt;&lt;strong class=&quot;weui-dialog__title&quot; id=&quot;educate_title&quot;&gt;已推荐到看一看&lt;/strong&gt;&lt;/div&gt;
        &lt;div class=&quot;weui-dialog__bd&quot;&gt;
          &lt;img class=&quot;pic_haokan&quot; src=&quot;//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_haokan42f400.png&quot;&gt;
            你的朋友可以在“发现”-“看一看”看到你认为好看的文章。        &lt;/div&gt;
        &lt;div class=&quot;weui-dialog__ft&quot; id=&quot;educate_btn&quot; style=&quot;display: none&quot;&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_default&quot; id=&quot;js_cancel&quot;&gt;取消&lt;/a&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_confirm&quot;&gt;推荐&lt;/a&gt;
        &lt;/div&gt;
        &lt;div class=&quot;weui-dialog__ft&quot; id=&quot;educate_btn2&quot; style=&quot;display: none&quot;&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_acknowledge&quot;&gt;我知道了&lt;/a&gt;
        &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    &lt;div id=&quot;js_unlike_educate&quot; style=&quot;display:none&quot;&gt;
        &lt;div class=&quot;weui-mask&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;weui-dialog&quot;&gt;
        
        &lt;div class=&quot;weui-dialog__bd&quot;&gt;
            已取消，“好看”想法已同步删除        &lt;/div&gt;
        &lt;div class=&quot;weui-dialog__ft&quot;&gt;
          &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_unlike_know&quot;&gt;知道了&lt;/a&gt;
        &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;

    
    &lt;/div&gt;


&lt;div class=&quot;like_comment_wrp&quot; id=&quot;js_a_like_comment&quot; style=&quot;display: none;&quot;&gt;
  &lt;div class=&quot;like_comment_inner&quot;&gt;
    &lt;div class=&quot;like_comment_hd&quot; style=&quot;display:none&quot; id=&quot;js_like_title&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;like_comment_bd&quot;&gt;
      &lt;div class=&quot;tips_global_primary like_comment_tips&quot;&gt;
        &lt;i class=&quot;weui-icon-success&quot;&gt;&lt;/i&gt;已推荐到看一看&lt;a href=&quot;javascript:;&quot; class=&quot;like_comment_share_link&quot; id=&quot;js_a_like_comment_share&quot;&gt;和朋友分享想法&lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=&quot;like_comment_ft&quot;&gt;
      &lt;span id=&quot;js_a_like_comment_msg&quot; class=&quot;like_comment_msg&quot; style=&quot;visibility:hidden&quot;&gt;最多200字，当前共&lt;span id=&quot;js_a_like_current_cnt&quot;&gt;&lt;/span&gt;字&lt;/span&gt;
      &lt;button class=&quot;like_comment_btn&quot; disabled id=&quot;js_a_like_confirm&quot;&gt;发送&lt;/button&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

&lt;div id=&quot;js_like_toast&quot; style=&quot;display: none;&quot;&gt;
  &lt;div class=&quot;weui-mask_transparent&quot;&gt;&lt;/div&gt;
  &lt;div class=&quot;weui-toast&quot;&gt;
    &lt;i class=&quot;weui-icon-success-no-circle weui-icon_toast&quot;&gt;&lt;/i&gt;
    &lt;p class=&quot;weui-toast__content&quot; id=&quot;js_toast_msg&quot;&gt;已发送&lt;/p&gt;
  &lt;/div&gt;
&lt;/div&gt;


&lt;div style=&quot;display: none;&quot; id=&quot;js_b_comment_panel&quot; class=&quot;like_comment_primary_pop&quot;&gt;
  &lt;div class=&quot;like_comment_primary_wrp&quot; id=&quot;js_b_wrp&quot;&gt;
    &lt;div class=&quot;like_comment_primary_inner&quot;&gt;
      &lt;div class=&quot;like_comment_primary_hd&quot;&gt;
        &lt;h4 class=&quot;like_comment_primary_title&quot;&gt;
          朋友将在看一看看到        &lt;/h4&gt;
        &lt;button id=&quot;js_b_like_confirm&quot; class=&quot;like_comment_primary_btn&quot;&gt;确定&lt;/button&gt;
      &lt;/div&gt;
      &lt;div id=&quot;js_b_comment_text_first&quot; class=&quot;like_comment_primary_bd&quot;&gt;
        &lt;span class=&quot;tips_global_primary&quot;&gt;
          分享你的想法...        &lt;/span&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;like_comment_primary_mask&quot; id=&quot;js_mask_1&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div style=&quot;display: none;&quot; id=&quot;js_b_comment_final&quot;&gt;
  &lt;div class=&quot;like_comment_primary_wrp editing&quot; id=&quot;js_comment_wrp&quot;&gt;
    &lt;div class=&quot;like_comment_primary_inner&quot;&gt;
      &lt;div class=&quot;like_comment_primary_hd&quot;&gt;
        &lt;button class=&quot;like_comment_primary_cancel&quot; id=&quot;js_b_comment_cancel&quot;&gt;取消&lt;/button&gt;
        &lt;h4 class=&quot;like_comment_primary_title&quot;&gt; 分享想法到看一看 &lt;/h4&gt;
        &lt;button class=&quot;like_comment_primary_btn&quot; id=&quot;js_b_comment_confirm&quot;&gt;确定&lt;/button&gt;
      &lt;/div&gt;
      &lt;div class=&quot;like_comment_primary_bd&quot;&gt;
        &lt;textarea class=&quot;like_comment_textarea weui-textarea&quot; placeholder=&quot;分享你的想法...&quot; id=&quot;js_b_comment_text_second&quot;&gt;&lt;/textarea&gt;
      &lt;/div&gt;
      &lt;span class=&quot;like_comment_msg&quot; id=&quot;js_b_like_comment_msg&quot; style=&quot;visibility: hidden;&quot;&gt;最多200字，当前共&lt;span id=&quot;js_b_like_current_cnt&quot;&gt;&lt;/span&gt;字&lt;/span&gt;
    &lt;/div&gt;
  &lt;/div&gt;
  &lt;div class=&quot;like_comment_primary_mask&quot; id=&quot;js_mask_2&quot;&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div id=&quot;js_loading&quot; style=&quot; display: none;&quot;&gt;
    &lt;div class=&quot;weui-mask_transparent&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;weui-toast&quot;&gt;
        &lt;i class=&quot;weui-loading weui-icon_toast&quot;&gt;&lt;/i&gt;
        &lt;p class=&quot;weui-toast__content&quot;&gt;发送中&lt;/p&gt;
    &lt;/div&gt;
&lt;/div&gt;

&lt;div id=&quot;js_fail&quot; style=&quot;display:none&quot;&gt;
    &lt;div class=&quot;weui-mask&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;weui-dialog&quot;&gt;
    &lt;div class=&quot;weui-dialog__bd&quot;&gt;
        网络异常，请稍后重试    &lt;/div&gt;
    &lt;div class=&quot;weui-dialog__ft&quot;&gt;
      &lt;a href=&quot;javascript:;&quot; class=&quot;weui-dialog__btn weui-dialog__btn_primary&quot; id=&quot;js_fail_inform&quot;&gt;知道了&lt;/a&gt;
    &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;



                        &lt;div class=&quot;rich_media_tool&quot; id=&quot;js_sg_bar&quot;&gt;

                                &lt;a class=&quot;media_tool_meta meta_primary&quot; href=&quot;https://www.joinquant.com/post/16172&quot; target=&quot;_blank&quot;&gt;阅读原文&lt;/a&gt;
                                
            &lt;/div&gt;
                      &lt;/div&gt;
        &lt;/div&gt;

        &lt;div class=&quot;rich_media_area_primary sougou&quot; id=&quot;sg_tj&quot; style=&quot;display:none&quot;&gt;&lt;/div&gt;


        
        &lt;div class=&quot;rich_media_area_extra&quot;&gt;
          &lt;div class=&quot;rich_media_area_extra_inner&quot;&gt;
              
              &lt;div id=&quot;js_share_appmsg&quot;&gt;
              &lt;/div&gt;

              
                            &lt;div class=&quot;mpda_bottom_container&quot; id=&quot;js_bottom_ad_area&quot;&gt;&lt;/div&gt;
                            
              &lt;div id=&quot;js_iframetest&quot; style=&quot;display:none;&quot;&gt;&lt;/div&gt;
                            
                            
              &lt;div class=&quot;rich_media_extra rich_media_extra_discuss&quot; id=&quot;js_cmt_container&quot; style=&quot;display:none&quot;&gt;
                

                
                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_friend_cmt_area&quot; style=&quot;display:none&quot;&gt;
                  
                  
                  
                &lt;/div&gt;

                                &lt;div class=&quot;discuss_mod&quot; id=&quot;js_cmt_area&quot; style=&quot;display:none&quot;&gt;
                &lt;/div&gt;
                              &lt;/div&gt;
          &lt;/div&gt;
        &lt;/div&gt;

        
        &lt;div id=&quot;js_pc_qr_code&quot; class=&quot;qr_code_pc_outer&quot; style=&quot;display:none;&quot;&gt;
            &lt;div class=&quot;qr_code_pc_inner&quot;&gt;
                &lt;div class=&quot;qr_code_pc&quot;&gt;
                    &lt;img id=&quot;js_pc_qr_code_img&quot; class=&quot;qr_code_pc_img&quot;&gt;
                    &lt;p&gt;微信扫一扫&lt;br&gt;关注该公众号&lt;/p&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;</description>
<author>Syylt</author>
<guid isPermaLink="false">2019-01-04-1000000084</guid>
<pubDate>Fri, 04 Jan 2019 00:00:00 +0800</pubDate>
</item>
</channel>
</rss>
